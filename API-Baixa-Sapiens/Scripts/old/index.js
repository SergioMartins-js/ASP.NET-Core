(function (e) { function t(a) { if (o[a]) return o[a].exports; var n = o[a] = { i: a, l: !1, exports: {} }; return e[a].call(n.exports, n, n.exports, t), n.l = !0, n.exports } var o = {}; return t.m = e, t.c = o, t.d = function (e, o, a) { t.o(e, o) || Object.defineProperty(e, o, { configurable: !1, enumerable: !0, get: a }) }, t.n = function (e) { var o = e && e.__esModule ? function () { return e['default'] } : function () { return e }; return t.d(o, 'a', o), o }, t.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, t.p = '', t(t.s = 120) })([function (e, t, o) { var a = o(1), n = o(20), r = o(12), i = o(16), l = o(23), s = 'prototype', d = function (e, t, o) { var p = e & d.F, c = e & d.G, g = e & d.S, u = e & d.P, m = e & d.B, _ = c ? a : g ? a[t] || (a[t] = {}) : (a[t] || {})[s], f = c ? n : n[t] || (n[t] = {}), y = f[s] || (f[s] = {}), h, b, v, x; for (h in c && (o = t), o) b = !p && _ && void 0 !== _[h], v = (b ? _ : o)[h], x = m && b ? l(v, a) : u && 'function' == typeof v ? l(Function.call, v) : v, _ && i(_, h, v, e & d.U), f[h] != v && r(f, h, x), u && y[h] != v && (y[h] = v) }; a.core = n, d.F = 1, d.G = 2, d.S = 4, d.P = 8, d.B = 16, d.W = 32, d.U = 64, d.R = 128, e.exports = d }, function (e) { var t = e.exports = 'undefined' != typeof window && window.Math == Math ? window : 'undefined' != typeof self && self.Math == Math ? self : Function('return this')(); 'number' == typeof __g && (__g = t) }, function (e, t, o) { var a = o(60)('wks'), n = o(22), r = o(1).Symbol, i = 'function' == typeof r, l = e.exports = function (e) { return a[e] || (a[e] = i && r[e] || (i ? r : n)('Symbol.' + e)) }; l.store = a }, function (e, t, o) { var a = o(0); a(a.S + a.F * !o(7), 'Object', { defineProperty: o(9).f }) }, function (e, t, o) { o(84)('asyncIterator') }, function (e) { e.exports = function (e) { return 'object' == typeof e ? null !== e : 'function' == typeof e } }, function (e, t, o) { 'use strict'; var a = o(1), n = o(15), r = o(7), i = o(0), l = o(16), s = o(123).KEY, d = o(8), p = o(60), c = o(40), g = o(22), u = o(2), m = o(85), _ = o(84), f = o(124), y = o(88), h = o(10), b = o(5), v = o(27), x = o(37), w = o(38), C = o(42), P = o(126), I = o(44), T = o(9), A = o(26), E = I.f, M = T.f, S = P.f, D = a.Symbol, O = a.JSON, R = O && O.stringify, z = 'prototype', N = u('_hidden'), B = u('toPrimitive'), Z = {}.propertyIsEnumerable, U = p('symbol-registry'), G = p('symbols'), H = p('op-symbols'), F = Object[z], Y = 'function' == typeof D, W = a.QObject, V = !W || !W[z] || !W[z].findChild, q = r && d(function () { return 7 != C(M({}, 'a', { get: function () { return M(this, 'a', { value: 7 }).a } })).a }) ? function (e, t, o) { var a = E(F, t); a && delete F[t], M(e, t, o), a && e !== F && M(F, t, a) } : M, K = function (e) { var t = G[e] = C(D[z]); return t._k = e, t }, J = Y && 'symbol' == typeof D.iterator ? function (e) { return 'symbol' == typeof e } : function (e) { return e instanceof D }, X = function (e, t, o) { return e === F && X(H, t, o), h(e), t = x(t, !0), h(o), n(G, t) ? (o.enumerable ? (n(e, N) && e[N][t] && (e[N][t] = !1), o = C(o, { enumerable: w(0, !1) })) : (!n(e, N) && M(e, N, w(1, {})), e[N][t] = !0), q(e, t, o)) : M(e, t, o) }, Q = function (e, t) { h(e); for (var o = f(t = v(t)), a = 0, n = o.length, r; n > a;)X(e, r = o[a++], t[r]); return e }, $ = function (e) { var t = Z.call(this, e = x(e, !0)); return this === F && n(G, e) && !n(H, e) ? !1 : t || !n(this, e) || !n(G, e) || n(this, N) && this[N][e] ? t : !0 }, ee = function (e, t) { if (e = v(e), t = x(t, !0), e !== F || !n(G, t) || n(H, t)) { var o = E(e, t); return o && n(G, t) && !(n(e, N) && e[N][t]) && (o.enumerable = !0), o } }, te = function (e) { for (var t = S(v(e)), o = [], a = 0, r; t.length > a;)n(G, r = t[a++]) || r == N || r == s || o.push(r); return o }, oe = function (e) { for (var t = e === F, o = S(t ? H : v(e)), a = [], r = 0, i; o.length > r;)n(G, i = o[r++]) && (!t || n(F, i)) && a.push(G[i]); return a }; Y || (D = function () { if (this instanceof D) throw TypeError('Symbol is not a constructor!'); var e = g(0 < arguments.length ? arguments[0] : void 0), t = function (o) { this === F && t.call(H, o), n(this, N) && n(this[N], e) && (this[N][e] = !1), q(this, e, w(1, o)) }; return r && V && q(F, e, { configurable: !0, set: t }), K(e) }, l(D[z], 'toString', function () { return this._k }), I.f = ee, T.f = X, o(43).f = P.f = te, o(50).f = $, o(66).f = oe, r && !o(21) && l(F, 'propertyIsEnumerable', $, !0), m.f = function (e) { return K(u(e)) }), i(i.G + i.W + i.F * !Y, { Symbol: D }); for (var ae = ['hasInstance', 'isConcatSpreadable', 'iterator', 'match', 'replace', 'search', 'species', 'split', 'toPrimitive', 'toStringTag', 'unscopables'], ne = 0; ae.length > ne;)u(ae[ne++]); for (var j = A(u.store), re = 0; j.length > re;)_(j[re++]); i(i.S + i.F * !Y, 'Symbol', { for: function (e) { return n(U, e += '') ? U[e] : U[e] = D(e) }, keyFor: function (e) { if (!J(e)) throw TypeError(e + ' is not a symbol!'); for (var t in U) if (U[t] === e) return t }, useSetter: function () { V = !0 }, useSimple: function () { V = !1 } }), i(i.S + i.F * !Y, 'Object', { create: function (e, t) { return t === void 0 ? C(e) : Q(C(e), t) }, defineProperty: X, defineProperties: Q, getOwnPropertyDescriptor: ee, getOwnPropertyNames: te, getOwnPropertySymbols: oe }), O && i(i.S + i.F * (!Y || d(function () { var e = D(); return '[null]' != R([e]) || '{}' != R({ a: e }) || '{}' != R(Object(e)) })), 'JSON', { stringify: function (e) { for (var t = [e], o = 1, a, n; arguments.length > o;)t.push(arguments[o++]); if (n = a = t[1], (b(a) || void 0 !== e) && !J(e)) return y(a) || (a = function (e, t) { if ('function' == typeof n && (t = n.call(this, e, t)), !J(t)) return t }), t[1] = a, R.apply(O, t) } }), D[z][B] || o(12)(D[z], B, D[z].valueOf), c(D, 'Symbol'), c(Math, 'Math', !0), c(a.JSON, 'JSON', !0) }, function (e, t, o) { e.exports = !o(8)(function () { return 7 != Object.defineProperty({}, 'a', { get: function () { return 7 } }).a }) }, function (e) { e.exports = function (e) { try { return !!e() } catch (t) { return !0 } } }, function (e, t, o) { var a = o(10), n = o(86), r = o(37), i = Object.defineProperty; t.f = o(7) ? Object.defineProperty : function (e, t, o) { if (a(e), t = r(t, !0), a(o), n) try { return i(e, t, o) } catch (t) { } if ('get' in o || 'set' in o) throw TypeError('Accessors not supported!'); return 'value' in o && (e[t] = o.value), e } }, function (e, t, o) { var a = o(5); e.exports = function (e) { if (!a(e)) throw TypeError(e + ' is not an object!'); return e } }, function (e, t, o) { 'use strict'; function a(e) { return '[object Array]' === p.call(e) } function n(e) { return null !== e && 'object' == typeof e } function r(e) { return '[object Function]' === p.call(e) } function s(e, t) { if (null !== e && 'undefined' != typeof e) if ('object' != typeof e && (e = [e]), a(e)) for (var o = 0, n = e.length; o < n; o++)t.call(null, e[o], o, e); else for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.call(null, e[r], r, e) } function i() { function e(e, o) { t[o] = 'object' == typeof t[o] && 'object' == typeof e ? i(t[o], e) : e } for (var t = {}, o = 0, a = arguments.length; o < a; o++)s(arguments[o], e); return t } var l = o(111), d = o(163), p = Object.prototype.toString; e.exports = { isArray: a, isArrayBuffer: function (e) { return '[object ArrayBuffer]' === p.call(e) }, isBuffer: d, isFormData: function (e) { return 'undefined' != typeof FormData && e instanceof FormData }, isArrayBufferView: function (e) { var t; return t = 'undefined' != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(e) : e && e.buffer && e.buffer instanceof ArrayBuffer, t }, isString: function (e) { return 'string' == typeof e }, isNumber: function (e) { return 'number' == typeof e }, isObject: n, isUndefined: function (e) { return 'undefined' == typeof e }, isDate: function (e) { return '[object Date]' === p.call(e) }, isFile: function (e) { return '[object File]' === p.call(e) }, isBlob: function (e) { return '[object Blob]' === p.call(e) }, isFunction: r, isStream: function (e) { return n(e) && r(e.pipe) }, isURLSearchParams: function (e) { return 'undefined' != typeof URLSearchParams && e instanceof URLSearchParams }, isStandardBrowserEnv: function () { return 'undefined' != typeof navigator && 'ReactNative' === navigator.product ? !1 : 'undefined' != typeof window && 'undefined' != typeof document }, forEach: s, merge: i, extend: function (e, t, o) { return s(t, function (t, a) { e[a] = o && 'function' == typeof t ? l(t, o) : t }), e }, trim: function (e) { return e.replace(/^\s*/, '').replace(/\s*$/, '') } } }, function (e, t, o) { var a = o(9), n = o(38); e.exports = o(7) ? function (e, t, o) { return a.f(e, t, n(1, o)) } : function (e, t, o) { return e[t] = o, e } }, function (e, t, o) { var a = o(0); a(a.S, 'Object', { create: o(42) }) }, function (e, t, o) { var a = o(0); a(a.S, 'Object', { setPrototypeOf: o(90).set }) }, function (e) { var t = {}.hasOwnProperty; e.exports = function (e, o) { return t.call(e, o) } }, function (e, t, o) { var a = o(1), n = o(12), r = o(15), i = o(22)('src'), l = 'toString', s = Function[l], d = ('' + s).split(l); o(20).inspectSource = function (e) { return s.call(e) }, (e.exports = function (e, t, o, l) { var s = 'function' == typeof o; s && (r(o, 'name') || n(o, 'name', t)); e[t] === o || (s && (r(o, i) || n(o, i, e[t] ? '' + e[t] : d.join(t + ''))), e === a ? e[t] = o : l ? e[t] ? e[t] = o : n(e, t, o) : (delete e[t], n(e, t, o))) })(Function.prototype, l, function () { return 'function' == typeof this && this[i] || s.call(this) }) }, function (e, t) { var o = Math.sin, a = Math.LN2, n = Math.log, r = Math.cos, l = Math.PI, s = Math.min, d = Math.abs, c = Math.sqrt, i = Math.ceil, p = Math.floor, g = Math.max, u = Math.round, m = Math.pow; (function (e, o) { o(t) })(this, function (e) { 'use strict'; function t(e) { var t, o, a, n; for (o = 1, a = arguments.length; o < a; o++)for (t in n = arguments[o], n) e[t] = n[t]; return e } function _(e, t) { var o = Array.prototype.slice; if (e.bind) return e.bind.apply(e, o.call(arguments, 1)); var a = o.call(arguments, 2); return function () { return e.apply(t, a.length ? a.concat(o.call(arguments)) : arguments) } } function f(e) { return e._leaflet_id = e._leaflet_id || ++yt, e._leaflet_id } function y(e, t, o) { var a, n, r, i; return i = function () { a = !1, n && (r.apply(o, n), n = !1) }, r = function () { a ? n = arguments : (e.apply(o, arguments), setTimeout(i, t), a = !0) }, r } function h(e, t, o) { var a = t[1], n = t[0], r = a - n; return e === a && o ? e : ((e - n) % r + r) % r + n } function b() { return !1 } function v(e, t) { var o = m(10, t || 5); return u(e * o) / o } function x(e) { return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, '') } function k(e) { return x(e).split(/\s+/) } function w(e, t) { for (var o in e.hasOwnProperty('options') || (e.options = e.options ? ft(e.options) : {}), t) e.options[o] = t[o]; return e.options } function C(e, t, o) { var a = []; for (var n in e) a.push(encodeURIComponent(o ? n.toUpperCase() : n) + '=' + encodeURIComponent(e[n])); return (t && -1 !== t.indexOf('?') ? '&' : '?') + a.join('&') } function P(e, t) { return e.replace(ht, function (e, o) { var a = t[o]; if (a === void 0) throw new Error('No value provided for variable ' + e); else 'function' == typeof a && (a = a(t)); return a }) } function I(e, t) { for (var o = 0; o < e.length; o++)if (e[o] === t) return o; return -1 } function T(e) { return window['webkit' + e] || window['moz' + e] || window['ms' + e] } function A(e) { var t = +new Date, o = g(0, 16 - (t - xt)); return xt = t + o, window.setTimeout(e, o) } function E(e, t, o) { return o && Lt === A ? void e.call(t) : Lt.call(window, _(e, t)) } function M(e) { e && kt.call(window, e) } function S() { } function D(e) { if (L && L.Mixin) { e = bt(e) ? e : [e]; for (var t = 0; t < e.length; t++)e[t] === L.Mixin.Events && console.warn('Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.', new Error().stack) } } function O(e, t, o) { this.x = o ? u(e) : e, this.y = o ? u(t) : t } function R(e, t, o) { return e instanceof O ? e : bt(e) ? new O(e[0], e[1]) : void 0 === e || null === e ? e : 'object' == typeof e && 'x' in e && 'y' in e ? new O(e.x, e.y) : new O(e, t, o) } function z(e, t) { if (e) for (var o = t ? [e, t] : e, a = 0, n = o.length; a < n; a++)this.extend(o[a]) } function N(e, t) { return !e || e instanceof z ? e : new z(e, t) } function B(e, t) { if (e) for (var o = t ? [e, t] : e, a = 0, n = o.length; a < n; a++)this.extend(o[a]) } function Z(e, t) { return e instanceof B ? e : new B(e, t) } function j(e, t, o) { if (isNaN(e) || isNaN(t)) throw new Error('Invalid LatLng object: (' + e + ', ' + t + ')'); this.lat = +e, this.lng = +t, o !== void 0 && (this.alt = +o) } function U(e, t, o) { return e instanceof j ? e : bt(e) && 'object' != typeof e[0] ? 3 === e.length ? new j(e[0], e[1], e[2]) : 2 === e.length ? new j(e[0], e[1]) : null : void 0 === e || null === e ? e : 'object' == typeof e && 'lat' in e ? new j(e.lat, 'lng' in e ? e.lng : e.lon, e.alt) : void 0 === t ? null : new j(e, t, o) } function G(e, t, o, a) { return bt(e) ? (this._a = e[0], this._b = e[1], this._c = e[2], void (this._d = e[3])) : void (this._a = e, this._b = t, this._c = o, this._d = a) } function H(e, t, o, a) { return new G(e, t, o, a) } function F(e) { return document.createElementNS('http://www.w3.org/2000/svg', e) } function Y(e, t) { var o = '', a, n, r, i, l, s; for (a = 0, r = e.length; a < r; a++) { for (l = e[a], n = 0, i = l.length; n < i; n++)s = l[n], o += (n ? 'L' : 'M') + s.x + ' ' + s.y; o += t ? ao ? 'z' : 'x' : '' } return o || 'M0 0' } function W(e) { return 0 <= navigator.userAgent.toLowerCase().indexOf(e) } function V(e, t, o, a) { return 'touchstart' === t ? K(e, o, a) : 'touchmove' === t ? ee(e, o, a) : 'touchend' === t && te(e, o, a), this } function q(e, t, o) { var a = e['_leaflet_' + t + o]; return 'touchstart' === t ? e.removeEventListener(io, a, !1) : 'touchmove' === t ? e.removeEventListener(lo, a, !1) : 'touchend' === t && (e.removeEventListener(so, a, !1), e.removeEventListener(po, a, !1)), this } function K(e, t, o) { var a = _(function (o) { if ('mouse' !== o.pointerType && o.pointerType !== o.MSPOINTER_TYPE_MOUSE && o.pointerType !== o.MSPOINTER_TYPE_MOUSE) if (0 > co.indexOf(o.target.tagName)) ge(o); else return; $(o, t) }); e['_leaflet_touchstart' + o] = a, e.addEventListener(io, a, !1), uo || (document.documentElement.addEventListener(io, J, !0), document.documentElement.addEventListener(lo, X, !0), document.documentElement.addEventListener(so, Q, !0), document.documentElement.addEventListener(po, Q, !0), uo = !0) } function J(t) { go[t.pointerId] = t, mo++ } function X(t) { go[t.pointerId] && (go[t.pointerId] = t) } function Q(t) { delete go[t.pointerId], mo-- } function $(t, e) { for (var o in t.touches = [], go) t.touches.push(go[o]); t.changedTouches = [t], e(t) } function ee(e, t, o) { var a = function (o) { (o.pointerType === o.MSPOINTER_TYPE_MOUSE || 'mouse' === o.pointerType) && 0 === o.buttons || $(o, t) }; e['_leaflet_touchmove' + o] = a, e.addEventListener(lo, a, !1) } function te(e, t, o) { var a = function (o) { $(o, t) }; e['_leaflet_touchend' + o] = a, e.addEventListener(so, a, !1), e.addEventListener(po, a, !1) } function oe(e, t, o) { function a(t) { var e; if (Qt) { if (!Rt || 'mouse' === t.pointerType) return; e = mo } else e = t.touches.length; if (!(1 < e)) { var o = Date.now(), a = o - (l || o); s = t.touches ? t.touches[0] : t, r = 0 < a && a <= i, l = o } } function n(o) { if (r && !s.cancelBubble) { if (Qt) { if (!Rt || 'mouse' === o.pointerType) return; var e = {}, a, n; for (n in s) a = s[n], e[n] = a && a.bind ? a.bind(s) : a; s = e } s.type = 'dblclick', t(s), l = null } } var r = !1, i = 250, l, s; return e[yo + _o + o] = a, e[yo + fo + o] = n, e[yo + 'dblclick' + o] = t, e.addEventListener(_o, a, !1), e.addEventListener(fo, n, !1), e.addEventListener('dblclick', t, !1), this } function ae(e, t) { var o = e[yo + _o + t], a = e[yo + fo + t], n = e[yo + 'dblclick' + t]; return e.removeEventListener(_o, o, !1), e.removeEventListener(fo, a, !1), Rt || e.removeEventListener('dblclick', n, !1), this } function ne(e, t, o, a) { if ('object' == typeof t) for (var n in t) le(e, n, t[n], o); else { t = k(t); for (var r = 0, i = t.length; r < i; r++)le(e, t[r], o, a) } return this } function re(e, t, o, a) { if ('object' == typeof t) for (var n in t) se(e, n, t[n], o); else if (t) { t = k(t); for (var r = 0, i = t.length; r < i; r++)se(e, t[r], o, a) } else { for (var l in e[ho]) se(e, l, e[ho][l]); delete e[ho] } return this } function le(t, e, o, a) { var n = e + f(o) + (a ? '_' + f(a) : ''); if (t[ho] && t[ho][n]) return this; var r = function (n) { return o.call(a || t, n || window.event) }, i = r; Qt && 0 === e.indexOf('touch') ? V(t, e, r, n) : $t && 'dblclick' === e && oe && !(Qt && jt) ? oe(t, r, n) : 'addEventListener' in t ? 'mousewheel' === e ? t.addEventListener('onwheel' in t ? 'wheel' : 'mousewheel', r, !1) : 'mouseenter' === e || 'mouseleave' === e ? (r = function (o) { o = o || window.event, he(t, o) && i(o) }, t.addEventListener('mouseenter' === e ? 'mouseover' : 'mouseout', r, !1)) : ('click' === e && Nt && (r = function (t) { be(t, i) }), t.addEventListener(e, r, !1)) : 'attachEvent' in t && t.attachEvent('on' + e, r), t[ho] = t[ho] || {}, t[ho][n] = r } function se(e, t, o, a) { var n = t + f(o) + (a ? '_' + f(a) : ''), r = e[ho] && e[ho][n]; return r ? void (Qt && 0 === t.indexOf('touch') ? q(e, t, n) : $t && 'dblclick' === t && ae ? ae(e, n) : 'removeEventListener' in e ? 'mousewheel' === t ? e.removeEventListener('onwheel' in e ? 'wheel' : 'mousewheel', r, !1) : e.removeEventListener('mouseenter' === t ? 'mouseover' : 'mouseleave' === t ? 'mouseout' : t, r, !1) : 'detachEvent' in e && e.detachEvent('on' + t, r), e[ho][n] = null) : this } function de(t) { return t.stopPropagation ? t.stopPropagation() : t.originalEvent ? t.originalEvent._stopped = !0 : t.cancelBubble = !0, ye(t), this } function pe(e) { return le(e, 'mousewheel', de), this } function ce(e) { return ne(e, 'mousedown touchstart dblclick', de), le(e, 'click', fe), this } function ge(t) { return t.preventDefault ? t.preventDefault() : t.returnValue = !1, this } function ue(t) { return ge(t), de(t), this } function me(t, e) { if (!e) return new O(t.clientX, t.clientY); var o = e.getBoundingClientRect(); return new O(t.clientX - o.left - e.clientLeft, t.clientY - o.top - e.clientTop) } function _e(t) { return Rt ? t.wheelDeltaY / 2 : t.deltaY && 0 === t.deltaMode ? -t.deltaY / bo : t.deltaY && 1 === t.deltaMode ? 20 * -t.deltaY : t.deltaY && 2 === t.deltaMode ? 60 * -t.deltaY : t.deltaX || t.deltaZ ? 0 : t.wheelDelta ? (t.wheelDeltaY || t.wheelDelta) / 2 : t.detail && 32765 > d(t.detail) ? 20 * -t.detail : t.detail ? 60 * (t.detail / -32765) : 0 } function fe(t) { vo[t.type] = !0 } function ye(t) { var e = vo[t.type]; return vo[t.type] = !1, e } function he(t, o) { var e = o.relatedTarget; if (!e) return !0; try { for (; e && e !== t;)e = e.parentNode } catch (e) { return !1 } return e !== t } function be(t, e) { var o = t.timeStamp || t.originalEvent && t.originalEvent.timeStamp, a = Co && o - Co; return a && 100 < a && 500 > a || t.target._simulatedClick && !t._simulated ? void ue(t) : void (Co = o, e(t)) } function ve(e) { return 'string' == typeof e ? document.getElementById(e) : e } function xe(e, t) { var o = e.style[t] || e.currentStyle && e.currentStyle[t]; if ((!o || 'auto' === o) && document.defaultView) { var a = document.defaultView.getComputedStyle(e, null); o = a ? a[t] : null } return 'auto' === o ? null : o } function Le(e, t, o) { var a = document.createElement(e); return a.className = t || '', o && o.appendChild(a), a } function ke(e) { var t = e.parentNode; t && t.removeChild(e) } function we(e) { for (; e.firstChild;)e.removeChild(e.firstChild) } function Ce(e) { var t = e.parentNode; t.lastChild !== e && t.appendChild(e) } function Pe(e) { var t = e.parentNode; t.firstChild !== e && t.insertBefore(e, t.firstChild) } function Ie(e, t) { if (e.classList !== void 0) return e.classList.contains(t); var o = Me(e); return 0 < o.length && new RegExp('(^|\\s)' + t + '(\\s|$)').test(o) } function Te(e, t) { if (e.classList !== void 0) for (var o = k(t), a = 0, n = o.length; a < n; a++)e.classList.add(o[a]); else if (!Ie(e, t)) { var r = Me(e); Ee(e, (r ? r + ' ' : '') + t) } } function Ae(e, t) { e.classList === void 0 ? Ee(e, x((' ' + Me(e) + ' ').replace(' ' + t + ' ', ' '))) : e.classList.remove(t) } function Ee(e, t) { e.className.baseVal === void 0 ? e.className = t : e.className.baseVal = t } function Me(e) { return e.className.baseVal === void 0 ? e.className : e.className.baseVal } function Se(e, t) { 'opacity' in e.style ? e.style.opacity = t : 'filter' in e.style && De(e, t) } function De(e, t) { var o = !1, a = 'DXImageTransform.Microsoft.Alpha'; try { o = e.filters.item(a) } catch (o) { if (1 === t) return } t = u(100 * t), o ? (o.Enabled = 100 !== t, o.Opacity = t) : e.style.filter += ' progid:' + a + '(opacity=' + t + ')' } function Oe(e) { for (var t = document.documentElement.style, o = 0; o < e.length; o++)if (e[o] in t) return e[o]; return !1 } function Re(e, t, o) { var a = t || new O(0, 0); e.style[Lo] = (Wt ? 'translate(' + a.x + 'px,' + a.y + 'px)' : 'translate3d(' + a.x + 'px,' + a.y + 'px,0)') + (o ? ' scale(' + o + ')' : '') } function ze(e, t) { e._leaflet_pos = t, Kt ? Re(e, t) : (e.style.left = t.x + 'px', e.style.top = t.y + 'px') } function Ne(e) { return e._leaflet_pos || new O(0, 0) } function Be() { ne(window, 'dragstart', ge) } function Ze() { re(window, 'dragstart', ge) } function je(e) { for (; -1 === e.tabIndex;)e = e.parentNode; e.style && (Ue(), Ro = e, zo = e.style.outline, e.style.outline = 'none', ne(window, 'keydown', Ue)) } function Ue() { Ro && (Ro.style.outline = zo, Ro = void 0, zo = void 0, re(window, 'keydown', Ue)) } function Ge(e, t) { if (!t || !e.length) return e.slice(); var o = t * t; return e = We(e, o), e = Fe(e, o), e } function He(e, t, o) { return c(Xe(e, t, o, !0)) } function Fe(e, t) { var o = e.length, a = typeof Uint8Array == void 0 + '' ? Array : Uint8Array, n = new a(o); n[0] = n[o - 1] = 1, Ye(e, n, t, 0, o - 1); var r = [], l; for (l = 0; l < o; l++)n[l] && r.push(e[l]); return r } function Ye(e, t, o, a, n) { var r = 0, l, s, i; for (s = a + 1; s <= n - 1; s++)i = Xe(e[s], e[a], e[n], !0), i > r && (l = s, r = i); r > o && (t[l] = 1, Ye(e, t, o, a, l), Ye(e, t, o, l, n)) } function We(e, t) { for (var o = [e[0]], a = 1, n = 0, r = e.length; a < r; a++)Je(e[a], e[n]) > t && (o.push(e[a]), n = a); return n < r - 1 && o.push(e[r - 1]), o } function Ve(e, t, o, a, n) { var r = a ? ea : Ke(e, o), i = Ke(t, o), l, s, d; for (ea = i; ;) { if (!(r | i)) return [e, t]; if (r & i) return !1; l = r || i, s = qe(e, t, l, o, n), d = Ke(s, o), l === r ? (e = s, r = d) : (t = s, i = d) } } function qe(e, t, o, a, n) { var r = t.x - e.x, i = t.y - e.y, l = a.min, s = a.max, d, p; return 8 & o ? (d = e.x + r * (s.y - e.y) / i, p = s.y) : 4 & o ? (d = e.x + r * (l.y - e.y) / i, p = l.y) : 2 & o ? (d = s.x, p = e.y + i * (s.x - e.x) / r) : 1 & o && (d = l.x, p = e.y + i * (l.x - e.x) / r), new O(d, p, n) } function Ke(e, t) { var o = 0; return e.x < t.min.x ? o |= 1 : e.x > t.max.x && (o |= 2), e.y < t.min.y ? o |= 4 : e.y > t.max.y && (o |= 8), o } function Je(e, t) { var o = t.x - e.x, a = t.y - e.y; return o * o + a * a } function Xe(e, o, a, n) { var r = o.x, i = o.y, l = a.x - r, s = a.y - i, d = l * l + s * s, p; return 0 < d && (p = ((e.x - r) * l + (e.y - i) * s) / d, 1 < p ? (r = a.x, i = a.y) : 0 < p && (r += l * p, i += s * p)), l = e.x - r, s = e.y - i, n ? l * l + s * s : new O(r, i) } function Qe(e) { return !bt(e[0]) || 'object' != typeof e[0][0] && 'undefined' != typeof e[0][0] } function $e(e) { return console.warn('Deprecated use of _flat, please use L.LineUtil.isFlat instead.'), Qe(e) } function et(e, t, o) { var n = [1, 4, 2, 8], r, l, i, s, d, a, c, g, u; for (l = 0, c = e.length; l < c; l++)e[l]._code = Ke(e[l], t); for (s = 0; 4 > s; s++) { for (g = n[s], r = [], (l = 0, c = e.length, i = c - 1); l < c; i = l++)d = e[l], a = e[i], d._code & g ? !(a._code & g) && (u = qe(a, d, g, t, o), u._code = Ke(u, t), r.push(u)) : (a._code & g && (u = qe(a, d, g, t, o), u._code = Ke(u, t), r.push(u)), r.push(d)); e = r } return e } function tt(e, t) { var o = 'Feature' === e.type ? e.geometry : e, a = o ? o.coordinates : null, n = [], r = t && t.pointToLayer, l = t && t.coordsToLatLng || ot, s, d, p, i; if (!a && !o) return null; switch (o.type) { case 'Point': return s = l(a), r ? r(e, s) : new la(s); case 'MultiPoint': for (p = 0, i = a.length; p < i; p++)s = l(a[p]), n.push(r ? r(e, s) : new la(s)); return new aa(n); case 'LineString': case 'MultiLineString': return d = at(a, 'LineString' === o.type ? 0 : 1, l), new ca(d, t); case 'Polygon': case 'MultiPolygon': return d = at(a, 'Polygon' === o.type ? 1 : 2, l), new ga(d, t); case 'GeometryCollection': for (p = 0, i = o.geometries.length; p < i; p++) { var c = tt({ geometry: o.geometries[p], type: 'Feature', properties: e.properties }, t); c && n.push(c) } return new aa(n); default: throw new Error('Invalid GeoJSON object.'); } } function ot(e) { return new j(e[1], e[0], e[2]) } function at(e, t, o) { for (var a = [], n = 0, r = e.length, i; n < r; n++)i = t ? at(e[n], t - 1, o) : (o || ot)(e[n]), a.push(i); return a } function nt(e, t) { return t = 'number' == typeof t ? t : 6, void 0 === e.alt ? [v(e.lng, t), v(e.lat, t)] : [v(e.lng, t), v(e.lat, t), v(e.alt, t)] } function rt(e, t, o, a) { for (var n = [], r = 0, i = e.length; r < i; r++)n.push(t ? rt(e[r], t - 1, o, a) : nt(e[r], a)); return !t && o && n.push(n[0]), n } function it(e, o) { return e.feature ? t({}, e.feature, { geometry: o }) : lt(o) } function lt(e) { return 'Feature' === e.type || 'FeatureCollection' === e.type ? e : { type: 'Feature', properties: {}, geometry: e } } function st(e, t) { return new ua(e, t) } function dt(e, t) { return new La(e, t) } function pt(e) { return oo ? new Ca(e) : null } function ct(e) { return ao || no ? new Ta(e) : null } var gt = Math.atan, ut = Math.exp, mt = Math.acos, _t = Object.freeze; Object.freeze = function (e) { return e }; var ft = Object.create || function () { function e() { } return function (t) { return e.prototype = t, new e } }(), yt = 0, ht = /\{ *([\w_\-]+) *\}/g, bt = Array.isArray || function (e) { return '[object Array]' === Object.prototype.toString.call(e) }, vt = 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=', xt = 0, Lt = window.requestAnimationFrame || T('RequestAnimationFrame') || A, kt = window.cancelAnimationFrame || T('CancelAnimationFrame') || T('CancelRequestAnimationFrame') || function (e) { window.clearTimeout(e) }, wt = (Object.freeze || Object)({ freeze: _t, extend: t, create: ft, bind: _, lastId: yt, stamp: f, throttle: y, wrapNum: h, falseFn: b, formatNum: v, trim: x, splitWords: k, setOptions: w, getParamString: C, template: P, isArray: bt, indexOf: I, emptyImageUrl: vt, requestFn: Lt, cancelFn: kt, requestAnimFrame: E, cancelAnimFrame: M }); S.extend = function (e) { var o = function () { this.initialize && this.initialize.apply(this, arguments), this.callInitHooks() }, a = o.__super__ = this.prototype, n = ft(a); for (var r in n.constructor = o, o.prototype = n, this) this.hasOwnProperty(r) && 'prototype' != r && '__super__' != r && (o[r] = this[r]); return e.statics && (t(o, e.statics), delete e.statics), e.includes && (D(e.includes), t.apply(null, [n].concat(e.includes)), delete e.includes), n.options && (e.options = t(ft(n.options), e.options)), t(n, e), n._initHooks = [], n.callInitHooks = function () { if (!this._initHooksCalled) { a.callInitHooks && a.callInitHooks.call(this), this._initHooksCalled = !0; for (var e = 0, t = n._initHooks.length; e < t; e++)n._initHooks[e].call(this) } }, o }, S.include = function (e) { return t(this.prototype, e), this }, S.mergeOptions = function (e) { return t(this.prototype.options, e), this }, S.addInitHook = function (e) { var t = Array.prototype.slice.call(arguments, 1), o = 'function' == typeof e ? e : function () { this[e].apply(this, t) }; return this.prototype._initHooks = this.prototype._initHooks || [], this.prototype._initHooks.push(o), this }; var Ct = { on: function (e, t, o) { if ('object' == typeof e) for (var a in e) this._on(a, e[a], t); else { e = k(e); for (var n = 0, r = e.length; n < r; n++)this._on(e[n], t, o) } return this }, off: function (e, t, o) { if (!e) delete this._events; else if ('object' == typeof e) for (var a in e) this._off(a, e[a], t); else { e = k(e); for (var n = 0, r = e.length; n < r; n++)this._off(e[n], t, o) } return this }, _on: function (e, t, o) { this._events = this._events || {}; var a = this._events[e]; a || (a = [], this._events[e] = a), o === this && (o = void 0); for (var n = { fn: t, ctx: o }, r = a, l = 0, i = r.length; l < i; l++)if (r[l].fn === t && r[l].ctx === o) return; r.push(n) }, _off: function (e, t, o) { var a, n, r; if (this._events && (a = this._events[e], !!a)) { if (!t) { for (n = 0, r = a.length; n < r; n++)a[n].fn = b; return void delete this._events[e] } if (o === this && (o = void 0), a) for (n = 0, r = a.length; n < r; n++) { var i = a[n]; if (i.ctx === o && i.fn === t) return i.fn = b, this._firingCount && (this._events[e] = a = a.slice()), void a.splice(n, 1) } } }, fire: function (e, o, a) { if (!this.listens(e, a)) return this; var n = t({}, o, { type: e, target: this }); if (this._events) { var r = this._events[e]; if (r) { this._firingCount = this._firingCount + 1 || 1; for (var s = 0, i = r.length, d; s < i; s++)d = r[s], d.fn.call(d.ctx || this, n); this._firingCount-- } } return a && this._propagateEvent(n), this }, listens: function (e, t) { var o = this._events && this._events[e]; if (o && o.length) return !0; if (t) for (var a in this._eventParents) if (this._eventParents[a].listens(e, t)) return !0; return !1 }, once: function (e, t, o) { if ('object' == typeof e) { for (var a in e) this.once(a, e[a], t); return this } var n = _(function () { this.off(e, t, o).off(e, n, o) }, this); return this.on(e, t, o).on(e, n, o) }, addEventParent: function (e) { return this._eventParents = this._eventParents || {}, this._eventParents[f(e)] = e, this }, removeEventParent: function (e) { return this._eventParents && delete this._eventParents[f(e)], this }, _propagateEvent: function (o) { for (var e in this._eventParents) this._eventParents[e].fire(o.type, t({ layer: o.target }, o), !0) } }; Ct.addEventListener = Ct.on, Ct.removeEventListener = Ct.clearAllEventListeners = Ct.off, Ct.addOneTimeEventListener = Ct.once, Ct.fireEvent = Ct.fire, Ct.hasEventListeners = Ct.listens; var Pt = S.extend(Ct); O.prototype = { clone: function () { return new O(this.x, this.y) }, add: function (e) { return this.clone()._add(R(e)) }, _add: function (e) { return this.x += e.x, this.y += e.y, this }, subtract: function (e) { return this.clone()._subtract(R(e)) }, _subtract: function (e) { return this.x -= e.x, this.y -= e.y, this }, divideBy: function (e) { return this.clone()._divideBy(e) }, _divideBy: function (e) { return this.x /= e, this.y /= e, this }, multiplyBy: function (e) { return this.clone()._multiplyBy(e) }, _multiplyBy: function (e) { return this.x *= e, this.y *= e, this }, scaleBy: function (e) { return new O(this.x * e.x, this.y * e.y) }, unscaleBy: function (e) { return new O(this.x / e.x, this.y / e.y) }, round: function () { return this.clone()._round() }, _round: function () { return this.x = u(this.x), this.y = u(this.y), this }, floor: function () { return this.clone()._floor() }, _floor: function () { return this.x = p(this.x), this.y = p(this.y), this }, ceil: function () { return this.clone()._ceil() }, _ceil: function () { return this.x = i(this.x), this.y = i(this.y), this }, distanceTo: function (e) { e = R(e); var t = e.x - this.x, o = e.y - this.y; return c(t * t + o * o) }, equals: function (e) { return e = R(e), e.x === this.x && e.y === this.y }, contains: function (e) { return e = R(e), d(e.x) <= d(this.x) && d(e.y) <= d(this.y) }, toString: function () { return 'Point(' + v(this.x) + ', ' + v(this.y) + ')' } }, z.prototype = { extend: function (e) { return e = R(e), this.min || this.max ? (this.min.x = s(e.x, this.min.x), this.max.x = g(e.x, this.max.x), this.min.y = s(e.y, this.min.y), this.max.y = g(e.y, this.max.y)) : (this.min = e.clone(), this.max = e.clone()), this }, getCenter: function (e) { return new O((this.min.x + this.max.x) / 2, (this.min.y + this.max.y) / 2, e) }, getBottomLeft: function () { return new O(this.min.x, this.max.y) }, getTopRight: function () { return new O(this.max.x, this.min.y) }, getTopLeft: function () { return this.min }, getBottomRight: function () { return this.max }, getSize: function () { return this.max.subtract(this.min) }, contains: function (e) { var t, o; return e = 'number' == typeof e[0] || e instanceof O ? R(e) : N(e), e instanceof z ? (t = e.min, o = e.max) : t = o = e, t.x >= this.min.x && o.x <= this.max.x && t.y >= this.min.y && o.y <= this.max.y }, intersects: function (e) { e = N(e); var t = this.min, o = this.max, a = e.min, n = e.max, r = n.x >= t.x && a.x <= o.x, i = n.y >= t.y && a.y <= o.y; return r && i }, overlaps: function (e) { e = N(e); var t = this.min, o = this.max, a = e.min, n = e.max, r = n.x > t.x && a.x < o.x, i = n.y > t.y && a.y < o.y; return r && i }, isValid: function () { return !!(this.min && this.max) } }, B.prototype = { extend: function (e) { var t = this._southWest, o = this._northEast, a, n; if (e instanceof j) a = e, n = e; else { if (!(e instanceof B)) return e ? this.extend(U(e) || Z(e)) : this; if (a = e._southWest, n = e._northEast, !a || !n) return this } return t || o ? (t.lat = s(a.lat, t.lat), t.lng = s(a.lng, t.lng), o.lat = g(n.lat, o.lat), o.lng = g(n.lng, o.lng)) : (this._southWest = new j(a.lat, a.lng), this._northEast = new j(n.lat, n.lng)), this }, pad: function (e) { var t = this._southWest, o = this._northEast, a = d(t.lat - o.lat) * e, n = d(t.lng - o.lng) * e; return new B(new j(t.lat - a, t.lng - n), new j(o.lat + a, o.lng + n)) }, getCenter: function () { return new j((this._southWest.lat + this._northEast.lat) / 2, (this._southWest.lng + this._northEast.lng) / 2) }, getSouthWest: function () { return this._southWest }, getNorthEast: function () { return this._northEast }, getNorthWest: function () { return new j(this.getNorth(), this.getWest()) }, getSouthEast: function () { return new j(this.getSouth(), this.getEast()) }, getWest: function () { return this._southWest.lng }, getSouth: function () { return this._southWest.lat }, getEast: function () { return this._northEast.lng }, getNorth: function () { return this._northEast.lat }, contains: function (e) { e = 'number' == typeof e[0] || e instanceof j || 'lat' in e ? U(e) : Z(e); var t = this._southWest, o = this._northEast, a, n; return e instanceof B ? (a = e.getSouthWest(), n = e.getNorthEast()) : a = n = e, a.lat >= t.lat && n.lat <= o.lat && a.lng >= t.lng && n.lng <= o.lng }, intersects: function (e) { e = Z(e); var t = this._southWest, o = this._northEast, a = e.getSouthWest(), n = e.getNorthEast(), r = n.lat >= t.lat && a.lat <= o.lat, i = n.lng >= t.lng && a.lng <= o.lng; return r && i }, overlaps: function (e) { e = Z(e); var t = this._southWest, o = this._northEast, a = e.getSouthWest(), n = e.getNorthEast(), r = n.lat > t.lat && a.lat < o.lat, i = n.lng > t.lng && a.lng < o.lng; return r && i }, toBBoxString: function () { return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(',') }, equals: function (e, t) { return !!e && (e = Z(e), this._southWest.equals(e.getSouthWest(), t) && this._northEast.equals(e.getNorthEast(), t)) }, isValid: function () { return !!(this._southWest && this._northEast) } }, j.prototype = { equals: function (e, t) { if (!e) return !1; e = U(e); var o = g(d(this.lat - e.lat), d(this.lng - e.lng)); return o <= (t === void 0 ? 1e-9 : t) }, toString: function (e) { return 'LatLng(' + v(this.lat, e) + ', ' + v(this.lng, e) + ')' }, distanceTo: function (e) { return Tt.distance(this, U(e)) }, wrap: function () { return Tt.wrapLatLng(this) }, toBounds: function (e) { var t = 180 * e / 40075017, o = t / r(l / 180 * this.lat); return Z([this.lat - t, this.lng - o], [this.lat + t, this.lng + o]) }, clone: function () { return new j(this.lat, this.lng, this.alt) } }; var It = { latLngToPoint: function (e, t) { var o = this.projection.project(e), a = this.scale(t); return this.transformation._transform(o, a) }, pointToLatLng: function (e, t) { var o = this.scale(t), a = this.transformation.untransform(e, o); return this.projection.unproject(a) }, project: function (e) { return this.projection.project(e) }, unproject: function (e) { return this.projection.unproject(e) }, scale: function (e) { return 256 * m(2, e) }, zoom: function (e) { return n(e / 256) / a }, getProjectedBounds: function (e) { if (this.infinite) return null; var t = this.projection.bounds, o = this.scale(e), a = this.transformation.transform(t.min, o), n = this.transformation.transform(t.max, o); return new z(a, n) }, infinite: !1, wrapLatLng: function (e) { var t = this.wrapLng ? h(e.lng, this.wrapLng, !0) : e.lng, o = this.wrapLat ? h(e.lat, this.wrapLat, !0) : e.lat, a = e.alt; return new j(o, t, a) }, wrapLatLngBounds: function (e) { var t = e.getCenter(), o = this.wrapLatLng(t), a = t.lat - o.lat, n = t.lng - o.lng; if (0 == a && 0 == n) return e; var r = e.getSouthWest(), i = e.getNorthEast(), l = new j(r.lat - a, r.lng - n), s = new j(i.lat - a, i.lng - n); return new B(l, s) } }, Tt = t({}, It, { wrapLng: [-180, 180], R: 6371000, distance: function (e, t) { var n = l / 180, i = e.lat * n, d = t.lat * n, p = o(i) * o(d) + r(i) * r(d) * r((t.lng - e.lng) * n); return this.R * mt(s(p, 1)) } }), At = { R: 6378137, MAX_LATITUDE: 85.0511287798, project: function (e) { var t = l / 180, a = this.MAX_LATITUDE, r = g(s(a, e.lat), -a), i = o(r * t); return new O(this.R * e.lng * t, this.R * n((1 + i) / (1 - i)) / 2) }, unproject: function (e) { var t = 180 / l; return new j((2 * gt(ut(e.y / this.R)) - l / 2) * t, e.x * t / this.R) }, bounds: function () { var e = 6378137 * l; return new z([-e, -e], [e, e]) }() }; G.prototype = { transform: function (e, t) { return this._transform(e.clone(), t) }, _transform: function (e, t) { return t = t || 1, e.x = t * (this._a * e.x + this._b), e.y = t * (this._c * e.y + this._d), e }, untransform: function (e, t) { return t = t || 1, new O((e.x / t - this._b) / this._a, (e.y / t - this._d) / this._c) } }; var Et = t({}, Tt, { code: 'EPSG:3857', projection: At, transformation: function () { var e = 0.5 / (l * At.R); return H(e, 0.5, -e, 0.5) }() }), Mt = t({}, Et, { code: 'EPSG:900913' }), St = document.documentElement.style, Dt = 'ActiveXObject' in window, Ot = Dt && !document.addEventListener, Rt = 'msLaunchUri' in navigator && !('documentMode' in document), zt = W('webkit'), Nt = W('android'), Bt = W('android 2') || W('android 3'), Zt = !!window.opera, jt = W('chrome'), Ut = W('gecko') && !zt && !Zt && !Dt, Gt = !jt && W('safari'), Ht = W('phantom'), Ft = 'OTransition' in St, Yt = 0 === navigator.platform.indexOf('Win'), Wt = Dt && 'transition' in St, Vt = 'WebKitCSSMatrix' in window && 'm11' in new window.WebKitCSSMatrix && !Bt, qt = 'MozPerspective' in St, Kt = !window.L_DISABLE_3D && (Wt || Vt || qt) && !Ft && !Ht, Jt = 'undefined' != typeof orientation || W('mobile'), Xt = !window.PointerEvent && window.MSPointerEvent, Qt = !!(window.PointerEvent || Xt), $t = !window.L_NO_TOUCH && (Qt || 'ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch), eo = Jt && Zt, to = 1 < (window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI), oo = function () { return !!document.createElement('canvas').getContext }(), ao = !!(document.createElementNS && F('svg').createSVGRect), no = !ao && function () { try { var e = document.createElement('div'); e.innerHTML = '<v:shape adj="1"/>'; var t = e.firstChild; return t.style.behavior = 'url(#default#VML)', t && 'object' == typeof t.adj } catch (t) { return !1 } }(), ro = (Object.freeze || Object)({ ie: Dt, ielt9: Ot, edge: Rt, webkit: zt, android: Nt, android23: Bt, opera: Zt, chrome: jt, gecko: Ut, safari: Gt, phantom: Ht, opera12: Ft, win: Yt, ie3d: Wt, webkit3d: Vt, gecko3d: qt, any3d: Kt, mobile: Jt, mobileWebkit: Jt && zt, mobileWebkit3d: Jt && Vt, msPointer: Xt, pointer: Qt, touch: $t, mobileOpera: eo, mobileGecko: Jt && Ut, retina: to, canvas: oo, svg: ao, vml: no }), io = Xt ? 'MSPointerDown' : 'pointerdown', lo = Xt ? 'MSPointerMove' : 'pointermove', so = Xt ? 'MSPointerUp' : 'pointerup', po = Xt ? 'MSPointerCancel' : 'pointercancel', co = ['INPUT', 'SELECT', 'OPTION'], go = {}, uo = !1, mo = 0, _o = Xt ? 'MSPointerDown' : Qt ? 'pointerdown' : 'touchstart', fo = Xt ? 'MSPointerUp' : Qt ? 'pointerup' : 'touchend', yo = '_leaflet_', ho = '_leaflet_events', bo = Yt && jt ? 2 * window.devicePixelRatio : Ut ? window.devicePixelRatio : 1, vo = {}, xo = (Object.freeze || Object)({ on: ne, off: re, stopPropagation: de, disableScrollPropagation: pe, disableClickPropagation: ce, preventDefault: ge, stop: ue, getMousePosition: me, getWheelDelta: _e, fakeStop: fe, skipped: ye, isExternalTarget: he, addListener: ne, removeListener: re }), Lo = Oe(['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform']), ko = Oe(['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']), wo = 'webkitTransition' === ko || 'OTransition' === ko ? ko + 'End' : 'transitionend', Co, Po, Io, To; if ('onselectstart' in document) Po = function () { ne(window, 'selectstart', ge) }, Io = function () { re(window, 'selectstart', ge) }; else { var Ao = Oe(['userSelect', 'WebkitUserSelect', 'OUserSelect', 'MozUserSelect', 'msUserSelect']); Po = function () { if (Ao) { var e = document.documentElement.style; To = e[Ao], e[Ao] = 'none' } }, Io = function () { Ao && (document.documentElement.style[Ao] = To, To = void 0) } } var Eo = (Object.freeze || Object)({ TRANSFORM: Lo, TRANSITION: ko, TRANSITION_END: wo, get: ve, getStyle: xe, create: Le, remove: ke, empty: we, toFront: Ce, toBack: Pe, hasClass: Ie, addClass: Te, removeClass: Ae, setClass: Ee, getClass: Me, setOpacity: Se, testProp: Oe, setTransform: Re, setPosition: ze, getPosition: Ne, disableTextSelection: Po, enableTextSelection: Io, disableImageDrag: Be, enableImageDrag: Ze, preventOutline: je, restoreOutline: Ue }), Mo = Pt.extend({ run: function (e, t, o, a) { this.stop(), this._el = e, this._inProgress = !0, this._duration = o || 0.25, this._easeOutPower = 1 / g(a || 0.5, 0.2), this._startPos = Ne(e), this._offset = t.subtract(this._startPos), this._startTime = +new Date, this.fire('start'), this._animate() }, stop: function () { this._inProgress && (this._step(!0), this._complete()) }, _animate: function () { this._animId = E(this._animate, this), this._step() }, _step: function (e) { var t = +new Date - this._startTime, o = 1e3 * this._duration; t < o ? this._runFrame(this._easeOut(t / o), e) : (this._runFrame(1), this._complete()) }, _runFrame: function (e, t) { var o = this._startPos.add(this._offset.multiplyBy(e)); t && o._round(), ze(this._el, o), this.fire('step') }, _complete: function () { M(this._animId), this._inProgress = !1, this.fire('end') }, _easeOut: function (e) { return 1 - m(1 - e, this._easeOutPower) } }), So = Pt.extend({ options: { crs: Et, center: void 0, zoom: void 0, minZoom: void 0, maxZoom: void 0, layers: [], maxBounds: void 0, renderer: void 0, zoomAnimation: !0, zoomAnimationThreshold: 4, fadeAnimation: !0, markerZoomAnimation: !0, transform3DLimit: 8388608, zoomSnap: 1, zoomDelta: 1, trackResize: !0 }, initialize: function (e, t) { t = w(this, t), this._initContainer(e), this._initLayout(), this._onResize = _(this._onResize, this), this._initEvents(), t.maxBounds && this.setMaxBounds(t.maxBounds), t.zoom !== void 0 && (this._zoom = this._limitZoom(t.zoom)), t.center && t.zoom !== void 0 && this.setView(U(t.center), t.zoom, { reset: !0 }), this._handlers = [], this._layers = {}, this._zoomBoundLayers = {}, this._sizeChanged = !0, this.callInitHooks(), this._zoomAnimated = ko && Kt && !eo && this.options.zoomAnimation, this._zoomAnimated && (this._createAnimProxy(), ne(this._proxy, wo, this._catchTransitionEnd, this)), this._addLayers(this.options.layers) }, setView: function (e, o, a) { if (o = void 0 === o ? this._zoom : this._limitZoom(o), e = this._limitCenter(U(e), o, this.options.maxBounds), a = a || {}, this._stop(), this._loaded && !a.reset && !0 !== a) { void 0 !== a.animate && (a.zoom = t({ animate: a.animate }, a.zoom), a.pan = t({ animate: a.animate, duration: a.duration }, a.pan)); var n = this._zoom === o ? this._tryAnimatedPan(e, a.pan) : this._tryAnimatedZoom && this._tryAnimatedZoom(e, o, a.zoom); if (n) return clearTimeout(this._sizeTimer), this } return this._resetView(e, o), this }, setZoom: function (e, t) { return this._loaded ? this.setView(this.getCenter(), e, { zoom: t }) : (this._zoom = e, this) }, zoomIn: function (e, t) { return e = e || (Kt ? this.options.zoomDelta : 1), this.setZoom(this._zoom + e, t) }, zoomOut: function (e, t) { return e = e || (Kt ? this.options.zoomDelta : 1), this.setZoom(this._zoom - e, t) }, setZoomAround: function (e, t, o) { var a = this.getZoomScale(t), n = this.getSize().divideBy(2), r = e instanceof O ? e : this.latLngToContainerPoint(e), i = r.subtract(n).multiplyBy(1 - 1 / a), l = this.containerPointToLatLng(n.add(i)); return this.setView(l, t, { zoom: o }) }, _getBoundsCenterZoom: function (e, t) { t = t || {}, e = e.getBounds ? e.getBounds() : Z(e); var o = R(t.paddingTopLeft || t.padding || [0, 0]), a = R(t.paddingBottomRight || t.padding || [0, 0]), n = this.getBoundsZoom(e, !1, o.add(a)); if (n = 'number' == typeof t.maxZoom ? s(t.maxZoom, n) : n, n === Infinity) return { center: e.getCenter(), zoom: n }; var r = a.subtract(o).divideBy(2), i = this.project(e.getSouthWest(), n), l = this.project(e.getNorthEast(), n), d = this.unproject(i.add(l).divideBy(2).add(r), n); return { center: d, zoom: n } }, fitBounds: function (e, t) { if (e = Z(e), !e.isValid()) throw new Error('Bounds are not valid.'); var o = this._getBoundsCenterZoom(e, t); return this.setView(o.center, o.zoom, t) }, fitWorld: function (e) { return this.fitBounds([[-90, -180], [90, 180]], e) }, panTo: function (e, t) { return this.setView(e, this._zoom, { pan: t }) }, panBy: function (e, t) { if (e = R(e).round(), t = t || {}, !e.x && !e.y) return this.fire('moveend'); if (!0 !== t.animate && !this.getSize().contains(e)) return this._resetView(this.unproject(this.project(this.getCenter()).add(e)), this.getZoom()), this; if (this._panAnim || (this._panAnim = new Mo, this._panAnim.on({ step: this._onPanTransitionStep, end: this._onPanTransitionEnd }, this)), t.noMoveStart || this.fire('movestart'), !1 !== t.animate) { Te(this._mapPane, 'leaflet-pan-anim'); var o = this._getMapPanePos().subtract(e).round(); this._panAnim.run(this._mapPane, o, t.duration || 0.25, t.easeLinearity) } else this._rawPanBy(e), this.fire('move').fire('moveend'); return this }, flyTo: function (e, o, t) { function a(e) { var t = e ? -1 : 1, o = e ? x : v, a = (x * x - v * v + t * w * w * k * k) / (2 * o * w * k), r = c(a * a + 1) - a, i = 1e-9 > r ? -18 : n(r); return i } function r(e) { return (ut(e) - ut(-e)) / 2 } function i(e) { return (ut(e) + ut(-e)) / 2 } function l(e) { return r(e) / i(e) } function d(e) { return v * (i(C) / i(C + b * e)) } function p(e) { return v * (i(C) * l(C + b * e) - r(C)) / w } function u(e) { return 1 - m(1 - e, 1.5) } function _() { var a = (Date.now() - P) / T, t = u(a) * I; 1 >= a ? (this._flyToFrame = E(_, this), this._move(this.unproject(f.add(y.subtract(f).multiplyBy(p(t) / k)), h), this.getScaleZoom(v / d(t), h), { flyTo: !0 })) : this._move(e, o)._moveEnd(!0) } if (t = t || {}, !1 === t.animate || !Kt) return this.setView(e, o, t); this._stop(); var f = this.project(this.getCenter()), y = this.project(e), s = this.getSize(), h = this._zoom; e = U(e), o = void 0 === o ? h : o; var v = g(s.x, s.y), x = v * this.getZoomScale(h, o), k = y.distanceTo(f) || 1, b = 1.42, w = b * b, C = a(0), P = Date.now(), I = (a(1) - C) / b, T = t.duration ? 1e3 * t.duration : 0.8 * (1e3 * I); return this._moveStart(!0), _.call(this), this }, flyToBounds: function (e, t) { var o = this._getBoundsCenterZoom(e, t); return this.flyTo(o.center, o.zoom, t) }, setMaxBounds: function (e) { return (e = Z(e), !e.isValid()) ? (this.options.maxBounds = null, this.off('moveend', this._panInsideMaxBounds)) : (this.options.maxBounds && this.off('moveend', this._panInsideMaxBounds), this.options.maxBounds = e, this._loaded && this._panInsideMaxBounds(), this.on('moveend', this._panInsideMaxBounds)) }, setMinZoom: function (e) { return this.options.minZoom = e, this._loaded && this.getZoom() < this.options.minZoom ? this.setZoom(e) : this }, setMaxZoom: function (e) { return this.options.maxZoom = e, this._loaded && this.getZoom() > this.options.maxZoom ? this.setZoom(e) : this }, panInsideBounds: function (e, t) { this._enforcingBounds = !0; var o = this.getCenter(), a = this._limitCenter(o, this._zoom, Z(e)); return o.equals(a) || this.panTo(a, t), this._enforcingBounds = !1, this }, invalidateSize: function (e) { if (!this._loaded) return this; e = t({ animate: !1, pan: !0 }, !0 === e ? { animate: !0 } : e); var o = this.getSize(); this._sizeChanged = !0, this._lastCenter = null; var a = this.getSize(), n = o.divideBy(2).round(), r = a.divideBy(2).round(), i = n.subtract(r); return i.x || i.y ? (e.animate && e.pan ? this.panBy(i) : (e.pan && this._rawPanBy(i), this.fire('move'), e.debounceMoveend ? (clearTimeout(this._sizeTimer), this._sizeTimer = setTimeout(_(this.fire, this, 'moveend'), 200)) : this.fire('moveend')), this.fire('resize', { oldSize: o, newSize: a })) : this }, stop: function () { return this.setZoom(this._limitZoom(this._zoom)), this.options.zoomSnap || this.fire('viewreset'), this._stop() }, locate: function (e) { if (e = this._locateOptions = t({ timeout: 1e4, watch: !1 }, e), !('geolocation' in navigator)) return this._handleGeolocationError({ code: 0, message: 'Geolocation not supported.' }), this; var o = _(this._handleGeolocationResponse, this), a = _(this._handleGeolocationError, this); return e.watch ? this._locationWatchId = navigator.geolocation.watchPosition(o, a, e) : navigator.geolocation.getCurrentPosition(o, a, e), this }, stopLocate: function () { return navigator.geolocation && navigator.geolocation.clearWatch && navigator.geolocation.clearWatch(this._locationWatchId), this._locateOptions && (this._locateOptions.setView = !1), this }, _handleGeolocationError: function (e) { var t = e.code, o = e.message || (1 === t ? 'permission denied' : 2 === t ? 'position unavailable' : 'timeout'); this._locateOptions.setView && !this._loaded && this.fitWorld(), this.fire('locationerror', { code: t, message: 'Geolocation error: ' + o + '.' }) }, _handleGeolocationResponse: function (e) { var t = e.coords.latitude, o = e.coords.longitude, a = new j(t, o), n = a.toBounds(e.coords.accuracy), r = this._locateOptions; if (r.setView) { var l = this.getBoundsZoom(n); this.setView(a, r.maxZoom ? s(l, r.maxZoom) : l) } var d = { latlng: a, bounds: n, timestamp: e.timestamp }; for (var p in e.coords) 'number' == typeof e.coords[p] && (d[p] = e.coords[p]); this.fire('locationfound', d) }, addHandler: function (e, t) { if (!t) return this; var o = this[e] = new t(this); return this._handlers.push(o), this.options[e] && o.enable(), this }, remove: function () { if (this._initEvents(!0), this._containerId !== this._container._leaflet_id) throw new Error('Map container is being reused by another instance'); try { delete this._container._leaflet_id, delete this._containerId } catch (t) { this._container._leaflet_id = void 0, this._containerId = void 0 } ke(this._mapPane), this._clearControlPos && this._clearControlPos(), this._clearHandlers(), this._loaded && this.fire('unload'); for (var e in this._layers) this._layers[e].remove(); for (e in this._panes) ke(this._panes[e]); return this._layers = [], this._panes = [], delete this._mapPane, delete this._renderer, this }, createPane: function (e, t) { var o = 'leaflet-pane' + (e ? ' leaflet-' + e.replace('Pane', '') + '-pane' : ''), a = Le('div', o, t || this._mapPane); return e && (this._panes[e] = a), a }, getCenter: function () { return this._checkIfLoaded(), this._lastCenter && !this._moved() ? this._lastCenter : this.layerPointToLatLng(this._getCenterLayerPoint()) }, getZoom: function () { return this._zoom }, getBounds: function () { var e = this.getPixelBounds(), t = this.unproject(e.getBottomLeft()), o = this.unproject(e.getTopRight()); return new B(t, o) }, getMinZoom: function () { return this.options.minZoom === void 0 ? this._layersMinZoom || 0 : this.options.minZoom }, getMaxZoom: function () { return this.options.maxZoom === void 0 ? this._layersMaxZoom === void 0 ? Infinity : this._layersMaxZoom : this.options.maxZoom }, getBoundsZoom: function (e, t, o) { e = Z(e), o = R(o || [0, 0]); var a = this.getZoom() || 0, n = this.getMinZoom(), r = this.getMaxZoom(), l = e.getNorthWest(), d = e.getSouthEast(), c = this.getSize().subtract(o), m = N(this.project(d, a), this.project(l, a)).getSize(), _ = Kt ? this.options.zoomSnap : 1, f = c.x / m.x, y = c.y / m.y, h = t ? g(f, y) : s(f, y); return a = this.getScaleZoom(h, a), _ && (a = u(a / (_ / 100)) * (_ / 100), a = t ? i(a / _) * _ : p(a / _) * _), g(n, s(r, a)) }, getSize: function () { return (!this._size || this._sizeChanged) && (this._size = new O(this._container.clientWidth || 0, this._container.clientHeight || 0), this._sizeChanged = !1), this._size.clone() }, getPixelBounds: function (e, t) { var o = this._getTopLeftPoint(e, t); return new z(o, o.add(this.getSize())) }, getPixelOrigin: function () { return this._checkIfLoaded(), this._pixelOrigin }, getPixelWorldBounds: function (e) { return this.options.crs.getProjectedBounds(e === void 0 ? this.getZoom() : e) }, getPane: function (e) { return 'string' == typeof e ? this._panes[e] : e }, getPanes: function () { return this._panes }, getContainer: function () { return this._container }, getZoomScale: function (e, t) { var o = this.options.crs; return t = void 0 === t ? this._zoom : t, o.scale(e) / o.scale(t) }, getScaleZoom: function (e, t) { var o = this.options.crs; t = t === void 0 ? this._zoom : t; var a = o.zoom(e * o.scale(t)); return isNaN(a) ? Infinity : a }, project: function (e, t) { return t = void 0 === t ? this._zoom : t, this.options.crs.latLngToPoint(U(e), t) }, unproject: function (e, t) { return t = void 0 === t ? this._zoom : t, this.options.crs.pointToLatLng(R(e), t) }, layerPointToLatLng: function (e) { var t = R(e).add(this.getPixelOrigin()); return this.unproject(t) }, latLngToLayerPoint: function (e) { var t = this.project(U(e))._round(); return t._subtract(this.getPixelOrigin()) }, wrapLatLng: function (e) { return this.options.crs.wrapLatLng(U(e)) }, wrapLatLngBounds: function (e) { return this.options.crs.wrapLatLngBounds(Z(e)) }, distance: function (e, t) { return this.options.crs.distance(U(e), U(t)) }, containerPointToLayerPoint: function (e) { return R(e).subtract(this._getMapPanePos()) }, layerPointToContainerPoint: function (e) { return R(e).add(this._getMapPanePos()) }, containerPointToLatLng: function (e) { var t = this.containerPointToLayerPoint(R(e)); return this.layerPointToLatLng(t) }, latLngToContainerPoint: function (e) { return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(e))) }, mouseEventToContainerPoint: function (t) { return me(t, this._container) }, mouseEventToLayerPoint: function (t) { return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t)) }, mouseEventToLatLng: function (t) { return this.layerPointToLatLng(this.mouseEventToLayerPoint(t)) }, _initContainer: function (e) { var t = this._container = ve(e); if (!t) throw new Error('Map container not found.'); else if (t._leaflet_id) throw new Error('Map container is already initialized.'); ne(t, 'scroll', this._onScroll, this), this._containerId = f(t) }, _initLayout: function () { var e = this._container; this._fadeAnimated = this.options.fadeAnimation && Kt, Te(e, 'leaflet-container' + ($t ? ' leaflet-touch' : '') + (to ? ' leaflet-retina' : '') + (Ot ? ' leaflet-oldie' : '') + (Gt ? ' leaflet-safari' : '') + (this._fadeAnimated ? ' leaflet-fade-anim' : '')); var t = xe(e, 'position'); 'absolute' !== t && 'relative' !== t && 'fixed' !== t && (e.style.position = 'relative'), this._initPanes(), this._initControlPos && this._initControlPos() }, _initPanes: function () { var e = this._panes = {}; this._paneRenderers = {}, this._mapPane = this.createPane('mapPane', this._container), ze(this._mapPane, new O(0, 0)), this.createPane('tilePane'), this.createPane('shadowPane'), this.createPane('overlayPane'), this.createPane('markerPane'), this.createPane('tooltipPane'), this.createPane('popupPane'), this.options.markerZoomAnimation || (Te(e.markerPane, 'leaflet-zoom-hide'), Te(e.shadowPane, 'leaflet-zoom-hide')) }, _resetView: function (e, t) { ze(this._mapPane, new O(0, 0)); var o = !this._loaded; this._loaded = !0, t = this._limitZoom(t), this.fire('viewprereset'); var a = this._zoom !== t; this._moveStart(a)._move(e, t)._moveEnd(a), this.fire('viewreset'), o && this.fire('load') }, _moveStart: function (e) { return e && this.fire('zoomstart'), this.fire('movestart') }, _move: function (e, t, o) { void 0 === t && (t = this._zoom); var a = this._zoom !== t; return this._zoom = t, this._lastCenter = e, this._pixelOrigin = this._getNewPixelOrigin(e), (a || o && o.pinch) && this.fire('zoom', o), this.fire('move', o) }, _moveEnd: function (e) { return e && this.fire('zoomend'), this.fire('moveend') }, _stop: function () { return M(this._flyToFrame), this._panAnim && this._panAnim.stop(), this }, _rawPanBy: function (e) { ze(this._mapPane, this._getMapPanePos().subtract(e)) }, _getZoomSpan: function () { return this.getMaxZoom() - this.getMinZoom() }, _panInsideMaxBounds: function () { this._enforcingBounds || this.panInsideBounds(this.options.maxBounds) }, _checkIfLoaded: function () { if (!this._loaded) throw new Error('Set map center and zoom first.') }, _initEvents: function (e) { this._targets = {}, this._targets[f(this._container)] = this; var t = e ? re : ne; t(this._container, 'click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress', this._handleDOMEvent, this), this.options.trackResize && t(window, 'resize', this._onResize, this), Kt && this.options.transform3DLimit && (e ? this.off : this.on).call(this, 'moveend', this._onMoveEnd) }, _onResize: function () { M(this._resizeRequest), this._resizeRequest = E(function () { this.invalidateSize({ debounceMoveend: !0 }) }, this) }, _onScroll: function () { this._container.scrollTop = 0, this._container.scrollLeft = 0 }, _onMoveEnd: function () { var e = this._getMapPanePos(); g(d(e.x), d(e.y)) >= this.options.transform3DLimit && this._resetView(this.getCenter(), this.getZoom()) }, _findEventTargets: function (t, e) { for (var o = [], a = 'mouseout' === e || 'mouseover' === e, n = t.target || t.srcElement, r = !1, i; n;) { if (i = this._targets[f(n)], i && ('click' === e || 'preclick' === e) && !t._simulated && this._draggableMoved(i)) { r = !0; break } if (i && i.listens(e, !0)) { if (a && !he(n, t)) break; if (o.push(i), a) break } if (n === this._container) break; n = n.parentNode } return o.length || r || a || !he(n, t) || (o = [this]), o }, _handleDOMEvent: function (t) { if (this._loaded && !ye(t)) { var e = t.type; ('mousedown' === e || 'keypress' === e) && je(t.target || t.srcElement), this._fireDOMEvent(t, e) } }, _mouseEvents: ['click', 'dblclick', 'mouseover', 'mouseout', 'contextmenu'], _fireDOMEvent: function (o, a, n) { if ('click' === o.type) { var r = t({}, o); r.type = 'preclick', this._fireDOMEvent(r, r.type, n) } if (!o._stopped && (n = (n || []).concat(this._findEventTargets(o, a)), !!n.length)) { var l = n[0]; 'contextmenu' === a && l.listens(a, !0) && ge(o); var s = { originalEvent: o }; if ('keypress' !== o.type) { var d = l.options && 'icon' in l.options; s.containerPoint = d ? this.latLngToContainerPoint(l.getLatLng()) : this.mouseEventToContainerPoint(o), s.layerPoint = this.containerPointToLayerPoint(s.containerPoint), s.latlng = d ? l.getLatLng() : this.layerPointToLatLng(s.layerPoint) } for (var p = 0; p < n.length; p++)if (n[p].fire(a, s, !0), s.originalEvent._stopped || !1 === n[p].options.bubblingMouseEvents && -1 !== I(this._mouseEvents, a)) return } }, _draggableMoved: function (e) { return e = e.dragging && e.dragging.enabled() ? e : this, e.dragging && e.dragging.moved() || this.boxZoom && this.boxZoom.moved() }, _clearHandlers: function () { for (var e = 0, t = this._handlers.length; e < t; e++)this._handlers[e].disable() }, whenReady: function (e, t) { return this._loaded ? e.call(t || this, { target: this }) : this.on('load', e, t), this }, _getMapPanePos: function () { return Ne(this._mapPane) || new O(0, 0) }, _moved: function () { var e = this._getMapPanePos(); return e && !e.equals([0, 0]) }, _getTopLeftPoint: function (e, t) { var o = e && t !== void 0 ? this._getNewPixelOrigin(e, t) : this.getPixelOrigin(); return o.subtract(this._getMapPanePos()) }, _getNewPixelOrigin: function (e, t) { var o = this.getSize()._divideBy(2); return this.project(e, t)._subtract(o)._add(this._getMapPanePos())._round() }, _latLngToNewLayerPoint: function (e, t, o) { var a = this._getNewPixelOrigin(o, t); return this.project(e, t)._subtract(a) }, _latLngBoundsToNewLayerBounds: function (e, t, o) { var a = this._getNewPixelOrigin(o, t); return N([this.project(e.getSouthWest(), t)._subtract(a), this.project(e.getNorthWest(), t)._subtract(a), this.project(e.getSouthEast(), t)._subtract(a), this.project(e.getNorthEast(), t)._subtract(a)]) }, _getCenterLayerPoint: function () { return this.containerPointToLayerPoint(this.getSize()._divideBy(2)) }, _getCenterOffset: function (e) { return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint()) }, _limitCenter: function (e, t, o) { if (!o) return e; var a = this.project(e, t), n = this.getSize().divideBy(2), r = new z(a.subtract(n), a.add(n)), i = this._getBoundsOffset(r, o, t); return i.round().equals([0, 0]) ? e : this.unproject(a.add(i), t) }, _limitOffset: function (e, t) { if (!t) return e; var o = this.getPixelBounds(), a = new z(o.min.add(e), o.max.add(e)); return e.add(this._getBoundsOffset(a, t)) }, _getBoundsOffset: function (e, t, o) { var a = N(this.project(t.getNorthEast(), o), this.project(t.getSouthWest(), o)), n = a.min.subtract(e.min), r = a.max.subtract(e.max), i = this._rebound(n.x, -r.x), l = this._rebound(n.y, -r.y); return new O(i, l) }, _rebound: function (e, t) { return 0 < e + t ? u(e - t) / 2 : g(0, i(e)) - g(0, p(t)) }, _limitZoom: function (e) { var t = this.getMinZoom(), o = this.getMaxZoom(), a = Kt ? this.options.zoomSnap : 1; return a && (e = u(e / a) * a), g(t, s(o, e)) }, _onPanTransitionStep: function () { this.fire('move') }, _onPanTransitionEnd: function () { Ae(this._mapPane, 'leaflet-pan-anim'), this.fire('moveend') }, _tryAnimatedPan: function (e, t) { var o = this._getCenterOffset(e)._floor(); return (!0 === (t && t.animate) || this.getSize().contains(o)) && (this.panBy(o, t), !0) }, _createAnimProxy: function () { var e = this._proxy = Le('div', 'leaflet-proxy leaflet-zoom-animated'); this._panes.mapPane.appendChild(e), this.on('zoomanim', function (t) { var e = Lo, o = this._proxy.style[e]; Re(this._proxy, this.project(t.center, t.zoom), this.getZoomScale(t.zoom, 1)), o === this._proxy.style[e] && this._animatingZoom && this._onZoomTransitionEnd() }, this), this.on('load moveend', function () { var e = this.getCenter(), t = this.getZoom(); Re(this._proxy, this.project(e, t), this.getZoomScale(t, 1)) }, this), this._on('unload', this._destroyAnimProxy, this) }, _destroyAnimProxy: function () { ke(this._proxy), delete this._proxy }, _catchTransitionEnd: function (t) { this._animatingZoom && 0 <= t.propertyName.indexOf('transform') && this._onZoomTransitionEnd() }, _nothingToAnimate: function () { return !this._container.getElementsByClassName('leaflet-zoom-animated').length }, _tryAnimatedZoom: function (e, t, o) { if (this._animatingZoom) return !0; if (o = o || {}, !this._zoomAnimated || !1 === o.animate || this._nothingToAnimate() || d(t - this._zoom) > this.options.zoomAnimationThreshold) return !1; var a = this.getZoomScale(t), n = this._getCenterOffset(e)._divideBy(1 - 1 / a); return (!0 === o.animate || this.getSize().contains(n)) && (E(function () { this._moveStart(!0)._animateZoom(e, t, !0) }, this), !0) }, _animateZoom: function (e, t, o, a) { o && (this._animatingZoom = !0, this._animateToCenter = e, this._animateToZoom = t, Te(this._mapPane, 'leaflet-zoom-anim')), this.fire('zoomanim', { center: e, zoom: t, noUpdate: a }), setTimeout(_(this._onZoomTransitionEnd, this), 250) }, _onZoomTransitionEnd: function () { this._animatingZoom && (Ae(this._mapPane, 'leaflet-zoom-anim'), this._animatingZoom = !1, this._move(this._animateToCenter, this._animateToZoom), E(function () { this._moveEnd(!0) }, this)) } }), Do = S.extend({ options: { position: 'topright' }, initialize: function (e) { w(this, e) }, getPosition: function () { return this.options.position }, setPosition: function (e) { var t = this._map; return t && t.removeControl(this), this.options.position = e, t && t.addControl(this), this }, getContainer: function () { return this._container }, addTo: function (e) { this.remove(), this._map = e; var t = this._container = this.onAdd(e), o = this.getPosition(), a = e._controlCorners[o]; return Te(t, 'leaflet-control'), -1 === o.indexOf('bottom') ? a.appendChild(t) : a.insertBefore(t, a.firstChild), this }, remove: function () { return this._map ? (ke(this._container), this.onRemove && this.onRemove(this._map), this._map = null, this) : this }, _refocusOnMap: function (t) { this._map && t && 0 < t.screenX && 0 < t.screenY && this._map.getContainer().focus() } }), Oo = function (e) { return new Do(e) }, Ro, zo; So.include({ addControl: function (e) { return e.addTo(this), this }, removeControl: function (e) { return e.remove(), this }, _initControlPos: function () { function e(e, n) { t[e + n] = Le('div', o + e + ' ' + o + n, a) } var t = this._controlCorners = {}, o = 'leaflet-', a = this._controlContainer = Le('div', o + 'control-container', this._container); e('top', 'left'), e('top', 'right'), e('bottom', 'left'), e('bottom', 'right') }, _clearControlPos: function () { for (var e in this._controlCorners) ke(this._controlCorners[e]); ke(this._controlContainer), delete this._controlCorners, delete this._controlContainer } }); var No = Do.extend({ options: { collapsed: !0, position: 'topright', autoZIndex: !0, hideSingleBase: !1, sortLayers: !1, sortFunction: function (e, t, o, a) { return o < a ? -1 : a < o ? 1 : 0 } }, initialize: function (e, t, o) { for (var a in w(this, o), this._layerControlInputs = [], this._layers = [], this._lastZIndex = 0, this._handlingClick = !1, e) this._addLayer(e[a], a); for (a in t) this._addLayer(t[a], a, !0) }, onAdd: function (e) { this._initLayout(), this._update(), this._map = e, e.on('zoomend', this._checkDisabledLayers, this); for (var t = 0; t < this._layers.length; t++)this._layers[t].layer.on('add remove', this._onLayerChange, this); return this._container }, addTo: function (e) { return Do.prototype.addTo.call(this, e), this._expandIfNotCollapsed() }, onRemove: function () { this._map.off('zoomend', this._checkDisabledLayers, this); for (var e = 0; e < this._layers.length; e++)this._layers[e].layer.off('add remove', this._onLayerChange, this) }, addBaseLayer: function (e, t) { return this._addLayer(e, t), this._map ? this._update() : this }, addOverlay: function (e, t) { return this._addLayer(e, t, !0), this._map ? this._update() : this }, removeLayer: function (e) { e.off('add remove', this._onLayerChange, this); var t = this._getLayer(f(e)); return t && this._layers.splice(this._layers.indexOf(t), 1), this._map ? this._update() : this }, expand: function () { Te(this._container, 'leaflet-control-layers-expanded'), this._form.style.height = null; var e = this._map.getSize().y - (this._container.offsetTop + 50); return e < this._form.clientHeight ? (Te(this._form, 'leaflet-control-layers-scrollbar'), this._form.style.height = e + 'px') : Ae(this._form, 'leaflet-control-layers-scrollbar'), this._checkDisabledLayers(), this }, collapse: function () { return Ae(this._container, 'leaflet-control-layers-expanded'), this }, _initLayout: function () { var e = 'leaflet-control-layers', t = this._container = Le('div', e), o = this.options.collapsed; t.setAttribute('aria-haspopup', !0), ce(t), pe(t); var a = this._form = Le('form', e + '-list'); o && (this._map.on('click', this.collapse, this), !Nt && ne(t, { mouseenter: this.expand, mouseleave: this.collapse }, this)); var n = this._layersLink = Le('a', e + '-toggle', t); n.href = '#', n.title = 'Layers', $t ? (ne(n, 'click', ue), ne(n, 'click', this.expand, this)) : ne(n, 'focus', this.expand, this), o || this.expand(), this._baseLayersList = Le('div', e + '-base', a), this._separator = Le('div', e + '-separator', a), this._overlaysList = Le('div', e + '-overlays', a), t.appendChild(a) }, _getLayer: function (e) { for (var t = 0; t < this._layers.length; t++)if (this._layers[t] && f(this._layers[t].layer) === e) return this._layers[t] }, _addLayer: function (e, t, o) { this._map && e.on('add remove', this._onLayerChange, this), this._layers.push({ layer: e, name: t, overlay: o }), this.options.sortLayers && this._layers.sort(_(function (e, t) { return this.options.sortFunction(e.layer, t.layer, e.name, t.name) }, this)), this.options.autoZIndex && e.setZIndex && (this._lastZIndex++, e.setZIndex(this._lastZIndex)), this._expandIfNotCollapsed() }, _update: function () { if (!this._container) return this; we(this._baseLayersList), we(this._overlaysList), this._layerControlInputs = []; var e = 0, t, o, a, n; for (a = 0; a < this._layers.length; a++)n = this._layers[a], this._addItem(n), o = o || n.overlay, t = t || !n.overlay, e += n.overlay ? 0 : 1; return this.options.hideSingleBase && (t = t && 1 < e, this._baseLayersList.style.display = t ? '' : 'none'), this._separator.style.display = o && t ? '' : 'none', this }, _onLayerChange: function (t) { this._handlingClick || this._update(); var e = this._getLayer(f(t.target)), o = e.overlay ? 'add' === t.type ? 'overlayadd' : 'overlayremove' : 'add' === t.type ? 'baselayerchange' : null; o && this._map.fire(o, e) }, _createRadioElement: function (e, t) { var o = '<input type="radio" class="leaflet-control-layers-selector" name="' + e + '"' + (t ? ' checked="checked"' : '') + '/>', a = document.createElement('div'); return a.innerHTML = o, a.firstChild }, _addItem: function (e) { var t = document.createElement('label'), o = this._map.hasLayer(e.layer), a; e.overlay ? (a = document.createElement('input'), a.type = 'checkbox', a.className = 'leaflet-control-layers-selector', a.defaultChecked = o) : a = this._createRadioElement('leaflet-base-layers', o), this._layerControlInputs.push(a), a.layerId = f(e.layer), ne(a, 'click', this._onInputClick, this); var n = document.createElement('span'); n.innerHTML = ' ' + e.name; var r = document.createElement('div'); t.appendChild(r), r.appendChild(a), r.appendChild(n); var i = e.overlay ? this._overlaysList : this._baseLayersList; return i.appendChild(t), this._checkDisabledLayers(), t }, _onInputClick: function () { var e = this._layerControlInputs, t = [], o = [], a, n; this._handlingClick = !0; for (var r = e.length - 1; 0 <= r; r--)a = e[r], n = this._getLayer(a.layerId).layer, a.checked ? t.push(n) : !a.checked && o.push(n); for (r = 0; r < o.length; r++)this._map.hasLayer(o[r]) && this._map.removeLayer(o[r]); for (r = 0; r < t.length; r++)this._map.hasLayer(t[r]) || this._map.addLayer(t[r]); this._handlingClick = !1, this._refocusOnMap() }, _checkDisabledLayers: function () { for (var e = this._layerControlInputs, t = this._map.getZoom(), o = e.length - 1, a, n; 0 <= o; o--)a = e[o], n = this._getLayer(a.layerId).layer, a.disabled = void 0 !== n.options.minZoom && t < n.options.minZoom || void 0 !== n.options.maxZoom && t > n.options.maxZoom }, _expandIfNotCollapsed: function () { return this._map && !this.options.collapsed && this.expand(), this }, _expand: function () { return this.expand() }, _collapse: function () { return this.collapse() } }), Bo = Do.extend({ options: { position: 'topleft', zoomInText: '+', zoomInTitle: 'Zoom in', zoomOutText: '&#x2212;', zoomOutTitle: 'Zoom out' }, onAdd: function (e) { var t = 'leaflet-control-zoom', o = Le('div', t + ' leaflet-bar'), a = this.options; return this._zoomInButton = this._createButton(a.zoomInText, a.zoomInTitle, t + '-in', o, this._zoomIn), this._zoomOutButton = this._createButton(a.zoomOutText, a.zoomOutTitle, t + '-out', o, this._zoomOut), this._updateDisabled(), e.on('zoomend zoomlevelschange', this._updateDisabled, this), o }, onRemove: function (e) { e.off('zoomend zoomlevelschange', this._updateDisabled, this) }, disable: function () { return this._disabled = !0, this._updateDisabled(), this }, enable: function () { return this._disabled = !1, this._updateDisabled(), this }, _zoomIn: function (t) { !this._disabled && this._map._zoom < this._map.getMaxZoom() && this._map.zoomIn(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1)) }, _zoomOut: function (t) { !this._disabled && this._map._zoom > this._map.getMinZoom() && this._map.zoomOut(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1)) }, _createButton: function (e, t, o, a, n) { var r = Le('a', o, a); return r.innerHTML = e, r.href = '#', r.title = t, r.setAttribute('role', 'button'), r.setAttribute('aria-label', t), ce(r), ne(r, 'click', ue), ne(r, 'click', n, this), ne(r, 'click', this._refocusOnMap, this), r }, _updateDisabled: function () { var e = this._map, t = 'leaflet-disabled'; Ae(this._zoomInButton, t), Ae(this._zoomOutButton, t), (this._disabled || e._zoom === e.getMinZoom()) && Te(this._zoomOutButton, t), (this._disabled || e._zoom === e.getMaxZoom()) && Te(this._zoomInButton, t) } }); So.mergeOptions({ zoomControl: !0 }), So.addInitHook(function () { this.options.zoomControl && (this.zoomControl = new Bo, this.addControl(this.zoomControl)) }); var Zo = Do.extend({ options: { position: 'bottomleft', maxWidth: 100, metric: !0, imperial: !0 }, onAdd: function (e) { var t = 'leaflet-control-scale', o = Le('div', t), a = this.options; return this._addScales(a, t + '-line', o), e.on(a.updateWhenIdle ? 'moveend' : 'move', this._update, this), e.whenReady(this._update, this), o }, onRemove: function (e) { e.off(this.options.updateWhenIdle ? 'moveend' : 'move', this._update, this) }, _addScales: function (e, t, o) { e.metric && (this._mScale = Le('div', t, o)), e.imperial && (this._iScale = Le('div', t, o)) }, _update: function () { var e = this._map, t = e.getSize().y / 2, o = e.distance(e.containerPointToLatLng([0, t]), e.containerPointToLatLng([this.options.maxWidth, t])); this._updateScales(o) }, _updateScales: function (e) { this.options.metric && e && this._updateMetric(e), this.options.imperial && e && this._updateImperial(e) }, _updateMetric: function (e) { var t = this._getRoundNum(e), o = 1e3 > t ? t + ' m' : t / 1e3 + ' km'; this._updateScale(this._mScale, o, t / e) }, _updateImperial: function (e) { var t = 3.2808399 * e, o, a, n; 5280 < t ? (o = t / 5280, a = this._getRoundNum(o), this._updateScale(this._iScale, a + ' mi', a / o)) : (n = this._getRoundNum(t), this._updateScale(this._iScale, n + ' ft', n / t)) }, _updateScale: function (e, t, o) { e.style.width = u(this.options.maxWidth * o) + 'px', e.innerHTML = t }, _getRoundNum: function (e) { var t = m(10, (p(e) + '').length - 1), o = e / t; return o = 10 <= o ? 10 : 5 <= o ? 5 : 3 <= o ? 3 : 2 <= o ? 2 : 1, t * o } }), jo = Do.extend({ options: { position: 'bottomright', prefix: '<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>' }, initialize: function (e) { w(this, e), this._attributions = {} }, onAdd: function (e) { for (var t in e.attributionControl = this, this._container = Le('div', 'leaflet-control-attribution'), ce(this._container), e._layers) e._layers[t].getAttribution && this.addAttribution(e._layers[t].getAttribution()); return this._update(), this._container }, setPrefix: function (e) { return this.options.prefix = e, this._update(), this }, addAttribution: function (e) { return e ? (this._attributions[e] || (this._attributions[e] = 0), this._attributions[e]++, this._update(), this) : this }, removeAttribution: function (e) { return e ? (this._attributions[e] && (this._attributions[e]--, this._update()), this) : this }, _update: function () { if (this._map) { var e = []; for (var t in this._attributions) this._attributions[t] && e.push(t); var o = []; this.options.prefix && o.push(this.options.prefix), e.length && o.push(e.join(', ')), this._container.innerHTML = o.join(' | ') } } }); So.mergeOptions({ attributionControl: !0 }), So.addInitHook(function () { this.options.attributionControl && new jo().addTo(this) }); Do.Layers = No, Do.Zoom = Bo, Do.Scale = Zo, Do.Attribution = jo, Oo.layers = function (e, t, o) { return new No(e, t, o) }, Oo.zoom = function (e) { return new Bo(e) }, Oo.scale = function (e) { return new Zo(e) }, Oo.attribution = function (e) { return new jo(e) }; var Uo = S.extend({ initialize: function (e) { this._map = e }, enable: function () { return this._enabled ? this : (this._enabled = !0, this.addHooks(), this) }, disable: function () { return this._enabled ? (this._enabled = !1, this.removeHooks(), this) : this }, enabled: function () { return !!this._enabled } }), Go = $t ? 'touchstart mousedown' : 'mousedown', Ho = { mousedown: 'mouseup', touchstart: 'touchend', pointerdown: 'touchend', MSPointerDown: 'touchend' }, Fo = { mousedown: 'mousemove', touchstart: 'touchmove', pointerdown: 'touchmove', MSPointerDown: 'touchmove' }, Yo = Pt.extend({ options: { clickTolerance: 3 }, initialize: function (e, t, o, a) { w(this, a), this._element = e, this._dragStartTarget = t || e, this._preventOutline = o }, enable: function () { this._enabled || (ne(this._dragStartTarget, Go, this._onDown, this), this._enabled = !0) }, disable: function () { this._enabled && (Yo._dragging === this && this.finishDrag(), re(this._dragStartTarget, Go, this._onDown, this), this._enabled = !1, this._moved = !1) }, _onDown: function (t) { if (!t._simulated && this._enabled && (this._moved = !1, !Ie(this._element, 'leaflet-zoom-anim')) && !(Yo._dragging || t.shiftKey || 1 !== t.which && 1 !== t.button && !t.touches) && (Yo._dragging = this, this._preventOutline && je(this._element), Be(), Po(), !this._moving)) { this.fire('down'); var e = t.touches ? t.touches[0] : t; this._startPoint = new O(e.clientX, e.clientY), ne(document, Fo[t.type], this._onMove, this), ne(document, Ho[t.type], this._onUp, this) } }, _onMove: function (t) { if (!t._simulated && this._enabled) { if (t.touches && 1 < t.touches.length) return void (this._moved = !0); var e = t.touches && 1 === t.touches.length ? t.touches[0] : t, o = new O(e.clientX, e.clientY), a = o.subtract(this._startPoint); (a.x || a.y) && !(d(a.x) + d(a.y) < this.options.clickTolerance) && (ge(t), !this._moved && (this.fire('dragstart'), this._moved = !0, this._startPos = Ne(this._element).subtract(a), Te(document.body, 'leaflet-dragging'), this._lastTarget = t.target || t.srcElement, window.SVGElementInstance && this._lastTarget instanceof SVGElementInstance && (this._lastTarget = this._lastTarget.correspondingUseElement), Te(this._lastTarget, 'leaflet-drag-target')), this._newPos = this._startPos.add(a), this._moving = !0, M(this._animRequest), this._lastEvent = t, this._animRequest = E(this._updatePosition, this, !0)) } }, _updatePosition: function () { var t = { originalEvent: this._lastEvent }; this.fire('predrag', t), ze(this._element, this._newPos), this.fire('drag', t) }, _onUp: function (t) { t._simulated || !this._enabled || this.finishDrag() }, finishDrag: function () { for (var e in Ae(document.body, 'leaflet-dragging'), this._lastTarget && (Ae(this._lastTarget, 'leaflet-drag-target'), this._lastTarget = null), Fo) re(document, Fo[e], this._onMove, this), re(document, Ho[e], this._onUp, this); Ze(), Io(), this._moved && this._moving && (M(this._animRequest), this.fire('dragend', { distance: this._newPos.distanceTo(this._startPos) })), this._moving = !1, Yo._dragging = !1 } }), Wo = (Object.freeze || Object)({ simplify: Ge, pointToSegmentDistance: He, closestPointOnSegment: function (e, t, o) { return Xe(e, t, o) }, clipSegment: Ve, _getEdgeIntersection: qe, _getBitCode: Ke, _sqClosestPointOnSegment: Xe, isFlat: Qe, _flat: $e }), Vo = (Object.freeze || Object)({ clipPolygon: et }), qo = { project: function (e) { return new O(e.lng, e.lat) }, unproject: function (e) { return new j(e.y, e.x) }, bounds: new z([-180, -90], [180, 90]) }, Ko = { R: 6378137, R_MINOR: 6356752.314245179, bounds: new z([-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]), project: function (t) { var a = l / 180, i = this.R, s = t.lat * a, d = this.R_MINOR / i, p = c(1 - d * d), e = p * o(s), u = Math.tan(l / 4 - s / 2) / m((1 - e) / (1 + e), p / 2); return s = -i * n(g(u, 1e-10)), new O(t.lng * a * i, s) }, unproject: function (t) { for (var a = 180 / l, n = this.R, r = this.R_MINOR / n, s = c(1 - r * r), e = ut(-t.y / n), p = l / 2 - 2 * gt(e), g = 0, i = 0.1, u; 15 > g && 1e-7 < d(i); g++)u = s * o(p), u = m((1 - u) / (1 + u), s / 2), i = l / 2 - 2 * gt(e * u) - p, p += i; return new j(p * a, t.x * a / n) } }, Jo = (Object.freeze || Object)({ LonLat: qo, Mercator: Ko, SphericalMercator: At }), Xo = t({}, Tt, { code: 'EPSG:3395', projection: Ko, transformation: function () { var e = 0.5 / (l * Ko.R); return H(e, 0.5, -e, 0.5) }() }), Qo = t({}, Tt, { code: 'EPSG:4326', projection: qo, transformation: H(1 / 180, 1, -1 / 180, 0.5) }), $o = t({}, It, { projection: qo, transformation: H(1, 0, -1, 0), scale: function (e) { return m(2, e) }, zoom: function (e) { return n(e) / a }, distance: function (e, t) { var o = t.lng - e.lng, a = t.lat - e.lat; return c(o * o + a * a) }, infinite: !0 }), ea; It.Earth = Tt, It.EPSG3395 = Xo, It.EPSG3857 = Et, It.EPSG900913 = Mt, It.EPSG4326 = Qo, It.Simple = $o; var ta = Pt.extend({ options: { pane: 'overlayPane', attribution: null, bubblingMouseEvents: !0 }, addTo: function (e) { return e.addLayer(this), this }, remove: function () { return this.removeFrom(this._map || this._mapToAdd) }, removeFrom: function (e) { return e && e.removeLayer(this), this }, getPane: function (e) { return this._map.getPane(e ? this.options[e] || e : this.options.pane) }, addInteractiveTarget: function (e) { return this._map._targets[f(e)] = this, this }, removeInteractiveTarget: function (e) { return delete this._map._targets[f(e)], this }, getAttribution: function () { return this.options.attribution }, _layerAdd: function (t) { var e = t.target; if (e.hasLayer(this)) { if (this._map = e, this._zoomAnimated = e._zoomAnimated, this.getEvents) { var o = this.getEvents(); e.on(o, this), this.once('remove', function () { e.off(o, this) }, this) } this.onAdd(e), this.getAttribution && e.attributionControl && e.attributionControl.addAttribution(this.getAttribution()), this.fire('add'), e.fire('layeradd', { layer: this }) } } }); So.include({ addLayer: function (e) { if (!e._layerAdd) throw new Error('The provided object is not a Layer.'); var t = f(e); return this._layers[t] ? this : (this._layers[t] = e, e._mapToAdd = this, e.beforeAdd && e.beforeAdd(this), this.whenReady(e._layerAdd, e), this) }, removeLayer: function (e) { var t = f(e); return this._layers[t] ? (this._loaded && e.onRemove(this), e.getAttribution && this.attributionControl && this.attributionControl.removeAttribution(e.getAttribution()), delete this._layers[t], this._loaded && (this.fire('layerremove', { layer: e }), e.fire('remove')), e._map = e._mapToAdd = null, this) : this }, hasLayer: function (e) { return !!e && f(e) in this._layers }, eachLayer: function (e, t) { for (var o in this._layers) e.call(t, this._layers[o]); return this }, _addLayers: function (e) { e = e ? bt(e) ? e : [e] : []; for (var t = 0, o = e.length; t < o; t++)this.addLayer(e[t]) }, _addZoomLimit: function (e) { (isNaN(e.options.maxZoom) || !isNaN(e.options.minZoom)) && (this._zoomBoundLayers[f(e)] = e, this._updateZoomLevels()) }, _removeZoomLimit: function (e) { var t = f(e); this._zoomBoundLayers[t] && (delete this._zoomBoundLayers[t], this._updateZoomLevels()) }, _updateZoomLevels: function () { var e = Infinity, t = -Infinity, o = this._getZoomSpan(); for (var a in this._zoomBoundLayers) { var n = this._zoomBoundLayers[a].options; e = n.minZoom === void 0 ? e : s(e, n.minZoom), t = n.maxZoom === void 0 ? t : g(t, n.maxZoom) } this._layersMaxZoom = t === -Infinity ? void 0 : t, this._layersMinZoom = e === Infinity ? void 0 : e, o !== this._getZoomSpan() && this.fire('zoomlevelschange'), this.options.maxZoom === void 0 && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom && this.setZoom(this._layersMaxZoom), this.options.minZoom === void 0 && this._layersMinZoom && this.getZoom() < this._layersMinZoom && this.setZoom(this._layersMinZoom) } }); var oa = ta.extend({ initialize: function (e) { this._layers = {}; var t, o; if (e) for (t = 0, o = e.length; t < o; t++)this.addLayer(e[t]) }, addLayer: function (e) { var t = this.getLayerId(e); return this._layers[t] = e, this._map && this._map.addLayer(e), this }, removeLayer: function (e) { var t = e in this._layers ? e : this.getLayerId(e); return this._map && this._layers[t] && this._map.removeLayer(this._layers[t]), delete this._layers[t], this }, hasLayer: function (e) { return !!e && (e in this._layers || this.getLayerId(e) in this._layers) }, clearLayers: function () { for (var e in this._layers) this.removeLayer(this._layers[e]); return this }, invoke: function (e) { var t = Array.prototype.slice.call(arguments, 1), o, a; for (o in this._layers) a = this._layers[o], a[e] && a[e].apply(a, t); return this }, onAdd: function (e) { for (var t in this._layers) e.addLayer(this._layers[t]) }, onRemove: function (e) { for (var t in this._layers) e.removeLayer(this._layers[t]) }, eachLayer: function (e, t) { for (var o in this._layers) e.call(t, this._layers[o]); return this }, getLayer: function (e) { return this._layers[e] }, getLayers: function () { var e = []; for (var t in this._layers) e.push(this._layers[t]); return e }, setZIndex: function (e) { return this.invoke('setZIndex', e) }, getLayerId: function (e) { return f(e) } }), aa = oa.extend({ addLayer: function (e) { return this.hasLayer(e) ? this : (e.addEventParent(this), oa.prototype.addLayer.call(this, e), this.fire('layeradd', { layer: e })) }, removeLayer: function (e) { return this.hasLayer(e) ? (e in this._layers && (e = this._layers[e]), e.removeEventParent(this), oa.prototype.removeLayer.call(this, e), this.fire('layerremove', { layer: e })) : this }, setStyle: function (e) { return this.invoke('setStyle', e) }, bringToFront: function () { return this.invoke('bringToFront') }, bringToBack: function () { return this.invoke('bringToBack') }, getBounds: function () { var e = new B; for (var t in this._layers) { var o = this._layers[t]; e.extend(o.getBounds ? o.getBounds() : o.getLatLng()) } return e } }), na = S.extend({ initialize: function (e) { w(this, e) }, createIcon: function (e) { return this._createIcon('icon', e) }, createShadow: function (e) { return this._createIcon('shadow', e) }, _createIcon: function (e, t) { var o = this._getIconUrl(e); if (!o) { if ('icon' === e) throw new Error('iconUrl not set in Icon options (see the docs).'); return null } var a = this._createImg(o, t && 'IMG' === t.tagName ? t : null); return this._setIconStyles(a, e), a }, _setIconStyles: function (e, t) { var o = this.options, a = o[t + 'Size']; 'number' == typeof a && (a = [a, a]); var n = R(a), r = R('shadow' === t && o.shadowAnchor || o.iconAnchor || n && n.divideBy(2, !0)); e.className = 'leaflet-marker-' + t + ' ' + (o.className || ''), r && (e.style.marginLeft = -r.x + 'px', e.style.marginTop = -r.y + 'px'), n && (e.style.width = n.x + 'px', e.style.height = n.y + 'px') }, _createImg: function (e, t) { return t = t || document.createElement('img'), t.src = e, t }, _getIconUrl: function (e) { return to && this.options[e + 'RetinaUrl'] || this.options[e + 'Url'] } }), ra = na.extend({ options: { iconUrl: 'marker-icon.png', iconRetinaUrl: 'marker-icon-2x.png', shadowUrl: 'marker-shadow.png', iconSize: [25, 41], iconAnchor: [12, 41], popupAnchor: [1, -34], tooltipAnchor: [16, -28], shadowSize: [41, 41] }, _getIconUrl: function (e) { return ra.imagePath || (ra.imagePath = this._detectIconPath()), (this.options.imagePath || ra.imagePath) + na.prototype._getIconUrl.call(this, e) }, _detectIconPath: function () { var e = Le('div', 'leaflet-default-icon-path', document.body), t = xe(e, 'background-image') || xe(e, 'backgroundImage'); return document.body.removeChild(e), t = null === t || 0 !== t.indexOf('url') ? '' : t.replace(/^url\([\"\']?/, '').replace(/marker-icon\.png[\"\']?\)$/, ''), t } }), ia = Uo.extend({ initialize: function (e) { this._marker = e }, addHooks: function () { var e = this._marker._icon; this._draggable || (this._draggable = new Yo(e, e, !0)), this._draggable.on({ dragstart: this._onDragStart, drag: this._onDrag, dragend: this._onDragEnd }, this).enable(), Te(e, 'leaflet-marker-draggable') }, removeHooks: function () { this._draggable.off({ dragstart: this._onDragStart, drag: this._onDrag, dragend: this._onDragEnd }, this).disable(), this._marker._icon && Ae(this._marker._icon, 'leaflet-marker-draggable') }, moved: function () { return this._draggable && this._draggable._moved }, _onDragStart: function () { this._oldLatLng = this._marker.getLatLng(), this._marker.closePopup().fire('movestart').fire('dragstart') }, _onDrag: function (t) { var e = this._marker, o = e._shadow, a = Ne(e._icon), n = e._map.layerPointToLatLng(a); o && ze(o, a), e._latlng = n, t.latlng = n, t.oldLatLng = this._oldLatLng, e.fire('move', t).fire('drag', t) }, _onDragEnd: function (t) { delete this._oldLatLng, this._marker.fire('moveend').fire('dragend', t) } }), la = ta.extend({ options: { icon: new ra, interactive: !0, draggable: !1, keyboard: !0, title: '', alt: '', zIndexOffset: 0, opacity: 1, riseOnHover: !1, riseOffset: 250, pane: 'markerPane', bubblingMouseEvents: !1 }, initialize: function (e, t) { w(this, t), this._latlng = U(e) }, onAdd: function (e) { this._zoomAnimated = this._zoomAnimated && e.options.markerZoomAnimation, this._zoomAnimated && e.on('zoomanim', this._animateZoom, this), this._initIcon(), this.update() }, onRemove: function (e) { this.dragging && this.dragging.enabled() && (this.options.draggable = !0, this.dragging.removeHooks()), delete this.dragging, this._zoomAnimated && e.off('zoomanim', this._animateZoom, this), this._removeIcon(), this._removeShadow() }, getEvents: function () { return { zoom: this.update, viewreset: this.update } }, getLatLng: function () { return this._latlng }, setLatLng: function (e) { var t = this._latlng; return this._latlng = U(e), this.update(), this.fire('move', { oldLatLng: t, latlng: this._latlng }) }, setZIndexOffset: function (e) { return this.options.zIndexOffset = e, this.update() }, setIcon: function (e) { return this.options.icon = e, this._map && (this._initIcon(), this.update()), this._popup && this.bindPopup(this._popup, this._popup.options), this }, getElement: function () { return this._icon }, update: function () { if (this._icon) { var e = this._map.latLngToLayerPoint(this._latlng).round(); this._setPos(e) } return this }, _initIcon: function () { var e = this.options, t = 'leaflet-zoom-' + (this._zoomAnimated ? 'animated' : 'hide'), o = e.icon.createIcon(this._icon), a = !1; o !== this._icon && (this._icon && this._removeIcon(), a = !0, e.title && (o.title = e.title), e.alt && (o.alt = e.alt)), Te(o, t), e.keyboard && (o.tabIndex = '0'), this._icon = o, e.riseOnHover && this.on({ mouseover: this._bringToFront, mouseout: this._resetZIndex }); var n = e.icon.createShadow(this._shadow), r = !1; n !== this._shadow && (this._removeShadow(), r = !0), n && (Te(n, t), n.alt = ''), this._shadow = n, 1 > e.opacity && this._updateOpacity(), a && this.getPane().appendChild(this._icon), this._initInteraction(), n && r && this.getPane('shadowPane').appendChild(this._shadow) }, _removeIcon: function () { this.options.riseOnHover && this.off({ mouseover: this._bringToFront, mouseout: this._resetZIndex }), ke(this._icon), this.removeInteractiveTarget(this._icon), this._icon = null }, _removeShadow: function () { this._shadow && ke(this._shadow), this._shadow = null }, _setPos: function (e) { ze(this._icon, e), this._shadow && ze(this._shadow, e), this._zIndex = e.y + this.options.zIndexOffset, this._resetZIndex() }, _updateZIndex: function (e) { this._icon.style.zIndex = this._zIndex + e }, _animateZoom: function (e) { var t = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center).round(); this._setPos(t) }, _initInteraction: function () { if (this.options.interactive && (Te(this._icon, 'leaflet-interactive'), this.addInteractiveTarget(this._icon), ia)) { var e = this.options.draggable; this.dragging && (e = this.dragging.enabled(), this.dragging.disable()), this.dragging = new ia(this), e && this.dragging.enable() } }, setOpacity: function (e) { return this.options.opacity = e, this._map && this._updateOpacity(), this }, _updateOpacity: function () { var e = this.options.opacity; Se(this._icon, e), this._shadow && Se(this._shadow, e) }, _bringToFront: function () { this._updateZIndex(this.options.riseOffset) }, _resetZIndex: function () { this._updateZIndex(0) }, _getPopupAnchor: function () { return this.options.icon.options.popupAnchor || [0, 0] }, _getTooltipAnchor: function () { return this.options.icon.options.tooltipAnchor || [0, 0] } }), sa = ta.extend({ options: { stroke: !0, color: '#3388ff', weight: 3, opacity: 1, lineCap: 'round', lineJoin: 'round', dashArray: null, dashOffset: null, fill: !1, fillColor: null, fillOpacity: 0.2, fillRule: 'evenodd', interactive: !0, bubblingMouseEvents: !0 }, beforeAdd: function (e) { this._renderer = e.getRenderer(this) }, onAdd: function () { this._renderer._initPath(this), this._reset(), this._renderer._addPath(this) }, onRemove: function () { this._renderer._removePath(this) }, redraw: function () { return this._map && this._renderer._updatePath(this), this }, setStyle: function (e) { return w(this, e), this._renderer && this._renderer._updateStyle(this), this }, bringToFront: function () { return this._renderer && this._renderer._bringToFront(this), this }, bringToBack: function () { return this._renderer && this._renderer._bringToBack(this), this }, getElement: function () { return this._path }, _reset: function () { this._project(), this._update() }, _clickTolerance: function () { return (this.options.stroke ? this.options.weight / 2 : 0) + ($t ? 10 : 0) } }), da = sa.extend({ options: { fill: !0, radius: 10 }, initialize: function (e, t) { w(this, t), this._latlng = U(e), this._radius = this.options.radius }, setLatLng: function (e) { return this._latlng = U(e), this.redraw(), this.fire('move', { latlng: this._latlng }) }, getLatLng: function () { return this._latlng }, setRadius: function (e) { return this.options.radius = this._radius = e, this.redraw() }, getRadius: function () { return this._radius }, setStyle: function (e) { var t = e && e.radius || this._radius; return sa.prototype.setStyle.call(this, e), this.setRadius(t), this }, _project: function () { this._point = this._map.latLngToLayerPoint(this._latlng), this._updateBounds() }, _updateBounds: function () { var e = this._radius, t = this._radiusY || e, o = this._clickTolerance(), a = [e + o, t + o]; this._pxBounds = new z(this._point.subtract(a), this._point.add(a)) }, _update: function () { this._map && this._updatePath() }, _updatePath: function () { this._renderer._updateCircle(this) }, _empty: function () { return this._radius && !this._renderer._bounds.intersects(this._pxBounds) }, _containsPoint: function (e) { return e.distanceTo(this._point) <= this._radius + this._clickTolerance() } }), pa = da.extend({ initialize: function (e, o, a) { if ('number' == typeof o && (o = t({}, a, { radius: o })), w(this, o), this._latlng = U(e), isNaN(this.options.radius)) throw new Error('Circle radius cannot be NaN'); this._mRadius = this.options.radius }, setRadius: function (e) { return this._mRadius = e, this.redraw() }, getRadius: function () { return this._mRadius }, getBounds: function () { var e = [this._radius, this._radiusY || this._radius]; return new B(this._map.layerPointToLatLng(this._point.subtract(e)), this._map.layerPointToLatLng(this._point.add(e))) }, setStyle: sa.prototype.setStyle, _project: function () { var e = this._latlng.lng, t = this._latlng.lat, a = this._map, n = a.options.crs; if (n.distance === Tt.distance) { var i = l / 180, s = this._mRadius / Tt.R / i, d = a.project([t + s, e]), c = a.project([t - s, e]), m = d.add(c).divideBy(2), p = a.unproject(m).lat, _ = mt((r(s * i) - o(t * i) * o(p * i)) / (r(t * i) * r(p * i))) / i; (isNaN(_) || 0 == _) && (_ = s / r(l / 180 * t)), this._point = m.subtract(a.getPixelOrigin()), this._radius = isNaN(_) ? 0 : g(u(m.x - a.project([p, e - _]).x), 1), this._radiusY = g(u(m.y - d.y), 1) } else { var f = n.unproject(n.project(this._latlng).subtract([this._mRadius, 0])); this._point = a.latLngToLayerPoint(this._latlng), this._radius = this._point.x - a.latLngToLayerPoint(f).x } this._updateBounds() } }), ca = sa.extend({ options: { smoothFactor: 1, noClip: !1 }, initialize: function (e, t) { w(this, t), this._setLatLngs(e) }, getLatLngs: function () { return this._latlngs }, setLatLngs: function (e) { return this._setLatLngs(e), this.redraw() }, isEmpty: function () { return !this._latlngs.length }, closestLayerPoint: function (e) { for (var t = Infinity, o = null, a = Xe, n = 0, r = this._parts.length, l, s, d; n < r; n++) { d = this._parts[n]; for (var p = 1, i = d.length; p < i; p++) { l = d[p - 1], s = d[p]; var g = a(e, l, s, !0); g < t && (t = g, o = a(e, l, s)) } } return o && (o.distance = c(t)), o }, getCenter: function () { if (!this._map) throw new Error('Must add layer to map before using getCenter()'); var e = this._rings[0], t = e.length, o, a, n, r, i, l, s; if (!t) return null; for (o = 0, a = 0; o < t - 1; o++)a += e[o].distanceTo(e[o + 1]) / 2; if (0 === a) return this._map.layerPointToLatLng(e[0]); for (o = 0, r = 0; o < t - 1; o++)if (i = e[o], l = e[o + 1], n = i.distanceTo(l), r += n, r > a) return s = (r - a) / n, this._map.layerPointToLatLng([l.x - s * (l.x - i.x), l.y - s * (l.y - i.y)]) }, getBounds: function () { return this._bounds }, addLatLng: function (e, t) { return t = t || this._defaultShape(), e = U(e), t.push(e), this._bounds.extend(e), this.redraw() }, _setLatLngs: function (e) { this._bounds = new B, this._latlngs = this._convertLatLngs(e) }, _defaultShape: function () { return Qe(this._latlngs) ? this._latlngs : this._latlngs[0] }, _convertLatLngs: function (e) { for (var t = [], o = Qe(e), a = 0, n = e.length; a < n; a++)o ? (t[a] = U(e[a]), this._bounds.extend(t[a])) : t[a] = this._convertLatLngs(e[a]); return t }, _project: function () { var e = new z; this._rings = [], this._projectLatlngs(this._latlngs, this._rings, e); var t = this._clickTolerance(), o = new O(t, t); this._bounds.isValid() && e.isValid() && (e.min._subtract(o), e.max._add(o), this._pxBounds = e) }, _projectLatlngs: function (e, t, o) { var a = e[0] instanceof j, n = e.length, r, i; if (a) { for (i = [], r = 0; r < n; r++)i[r] = this._map.latLngToLayerPoint(e[r]), o.extend(i[r]); t.push(i) } else for (r = 0; r < n; r++)this._projectLatlngs(e[r], t, o) }, _clipPoints: function () { var e = this._renderer._bounds; if (this._parts = [], this._pxBounds && this._pxBounds.intersects(e)) { if (this.options.noClip) return void (this._parts = this._rings); var t = this._parts, o, a, n, r, i, l, s; for (o = 0, n = 0, r = this._rings.length; o < r; o++)for (s = this._rings[o], a = 0, i = s.length; a < i - 1; a++)(l = Ve(s[a], s[a + 1], e, a, !0), !!l) && (t[n] = t[n] || [], t[n].push(l[0]), (l[1] !== s[a + 1] || a === i - 2) && (t[n].push(l[1]), n++)) } }, _simplifyPoints: function () { for (var e = this._parts, t = this.options.smoothFactor, o = 0, a = e.length; o < a; o++)e[o] = Ge(e[o], t) }, _update: function () { this._map && (this._clipPoints(), this._simplifyPoints(), this._updatePath()) }, _updatePath: function () { this._renderer._updatePoly(this) }, _containsPoint: function (e, t) { var o = this._clickTolerance(), a, n, r, i, l, s; if (!this._pxBounds || !this._pxBounds.contains(e)) return !1; for (a = 0, i = this._parts.length; a < i; a++)for (s = this._parts[a], n = 0, l = s.length, r = l - 1; n < l; r = n++)if ((t || 0 !== n) && He(e, s[r], s[n]) <= o) return !0; return !1 } }); ca._flat = $e; var ga = ca.extend({ options: { fill: !0 }, isEmpty: function () { return !this._latlngs.length || !this._latlngs[0].length }, getCenter: function () { if (!this._map) throw new Error('Must add layer to map before using getCenter()'); var e = this._rings[0], t = e.length, o, a, n, r, i, l, s, d, p; if (!t) return null; for (l = s = d = 0, o = 0, a = t - 1; o < t; a = o++)n = e[o], r = e[a], i = n.y * r.x - r.y * n.x, s += (n.x + r.x) * i, d += (n.y + r.y) * i, l += 3 * i; return p = 0 === l ? e[0] : [s / l, d / l], this._map.layerPointToLatLng(p) }, _convertLatLngs: function (e) { var t = ca.prototype._convertLatLngs.call(this, e), o = t.length; return 2 <= o && t[0] instanceof j && t[0].equals(t[o - 1]) && t.pop(), t }, _setLatLngs: function (e) { ca.prototype._setLatLngs.call(this, e), Qe(this._latlngs) && (this._latlngs = [this._latlngs]) }, _defaultShape: function () { return Qe(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0] }, _clipPoints: function () { var e = this._renderer._bounds, t = this.options.weight, o = new O(t, t); if (e = new z(e.min.subtract(o), e.max.add(o)), this._parts = [], this._pxBounds && this._pxBounds.intersects(e)) { if (this.options.noClip) return void (this._parts = this._rings); for (var a = 0, n = this._rings.length, r; a < n; a++)r = et(this._rings[a], e, !0), r.length && this._parts.push(r) } }, _updatePath: function () { this._renderer._updatePoly(this, !0) }, _containsPoint: function (e) { var t = !1, o, a, n, r, i, l, s, d; if (!this._pxBounds.contains(e)) return !1; for (r = 0, s = this._parts.length; r < s; r++)for (o = this._parts[r], i = 0, d = o.length, l = d - 1; i < d; l = i++)a = o[i], n = o[l], a.y > e.y != n.y > e.y && e.x < (n.x - a.x) * (e.y - a.y) / (n.y - a.y) + a.x && (t = !t); return t || ca.prototype._containsPoint.call(this, e, !0) } }), ua = aa.extend({ initialize: function (e, t) { w(this, t), this._layers = {}, e && this.addData(e) }, addData: function (e) { var t = bt(e) ? e : e.features, o, a, n; if (t) { for (o = 0, a = t.length; o < a; o++)n = t[o], (n.geometries || n.geometry || n.features || n.coordinates) && this.addData(n); return this } var r = this.options; if (r.filter && !r.filter(e)) return this; var i = tt(e, r); return i ? (i.feature = lt(e), i.defaultOptions = i.options, this.resetStyle(i), r.onEachFeature && r.onEachFeature(e, i), this.addLayer(i)) : this }, resetStyle: function (e) { return e.options = t({}, e.defaultOptions), this._setLayerStyle(e, this.options.style), this }, setStyle: function (e) { return this.eachLayer(function (t) { this._setLayerStyle(t, e) }, this) }, _setLayerStyle: function (e, t) { 'function' == typeof t && (t = t(e.feature)), e.setStyle && e.setStyle(t) } }), ma = { toGeoJSON: function (e) { return it(this, { type: 'Point', coordinates: nt(this.getLatLng(), e) }) } }; la.include(ma), pa.include(ma), da.include(ma), ca.include({ toGeoJSON: function (e) { var t = !Qe(this._latlngs), o = rt(this._latlngs, t ? 1 : 0, !1, e); return it(this, { type: (t ? 'Multi' : '') + 'LineString', coordinates: o }) } }), ga.include({ toGeoJSON: function (e) { var t = !Qe(this._latlngs), o = t && !Qe(this._latlngs[0]), a = rt(this._latlngs, o ? 2 : t ? 1 : 0, !0, e); return t || (a = [a]), it(this, { type: (o ? 'Multi' : '') + 'Polygon', coordinates: a }) } }), oa.include({ toMultiPoint: function (e) { var t = []; return this.eachLayer(function (o) { t.push(o.toGeoJSON(e).geometry.coordinates) }), it(this, { type: 'MultiPoint', coordinates: t }) }, toGeoJSON: function (e) { var t = this.feature && this.feature.geometry && this.feature.geometry.type; if ('MultiPoint' === t) return this.toMultiPoint(e); var o = 'GeometryCollection' === t, a = []; return this.eachLayer(function (t) { if (t.toGeoJSON) { var n = t.toGeoJSON(e); if (o) a.push(n.geometry); else { var r = lt(n); 'FeatureCollection' === r.type ? a.push.apply(a, r.features) : a.push(r) } } }), o ? it(this, { geometries: a, type: 'GeometryCollection' }) : { type: 'FeatureCollection', features: a } } }); var _a = ta.extend({ options: { opacity: 1, alt: '', interactive: !1, crossOrigin: !1, errorOverlayUrl: '', zIndex: 1, className: '' }, initialize: function (e, t, o) { this._url = e, this._bounds = Z(t), w(this, o) }, onAdd: function () { this._image || (this._initImage(), 1 > this.options.opacity && this._updateOpacity()), this.options.interactive && (Te(this._image, 'leaflet-interactive'), this.addInteractiveTarget(this._image)), this.getPane().appendChild(this._image), this._reset() }, onRemove: function () { ke(this._image), this.options.interactive && this.removeInteractiveTarget(this._image) }, setOpacity: function (e) { return this.options.opacity = e, this._image && this._updateOpacity(), this }, setStyle: function (e) { return e.opacity && this.setOpacity(e.opacity), this }, bringToFront: function () { return this._map && Ce(this._image), this }, bringToBack: function () { return this._map && Pe(this._image), this }, setUrl: function (e) { return this._url = e, this._image && (this._image.src = e), this }, setBounds: function (e) { return this._bounds = Z(e), this._map && this._reset(), this }, getEvents: function () { var e = { zoom: this._reset, viewreset: this._reset }; return this._zoomAnimated && (e.zoomanim = this._animateZoom), e }, setZIndex: function (e) { return this.options.zIndex = e, this._updateZIndex(), this }, getBounds: function () { return this._bounds }, getElement: function () { return this._image }, _initImage: function () { var e = this._image = Le('img', 'leaflet-image-layer ' + (this._zoomAnimated ? 'leaflet-zoom-animated' : '') + (this.options.className || '')); e.onselectstart = b, e.onmousemove = b, e.onload = _(this.fire, this, 'load'), e.onerror = _(this._overlayOnError, this, 'error'), this.options.crossOrigin && (e.crossOrigin = ''), this.options.zIndex && this._updateZIndex(), e.src = this._url, e.alt = this.options.alt }, _animateZoom: function (t) { var e = this._map.getZoomScale(t.zoom), o = this._map._latLngBoundsToNewLayerBounds(this._bounds, t.zoom, t.center).min; Re(this._image, o, e) }, _reset: function () { var e = this._image, t = new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()), this._map.latLngToLayerPoint(this._bounds.getSouthEast())), o = t.getSize(); ze(e, t.min), e.style.width = o.x + 'px', e.style.height = o.y + 'px' }, _updateOpacity: function () { Se(this._image, this.options.opacity) }, _updateZIndex: function () { this._image && this.options.zIndex !== void 0 && null !== this.options.zIndex && (this._image.style.zIndex = this.options.zIndex) }, _overlayOnError: function () { this.fire('error'); var e = this.options.errorOverlayUrl; e && this._url !== e && (this._url = e, this._image.src = e) } }), fa = _a.extend({ options: { autoplay: !0, loop: !0 }, _initImage: function () { var e = 'VIDEO' === this._url.tagName, t = this._image = e ? this._url : Le('video'); if (t.class = t.class || '', t.class += 'leaflet-image-layer ' + (this._zoomAnimated ? 'leaflet-zoom-animated' : ''), t.onselectstart = b, t.onmousemove = b, t.onloadeddata = _(this.fire, this, 'load'), !e) { bt(this._url) || (this._url = [this._url]), t.autoplay = !!this.options.autoplay, t.loop = !!this.options.loop; for (var o = 0, a; o < this._url.length; o++)a = Le('source'), a.src = this._url[o], t.appendChild(a) } } }), ya = ta.extend({ options: { offset: [0, 7], className: '', pane: 'popupPane' }, initialize: function (e, t) { w(this, e), this._source = t }, onAdd: function (e) { this._zoomAnimated = e._zoomAnimated, this._container || this._initLayout(), e._fadeAnimated && Se(this._container, 0), clearTimeout(this._removeTimeout), this.getPane().appendChild(this._container), this.update(), e._fadeAnimated && Se(this._container, 1), this.bringToFront() }, onRemove: function (e) { e._fadeAnimated ? (Se(this._container, 0), this._removeTimeout = setTimeout(_(ke, void 0, this._container), 200)) : ke(this._container) }, getLatLng: function () { return this._latlng }, setLatLng: function (e) { return this._latlng = U(e), this._map && (this._updatePosition(), this._adjustPan()), this }, getContent: function () { return this._content }, setContent: function (e) { return this._content = e, this.update(), this }, getElement: function () { return this._container }, update: function () { this._map && (this._container.style.visibility = 'hidden', this._updateContent(), this._updateLayout(), this._updatePosition(), this._container.style.visibility = '', this._adjustPan()) }, getEvents: function () { var e = { zoom: this._updatePosition, viewreset: this._updatePosition }; return this._zoomAnimated && (e.zoomanim = this._animateZoom), e }, isOpen: function () { return !!this._map && this._map.hasLayer(this) }, bringToFront: function () { return this._map && Ce(this._container), this }, bringToBack: function () { return this._map && Pe(this._container), this }, _updateContent: function () { if (this._content) { var e = this._contentNode, t = 'function' == typeof this._content ? this._content(this._source || this) : this._content; if ('string' == typeof t) e.innerHTML = t; else { for (; e.hasChildNodes();)e.removeChild(e.firstChild); e.appendChild(t) } this.fire('contentupdate') } }, _updatePosition: function () { if (this._map) { var e = this._map.latLngToLayerPoint(this._latlng), t = R(this.options.offset), o = this._getAnchor(); this._zoomAnimated ? ze(this._container, e.add(o)) : t = t.add(e).add(o); var a = this._containerBottom = -t.y, n = this._containerLeft = -u(this._containerWidth / 2) + t.x; this._container.style.bottom = a + 'px', this._container.style.left = n + 'px' } }, _getAnchor: function () { return [0, 0] } }), ha = ya.extend({ options: { maxWidth: 300, minWidth: 50, maxHeight: null, autoPan: !0, autoPanPaddingTopLeft: null, autoPanPaddingBottomRight: null, autoPanPadding: [5, 5], keepInView: !1, closeButton: !0, autoClose: !0, className: '' }, openOn: function (e) { return e.openPopup(this), this }, onAdd: function (e) { ya.prototype.onAdd.call(this, e), e.fire('popupopen', { popup: this }), this._source && (this._source.fire('popupopen', { popup: this }, !0), !(this._source instanceof sa) && this._source.on('preclick', de)) }, onRemove: function (e) { ya.prototype.onRemove.call(this, e), e.fire('popupclose', { popup: this }), this._source && (this._source.fire('popupclose', { popup: this }, !0), !(this._source instanceof sa) && this._source.off('preclick', de)) }, getEvents: function () { var e = ya.prototype.getEvents.call(this); return (void 0 === this.options.closeOnClick ? this._map.options.closePopupOnClick : this.options.closeOnClick) && (e.preclick = this._close), this.options.keepInView && (e.moveend = this._adjustPan), e }, _close: function () { this._map && this._map.closePopup(this) }, _initLayout: function () { var e = 'leaflet-popup', t = this._container = Le('div', e + ' ' + (this.options.className || '') + ' leaflet-zoom-animated'), o = this._wrapper = Le('div', e + '-content-wrapper', t); if (this._contentNode = Le('div', e + '-content', o), ce(o), pe(this._contentNode), ne(o, 'contextmenu', de), this._tipContainer = Le('div', e + '-tip-container', t), this._tip = Le('div', e + '-tip', this._tipContainer), this.options.closeButton) { var a = this._closeButton = Le('a', e + '-close-button', t); a.href = '#close', a.innerHTML = '&#215;', ne(a, 'click', this._onCloseButtonClick, this) } }, _updateLayout: function () { var e = this._contentNode, t = e.style; t.width = '', t.whiteSpace = 'nowrap'; var o = e.offsetWidth; o = s(o, this.options.maxWidth), o = g(o, this.options.minWidth), t.width = o + 1 + 'px', t.whiteSpace = '', t.height = ''; var a = e.offsetHeight, n = this.options.maxHeight, r = 'leaflet-popup-scrolled'; n && a > n ? (t.height = n + 'px', Te(e, r)) : Ae(e, r), this._containerWidth = this._container.offsetWidth }, _animateZoom: function (t) { var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center), o = this._getAnchor(); ze(this._container, e.add(o)) }, _adjustPan: function () { if (!(!this.options.autoPan || this._map._panAnim && this._map._panAnim._inProgress)) { var e = this._map, t = parseInt(xe(this._container, 'marginBottom'), 10) || 0, o = this._container.offsetHeight + t, a = this._containerWidth, n = new O(this._containerLeft, -o - this._containerBottom); n._add(Ne(this._container)); var r = e.layerPointToContainerPoint(n), i = R(this.options.autoPanPadding), l = R(this.options.autoPanPaddingTopLeft || i), s = R(this.options.autoPanPaddingBottomRight || i), d = e.getSize(), p = 0, c = 0; r.x + a + s.x > d.x && (p = r.x + a - d.x + s.x), 0 > r.x - p - l.x && (p = r.x - l.x), r.y + o + s.y > d.y && (c = r.y + o - d.y + s.y), 0 > r.y - c - l.y && (c = r.y - l.y), (p || c) && e.fire('autopanstart').panBy([p, c]) } }, _onCloseButtonClick: function (t) { this._close(), ue(t) }, _getAnchor: function () { return R(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0]) } }); So.mergeOptions({ closePopupOnClick: !0 }), So.include({ openPopup: function (e, t, o) { return (e instanceof ha || (e = new ha(o).setContent(e)), t && e.setLatLng(t), this.hasLayer(e)) ? this : (this._popup && this._popup.options.autoClose && this.closePopup(), this._popup = e, this.addLayer(e)) }, closePopup: function (e) { return e && e !== this._popup || (e = this._popup, this._popup = null), e && this.removeLayer(e), this } }), ta.include({ bindPopup: function (e, t) { return e instanceof ha ? (w(e, t), this._popup = e, e._source = this) : ((!this._popup || t) && (this._popup = new ha(t, this)), this._popup.setContent(e)), this._popupHandlersAdded || (this.on({ click: this._openPopup, keypress: this._onKeyPress, remove: this.closePopup, move: this._movePopup }), this._popupHandlersAdded = !0), this }, unbindPopup: function () { return this._popup && (this.off({ click: this._openPopup, keypress: this._onKeyPress, remove: this.closePopup, move: this._movePopup }), this._popupHandlersAdded = !1, this._popup = null), this }, openPopup: function (e, t) { if (e instanceof ta || (t = e, e = this), e instanceof aa) for (var o in this._layers) { e = this._layers[o]; break } return t || (t = e.getCenter ? e.getCenter() : e.getLatLng()), this._popup && this._map && (this._popup._source = e, this._popup.update(), this._map.openPopup(this._popup, t)), this }, closePopup: function () { return this._popup && this._popup._close(), this }, togglePopup: function (e) { return this._popup && (this._popup._map ? this.closePopup() : this.openPopup(e)), this }, isPopupOpen: function () { return !!this._popup && this._popup.isOpen() }, setPopupContent: function (e) { return this._popup && this._popup.setContent(e), this }, getPopup: function () { return this._popup }, _openPopup: function (t) { var e = t.layer || t.target; if (this._popup) return this._map ? (ue(t), e instanceof sa ? void this.openPopup(t.layer || t.target, t.latlng) : void (this._map.hasLayer(this._popup) && this._popup._source === e ? this.closePopup() : this.openPopup(e, t.latlng))) : void 0 }, _movePopup: function (t) { this._popup.setLatLng(t.latlng) }, _onKeyPress: function (t) { 13 === t.originalEvent.keyCode && this._openPopup(t) } }); var ba = ya.extend({ options: { pane: 'tooltipPane', offset: [0, 0], direction: 'auto', permanent: !1, sticky: !1, interactive: !1, opacity: 0.9 }, onAdd: function (e) { ya.prototype.onAdd.call(this, e), this.setOpacity(this.options.opacity), e.fire('tooltipopen', { tooltip: this }), this._source && this._source.fire('tooltipopen', { tooltip: this }, !0) }, onRemove: function (e) { ya.prototype.onRemove.call(this, e), e.fire('tooltipclose', { tooltip: this }), this._source && this._source.fire('tooltipclose', { tooltip: this }, !0) }, getEvents: function () { var e = ya.prototype.getEvents.call(this); return $t && !this.options.permanent && (e.preclick = this._close), e }, _close: function () { this._map && this._map.closeTooltip(this) }, _initLayout: function () { var e = 'leaflet-tooltip' + ' ' + (this.options.className || '') + ' leaflet-zoom-' + (this._zoomAnimated ? 'animated' : 'hide'); this._contentNode = this._container = Le('div', e) }, _updateLayout: function () { }, _adjustPan: function () { }, _setPosition: function (e) { var t = this._map, o = this._container, a = t.latLngToContainerPoint(t.getCenter()), n = t.layerPointToContainerPoint(e), r = this.options.direction, i = o.offsetWidth, l = o.offsetHeight, s = R(this.options.offset), d = this._getAnchor(); 'top' === r ? e = e.add(R(-i / 2 + s.x, -l + s.y + d.y, !0)) : 'bottom' === r ? e = e.subtract(R(i / 2 - s.x, -s.y, !0)) : 'center' === r ? e = e.subtract(R(i / 2 + s.x, l / 2 - d.y + s.y, !0)) : 'right' === r || 'auto' === r && n.x < a.x ? (r = 'right', e = e.add(R(s.x + d.x, d.y - l / 2 + s.y, !0))) : (r = 'left', e = e.subtract(R(i + d.x - s.x, l / 2 - d.y - s.y, !0))), Ae(o, 'leaflet-tooltip-right'), Ae(o, 'leaflet-tooltip-left'), Ae(o, 'leaflet-tooltip-top'), Ae(o, 'leaflet-tooltip-bottom'), Te(o, 'leaflet-tooltip-' + r), ze(o, e) }, _updatePosition: function () { var e = this._map.latLngToLayerPoint(this._latlng); this._setPosition(e) }, setOpacity: function (e) { this.options.opacity = e, this._container && Se(this._container, e) }, _animateZoom: function (t) { var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center); this._setPosition(e) }, _getAnchor: function () { return R(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0]) } }); So.include({ openTooltip: function (e, t, o) { return e instanceof ba || (e = new ba(o).setContent(e)), t && e.setLatLng(t), this.hasLayer(e) ? this : this.addLayer(e) }, closeTooltip: function (e) { return e && this.removeLayer(e), this } }), ta.include({ bindTooltip: function (e, t) { return e instanceof ba ? (w(e, t), this._tooltip = e, e._source = this) : ((!this._tooltip || t) && (this._tooltip = new ba(t, this)), this._tooltip.setContent(e)), this._initTooltipInteractions(), this._tooltip.options.permanent && this._map && this._map.hasLayer(this) && this.openTooltip(), this }, unbindTooltip: function () { return this._tooltip && (this._initTooltipInteractions(!0), this.closeTooltip(), this._tooltip = null), this }, _initTooltipInteractions: function (e) { if (e || !this._tooltipHandlersAdded) { var t = e ? 'off' : 'on', o = { remove: this.closeTooltip, move: this._moveTooltip }; this._tooltip.options.permanent ? o.add = this._openTooltip : (o.mouseover = this._openTooltip, o.mouseout = this.closeTooltip, this._tooltip.options.sticky && (o.mousemove = this._moveTooltip), $t && (o.click = this._openTooltip)), this[t](o), this._tooltipHandlersAdded = !e } }, openTooltip: function (e, t) { if (e instanceof ta || (t = e, e = this), e instanceof aa) for (var o in this._layers) { e = this._layers[o]; break } return t || (t = e.getCenter ? e.getCenter() : e.getLatLng()), this._tooltip && this._map && (this._tooltip._source = e, this._tooltip.update(), this._map.openTooltip(this._tooltip, t), this._tooltip.options.interactive && this._tooltip._container && (Te(this._tooltip._container, 'leaflet-clickable'), this.addInteractiveTarget(this._tooltip._container))), this }, closeTooltip: function () { return this._tooltip && (this._tooltip._close(), this._tooltip.options.interactive && this._tooltip._container && (Ae(this._tooltip._container, 'leaflet-clickable'), this.removeInteractiveTarget(this._tooltip._container))), this }, toggleTooltip: function (e) { return this._tooltip && (this._tooltip._map ? this.closeTooltip() : this.openTooltip(e)), this }, isTooltipOpen: function () { return this._tooltip.isOpen() }, setTooltipContent: function (e) { return this._tooltip && this._tooltip.setContent(e), this }, getTooltip: function () { return this._tooltip }, _openTooltip: function (t) { var e = t.layer || t.target; this._tooltip && this._map && this.openTooltip(e, this._tooltip.options.sticky ? t.latlng : void 0) }, _moveTooltip: function (t) { var e = t.latlng, o, a; this._tooltip.options.sticky && t.originalEvent && (o = this._map.mouseEventToContainerPoint(t.originalEvent), a = this._map.containerPointToLayerPoint(o), e = this._map.layerPointToLatLng(a)), this._tooltip.setLatLng(e) } }); var va = na.extend({ options: { iconSize: [12, 12], html: !1, bgPos: null, className: 'leaflet-div-icon' }, createIcon: function (e) { var t = e && 'DIV' === e.tagName ? e : document.createElement('div'), o = this.options; if (t.innerHTML = !1 === o.html ? '' : o.html, o.bgPos) { var a = R(o.bgPos); t.style.backgroundPosition = -a.x + 'px ' + -a.y + 'px' } return this._setIconStyles(t, 'icon'), t }, createShadow: function () { return null } }); na.Default = ra; var xa = ta.extend({ options: { tileSize: 256, opacity: 1, updateWhenIdle: Jt, updateWhenZooming: !0, updateInterval: 200, zIndex: 1, bounds: null, minZoom: 0, maxZoom: void 0, maxNativeZoom: void 0, minNativeZoom: void 0, noWrap: !1, pane: 'tilePane', className: '', keepBuffer: 2 }, initialize: function (e) { w(this, e) }, onAdd: function () { this._initContainer(), this._levels = {}, this._tiles = {}, this._resetView(), this._update() }, beforeAdd: function (e) { e._addZoomLimit(this) }, onRemove: function (e) { this._removeAllTiles(), ke(this._container), e._removeZoomLimit(this), this._container = null, this._tileZoom = null }, bringToFront: function () { return this._map && (Ce(this._container), this._setAutoZIndex(Math.max)), this }, bringToBack: function () { return this._map && (Pe(this._container), this._setAutoZIndex(Math.min)), this }, getContainer: function () { return this._container }, setOpacity: function (e) { return this.options.opacity = e, this._updateOpacity(), this }, setZIndex: function (e) { return this.options.zIndex = e, this._updateZIndex(), this }, isLoading: function () { return this._loading }, redraw: function () { return this._map && (this._removeAllTiles(), this._update()), this }, getEvents: function () { var e = { viewprereset: this._invalidateAll, viewreset: this._resetView, zoom: this._resetView, moveend: this._onMoveEnd }; return this.options.updateWhenIdle || (!this._onMove && (this._onMove = y(this._onMoveEnd, this.options.updateInterval, this)), e.move = this._onMove), this._zoomAnimated && (e.zoomanim = this._animateZoom), e }, createTile: function () { return document.createElement('div') }, getTileSize: function () { var e = this.options.tileSize; return e instanceof O ? e : new O(e, e) }, _updateZIndex: function () { this._container && this.options.zIndex !== void 0 && null !== this.options.zIndex && (this._container.style.zIndex = this.options.zIndex) }, _setAutoZIndex: function (e) { for (var t = this.getPane().children, o = -e(-Infinity, Infinity), a = 0, n = t.length, r; a < n; a++)r = t[a].style.zIndex, t[a] !== this._container && r && (o = e(o, +r)); isFinite(o) && (this.options.zIndex = o + e(-1, 1), this._updateZIndex()) }, _updateOpacity: function () { if (this._map && !Ot) { Se(this._container, this.options.opacity); var e = +new Date, t = !1, o = !1; for (var a in this._tiles) { var n = this._tiles[a]; if (n.current && n.loaded) { var r = s(1, (e - n.loaded) / 200); Se(n.el, r), 1 > r ? t = !0 : (n.active ? o = !0 : this._onOpaqueTile(n), n.active = !0) } } o && !this._noPrune && this._pruneTiles(), t && (M(this._fadeFrame), this._fadeFrame = E(this._updateOpacity, this)) } }, _onOpaqueTile: b, _initContainer: function () { this._container || (this._container = Le('div', 'leaflet-layer ' + (this.options.className || '')), this._updateZIndex(), 1 > this.options.opacity && this._updateOpacity(), this.getPane().appendChild(this._container)) }, _updateLevels: function () { var e = this._tileZoom, t = this.options.maxZoom; if (void 0 !== e) { for (var o in this._levels) this._levels[o].el.children.length || o === e ? (this._levels[o].el.style.zIndex = t - d(e - o), this._onUpdateLevel(o)) : (ke(this._levels[o].el), this._removeTilesAtZoom(o), this._onRemoveLevel(o), delete this._levels[o]); var a = this._levels[e], n = this._map; return a || (a = this._levels[e] = {}, a.el = Le('div', 'leaflet-tile-container leaflet-zoom-animated', this._container), a.el.style.zIndex = t, a.origin = n.project(n.unproject(n.getPixelOrigin()), e).round(), a.zoom = e, this._setZoomTransform(a, n.getCenter(), n.getZoom()), b(a.el.offsetWidth), this._onCreateLevel(a)), this._level = a, a } }, _onUpdateLevel: b, _onRemoveLevel: b, _onCreateLevel: b, _pruneTiles: function () { if (this._map) { var e = this._map.getZoom(), t, o; if (e > this.options.maxZoom || e < this.options.minZoom) return void this._removeAllTiles(); for (t in this._tiles) o = this._tiles[t], o.retain = o.current; for (t in this._tiles) if (o = this._tiles[t], o.current && !o.active) { var a = o.coords; this._retainParent(a.x, a.y, a.z, a.z - 5) || this._retainChildren(a.x, a.y, a.z, a.z + 2) } for (t in this._tiles) this._tiles[t].retain || this._removeTile(t) } }, _removeTilesAtZoom: function (e) { for (var t in this._tiles) this._tiles[t].coords.z === e && this._removeTile(t) }, _removeAllTiles: function () { for (var e in this._tiles) this._removeTile(e) }, _invalidateAll: function () { for (var e in this._levels) ke(this._levels[e].el), this._onRemoveLevel(e), delete this._levels[e]; this._removeAllTiles(), this._tileZoom = null }, _retainParent: function (e, t, o, a) { var n = p(e / 2), r = p(t / 2), i = o - 1, l = new O(+n, +r); l.z = +i; var s = this._tileCoordsToKey(l), d = this._tiles[s]; return d && d.active ? (d.retain = !0, !0) : (d && d.loaded && (d.retain = !0), !!(i > a) && this._retainParent(n, r, i, a)) }, _retainChildren: function (e, t, o, a) { for (var n = 2 * e; n < 2 * e + 2; n++)for (var r = 2 * t, i; r < 2 * t + 2; r++) { i = new O(n, r), i.z = o + 1; var l = this._tileCoordsToKey(i), s = this._tiles[l]; if (s && s.active) { s.retain = !0; continue } else s && s.loaded && (s.retain = !0); o + 1 < a && this._retainChildren(n, r, o + 1, a) } }, _resetView: function (t) { var e = t && (t.pinch || t.flyTo); this._setView(this._map.getCenter(), this._map.getZoom(), e, e) }, _animateZoom: function (t) { this._setView(t.center, t.zoom, !0, t.noUpdate) }, _clampZoom: function (e) { var t = this.options; return void 0 !== t.minNativeZoom && e < t.minNativeZoom ? t.minNativeZoom : void 0 !== t.maxNativeZoom && t.maxNativeZoom < e ? t.maxNativeZoom : e }, _setView: function (e, t, o, a) { var n = this._clampZoom(u(t)); (this.options.maxZoom !== void 0 && n > this.options.maxZoom || this.options.minZoom !== void 0 && n < this.options.minZoom) && (n = void 0); var r = this.options.updateWhenZooming && n !== this._tileZoom; (!a || r) && (this._tileZoom = n, this._abortLoading && this._abortLoading(), this._updateLevels(), this._resetGrid(), n !== void 0 && this._update(e), !o && this._pruneTiles(), this._noPrune = !!o), this._setZoomTransforms(e, t) }, _setZoomTransforms: function (e, t) { for (var o in this._levels) this._setZoomTransform(this._levels[o], e, t) }, _setZoomTransform: function (e, t, o) { var a = this._map.getZoomScale(o, e.zoom), n = e.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(t, o)).round(); Kt ? Re(e.el, n, a) : ze(e.el, n) }, _resetGrid: function () { var e = this._map, t = e.options.crs, o = this._tileSize = this.getTileSize(), a = this._tileZoom, n = this._map.getPixelWorldBounds(this._tileZoom); n && (this._globalTileRange = this._pxBoundsToTileRange(n)), this._wrapX = t.wrapLng && !this.options.noWrap && [p(e.project([0, t.wrapLng[0]], a).x / o.x), i(e.project([0, t.wrapLng[1]], a).x / o.y)], this._wrapY = t.wrapLat && !this.options.noWrap && [p(e.project([t.wrapLat[0], 0], a).y / o.x), i(e.project([t.wrapLat[1], 0], a).y / o.y)] }, _onMoveEnd: function () { !this._map || this._map._animatingZoom || this._update() }, _getTiledPixelBounds: function (e) { var t = this._map, o = t._animatingZoom ? g(t._animateToZoom, t.getZoom()) : t.getZoom(), a = t.getZoomScale(o, this._tileZoom), n = t.project(e, this._tileZoom).floor(), r = t.getSize().divideBy(2 * a); return new z(n.subtract(r), n.add(r)) }, _update: function (e) { var t = this._map; if (t) { var o = this._clampZoom(t.getZoom()); if (void 0 === e && (e = t.getCenter()), void 0 !== this._tileZoom) { var a = this._getTiledPixelBounds(e), n = this._pxBoundsToTileRange(a), r = n.getCenter(), l = [], s = this.options.keepBuffer, p = new z(n.getBottomLeft().subtract([s, -s]), n.getTopRight().add([s, -s])); if (!(isFinite(n.min.x) && isFinite(n.min.y) && isFinite(n.max.x) && isFinite(n.max.y))) throw new Error('Attempted to load an infinite number of tiles'); for (var g in this._tiles) { var u = this._tiles[g].coords; u.z === this._tileZoom && p.contains(new O(u.x, u.y)) || (this._tiles[g].current = !1) } if (1 < d(o - this._tileZoom)) return void this._setView(e, o); for (var c = n.min.y; c <= n.max.y; c++)for (var m = n.min.x, i; m <= n.max.x; m++)(i = new O(m, c), i.z = this._tileZoom, !!this._isValidTile(i)) && (this._tiles[this._tileCoordsToKey(i)] || l.push(i)); if (l.sort(function (e, t) { return e.distanceTo(r) - t.distanceTo(r) }), 0 !== l.length) { this._loading || (this._loading = !0, this.fire('loading')); var _ = document.createDocumentFragment(); for (m = 0; m < l.length; m++)this._addTile(l[m], _); this._level.el.appendChild(_) } } } }, _isValidTile: function (e) { var t = this._map.options.crs; if (!t.infinite) { var o = this._globalTileRange; if (!t.wrapLng && (e.x < o.min.x || e.x > o.max.x) || !t.wrapLat && (e.y < o.min.y || e.y > o.max.y)) return !1 } if (!this.options.bounds) return !0; var a = this._tileCoordsToBounds(e); return Z(this.options.bounds).overlaps(a) }, _keyToBounds: function (e) { return this._tileCoordsToBounds(this._keyToTileCoords(e)) }, _tileCoordsToBounds: function (e) { var t = this._map, o = this.getTileSize(), a = e.scaleBy(o), n = a.add(o), r = t.unproject(a, e.z), i = t.unproject(n, e.z), l = new B(r, i); return this.options.noWrap || t.wrapLatLngBounds(l), l }, _tileCoordsToKey: function (e) { return e.x + ':' + e.y + ':' + e.z }, _keyToTileCoords: function (e) { var t = e.split(':'), o = new O(+t[0], +t[1]); return o.z = +t[2], o }, _removeTile: function (e) { var t = this._tiles[e]; t && (ke(t.el), delete this._tiles[e], this.fire('tileunload', { tile: t.el, coords: this._keyToTileCoords(e) })) }, _initTile: function (e) { Te(e, 'leaflet-tile'); var t = this.getTileSize(); e.style.width = t.x + 'px', e.style.height = t.y + 'px', e.onselectstart = b, e.onmousemove = b, Ot && 1 > this.options.opacity && Se(e, this.options.opacity), Nt && !Bt && (e.style.WebkitBackfaceVisibility = 'hidden') }, _addTile: function (e, t) { var o = this._getTilePos(e), a = this._tileCoordsToKey(e), n = this.createTile(this._wrapCoords(e), _(this._tileReady, this, e)); this._initTile(n), 2 > this.createTile.length && E(_(this._tileReady, this, e, null, n)), ze(n, o), this._tiles[a] = { el: n, coords: e, current: !0 }, t.appendChild(n), this.fire('tileloadstart', { tile: n, coords: e }) }, _tileReady: function (e, t, o) { if (this._map) { t && this.fire('tileerror', { error: t, tile: o, coords: e }); var a = this._tileCoordsToKey(e); o = this._tiles[a], o && (o.loaded = +new Date, this._map._fadeAnimated ? (Se(o.el, 0), M(this._fadeFrame), this._fadeFrame = E(this._updateOpacity, this)) : (o.active = !0, this._pruneTiles()), !t && (Te(o.el, 'leaflet-tile-loaded'), this.fire('tileload', { tile: o.el, coords: e })), this._noTilesToLoad() && (this._loading = !1, this.fire('load'), Ot || !this._map._fadeAnimated ? E(this._pruneTiles, this) : setTimeout(_(this._pruneTiles, this), 250))) } }, _getTilePos: function (e) { return e.scaleBy(this.getTileSize()).subtract(this._level.origin) }, _wrapCoords: function (e) { var t = new O(this._wrapX ? h(e.x, this._wrapX) : e.x, this._wrapY ? h(e.y, this._wrapY) : e.y); return t.z = e.z, t }, _pxBoundsToTileRange: function (e) { var t = this.getTileSize(); return new z(e.min.unscaleBy(t).floor(), e.max.unscaleBy(t).ceil().subtract([1, 1])) }, _noTilesToLoad: function () { for (var e in this._tiles) if (!this._tiles[e].loaded) return !1; return !0 } }), La = xa.extend({ options: { minZoom: 0, maxZoom: 18, subdomains: 'abc', errorTileUrl: '', zoomOffset: 0, tms: !1, zoomReverse: !1, detectRetina: !1, crossOrigin: !1 }, initialize: function (e, t) { this._url = e, t = w(this, t), t.detectRetina && to && 0 < t.maxZoom && (t.tileSize = p(t.tileSize / 2), t.zoomReverse ? (t.zoomOffset--, t.minZoom++) : (t.zoomOffset++, t.maxZoom--), t.minZoom = g(0, t.minZoom)), 'string' == typeof t.subdomains && (t.subdomains = t.subdomains.split('')), Nt || this.on('tileunload', this._onTileRemove) }, setUrl: function (e, t) { return this._url = e, t || this.redraw(), this }, createTile: function (e, t) { var o = document.createElement('img'); return ne(o, 'load', _(this._tileOnLoad, this, t, o)), ne(o, 'error', _(this._tileOnError, this, t, o)), this.options.crossOrigin && (o.crossOrigin = ''), o.alt = '', o.setAttribute('role', 'presentation'), o.src = this.getTileUrl(e), o }, getTileUrl: function (e) { var o = { r: to ? '@2x' : '', s: this._getSubdomain(e), x: e.x, y: e.y, z: this._getZoomForUrl() }; if (this._map && !this._map.options.crs.infinite) { var a = this._globalTileRange.max.y - e.y; this.options.tms && (o.y = a), o['-y'] = a } return P(this._url, t(o, this.options)) }, _tileOnLoad: function (e, t) { Ot ? setTimeout(_(e, this, null, t), 0) : e(null, t) }, _tileOnError: function (t, o, a) { var e = this.options.errorTileUrl; e && o.src !== e && (o.src = e), t(a, o) }, _onTileRemove: function (t) { t.tile.onload = null }, _getZoomForUrl: function () { var e = this._tileZoom, t = this.options.maxZoom, o = this.options.zoomReverse, a = this.options.zoomOffset; return o && (e = t - e), e + a }, _getSubdomain: function (e) { var t = d(e.x + e.y) % this.options.subdomains.length; return this.options.subdomains[t] }, _abortLoading: function () { var e, t; for (e in this._tiles) this._tiles[e].coords.z !== this._tileZoom && (t = this._tiles[e].el, t.onload = b, t.onerror = b, t.complete || (t.src = vt, ke(t))) } }), ka = La.extend({ defaultWmsParams: { service: 'WMS', request: 'GetMap', layers: '', styles: '', format: 'image/jpeg', transparent: !1, version: '1.1.1' }, options: { crs: null, uppercase: !1 }, initialize: function (e, o) { this._url = e; var a = t({}, this.defaultWmsParams); for (var n in o) n in this.options || (a[n] = o[n]); o = w(this, o), a.width = a.height = o.tileSize * (o.detectRetina && to ? 2 : 1), this.wmsParams = a }, onAdd: function (e) { this._crs = this.options.crs || e.options.crs, this._wmsVersion = parseFloat(this.wmsParams.version); var t = 1.3 <= this._wmsVersion ? 'crs' : 'srs'; this.wmsParams[t] = this._crs.code, La.prototype.onAdd.call(this, e) }, getTileUrl: function (e) { var t = this._tileCoordsToBounds(e), o = this._crs.project(t.getNorthWest()), a = this._crs.project(t.getSouthEast()), n = (1.3 <= this._wmsVersion && this._crs === Qo ? [a.y, o.x, o.y, a.x] : [o.x, a.y, a.x, o.y]).join(','), r = La.prototype.getTileUrl.call(this, e); return r + C(this.wmsParams, r, this.options.uppercase) + (this.options.uppercase ? '&BBOX=' : '&bbox=') + n }, setParams: function (e, o) { return t(this.wmsParams, e), o || this.redraw(), this } }); La.WMS = ka, dt.wms = function (e, t) { return new ka(e, t) }; var wa = ta.extend({ options: { padding: 0.1 }, initialize: function (e) { w(this, e), f(this), this._layers = this._layers || {} }, onAdd: function () { this._container || (this._initContainer(), this._zoomAnimated && Te(this._container, 'leaflet-zoom-animated')), this.getPane().appendChild(this._container), this._update(), this.on('update', this._updatePaths, this) }, onRemove: function () { this.off('update', this._updatePaths, this), this._destroyContainer() }, getEvents: function () { var e = { viewreset: this._reset, zoom: this._onZoom, moveend: this._update, zoomend: this._onZoomEnd }; return this._zoomAnimated && (e.zoomanim = this._onAnimZoom), e }, _onAnimZoom: function (e) { this._updateTransform(e.center, e.zoom) }, _onZoom: function () { this._updateTransform(this._map.getCenter(), this._map.getZoom()) }, _updateTransform: function (e, t) { var o = this._map.getZoomScale(t, this._zoom), a = Ne(this._container), n = this._map.getSize().multiplyBy(0.5 + this.options.padding), r = this._map.project(this._center, t), i = this._map.project(e, t), l = i.subtract(r), s = n.multiplyBy(-o).add(a).add(n).subtract(l); Kt ? Re(this._container, s, o) : ze(this._container, s) }, _reset: function () { for (var e in this._update(), this._updateTransform(this._center, this._zoom), this._layers) this._layers[e]._reset() }, _onZoomEnd: function () { for (var e in this._layers) this._layers[e]._project() }, _updatePaths: function () { for (var e in this._layers) this._layers[e]._update() }, _update: function () { var e = this.options.padding, t = this._map.getSize(), o = this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round(); this._bounds = new z(o, o.add(t.multiplyBy(1 + 2 * e)).round()), this._center = this._map.getCenter(), this._zoom = this._map.getZoom() } }), Ca = wa.extend({ getEvents: function () { var e = wa.prototype.getEvents.call(this); return e.viewprereset = this._onViewPreReset, e }, _onViewPreReset: function () { this._postponeUpdatePaths = !0 }, onAdd: function () { wa.prototype.onAdd.call(this), this._draw() }, _initContainer: function () { var e = this._container = document.createElement('canvas'); ne(e, 'mousemove', y(this._onMouseMove, 32, this), this), ne(e, 'click dblclick mousedown mouseup contextmenu', this._onClick, this), ne(e, 'mouseout', this._handleMouseOut, this), this._ctx = e.getContext('2d') }, _destroyContainer: function () { delete this._ctx, ke(this._container), re(this._container), delete this._container }, _updatePaths: function () { if (!this._postponeUpdatePaths) { var e; for (var t in this._redrawBounds = null, this._layers) e = this._layers[t], e._update(); this._redraw() } }, _update: function () { if (!(this._map._animatingZoom && this._bounds)) { this._drawnLayers = {}, wa.prototype._update.call(this); var e = this._bounds, t = this._container, o = e.getSize(), a = to ? 2 : 1; ze(t, e.min), t.width = a * o.x, t.height = a * o.y, t.style.width = o.x + 'px', t.style.height = o.y + 'px', to && this._ctx.scale(2, 2), this._ctx.translate(-e.min.x, -e.min.y), this.fire('update') } }, _reset: function () { wa.prototype._reset.call(this), this._postponeUpdatePaths && (this._postponeUpdatePaths = !1, this._updatePaths()) }, _initPath: function (e) { this._updateDashArray(e), this._layers[f(e)] = e; var t = e._order = { layer: e, prev: this._drawLast, next: null }; this._drawLast && (this._drawLast.next = t), this._drawLast = t, this._drawFirst = this._drawFirst || this._drawLast }, _addPath: function (e) { this._requestRedraw(e) }, _removePath: function (e) { var t = e._order, o = t.next, a = t.prev; o ? o.prev = a : this._drawLast = a, a ? a.next = o : this._drawFirst = o, delete e._order, delete this._layers[L.stamp(e)], this._requestRedraw(e) }, _updatePath: function (e) { this._extendRedrawBounds(e), e._project(), e._update(), this._requestRedraw(e) }, _updateStyle: function (e) { this._updateDashArray(e), this._requestRedraw(e) }, _updateDashArray: function (e) { if (e.options.dashArray) { var t = e.options.dashArray.split(','), o = [], a; for (a = 0; a < t.length; a++)o.push(+t[a]); e.options._dashArray = o } }, _requestRedraw: function (e) { this._map && (this._extendRedrawBounds(e), this._redrawRequest = this._redrawRequest || E(this._redraw, this)) }, _extendRedrawBounds: function (e) { if (e._pxBounds) { var t = (e.options.weight || 0) + 1; this._redrawBounds = this._redrawBounds || new z, this._redrawBounds.extend(e._pxBounds.min.subtract([t, t])), this._redrawBounds.extend(e._pxBounds.max.add([t, t])) } }, _redraw: function () { this._redrawRequest = null, this._redrawBounds && (this._redrawBounds.min._floor(), this._redrawBounds.max._ceil()), this._clear(), this._draw(), this._redrawBounds = null }, _clear: function () { var e = this._redrawBounds; if (e) { var t = e.getSize(); this._ctx.clearRect(e.min.x, e.min.y, t.x, t.y) } else this._ctx.clearRect(0, 0, this._container.width, this._container.height) }, _draw: function () { var e = this._redrawBounds, t; if (this._ctx.save(), e) { var o = e.getSize(); this._ctx.beginPath(), this._ctx.rect(e.min.x, e.min.y, o.x, o.y), this._ctx.clip() } this._drawing = !0; for (var a = this._drawFirst; a; a = a.next)t = a.layer, (!e || t._pxBounds && t._pxBounds.intersects(e)) && t._updatePath(); this._drawing = !1, this._ctx.restore() }, _updatePoly: function (e, t) { if (this._drawing) { var o = e._parts, a = o.length, n = this._ctx, r, i, l, s; if (a) { for (this._drawnLayers[e._leaflet_id] = e, n.beginPath(), r = 0; r < a; r++) { for (i = 0, l = o[r].length; i < l; i++)s = o[r][i], n[i ? 'lineTo' : 'moveTo'](s.x, s.y); t && n.closePath() } this._fillStroke(n, e) } } }, _updateCircle: function (e) { if (this._drawing && !e._empty()) { var t = e._point, o = this._ctx, a = e._radius, n = (e._radiusY || a) / a; this._drawnLayers[e._leaflet_id] = e, 1 != n && (o.save(), o.scale(1, n)), o.beginPath(), o.arc(t.x, t.y / n, a, 0, 2 * l, !1), 1 != n && o.restore(), this._fillStroke(o, e) } }, _fillStroke: function (e, t) { var o = t.options; o.fill && (e.globalAlpha = o.fillOpacity, e.fillStyle = o.fillColor || o.color, e.fill(o.fillRule || 'evenodd')), o.stroke && 0 !== o.weight && (e.setLineDash && e.setLineDash(t.options && t.options._dashArray || []), e.globalAlpha = o.opacity, e.lineWidth = o.weight, e.strokeStyle = o.color, e.lineCap = o.lineCap, e.lineJoin = o.lineJoin, e.stroke()) }, _onClick: function (t) { for (var e = this._map.mouseEventToLayerPoint(t), o = this._drawFirst, a, n; o; o = o.next)a = o.layer, a.options.interactive && a._containsPoint(e) && !this._map._draggableMoved(a) && (n = a); n && (fe(t), this._fireEvent([n], t)) }, _onMouseMove: function (t) { if (!(!this._map || this._map.dragging.moving() || this._map._animatingZoom)) { var e = this._map.mouseEventToLayerPoint(t); this._handleMouseHover(t, e) } }, _handleMouseOut: function (t) { var e = this._hoveredLayer; e && (Ae(this._container, 'leaflet-interactive'), this._fireEvent([e], t, 'mouseout'), this._hoveredLayer = null) }, _handleMouseHover: function (t, e) { for (var o = this._drawFirst, a, n; o; o = o.next)a = o.layer, a.options.interactive && a._containsPoint(e) && (n = a); n !== this._hoveredLayer && (this._handleMouseOut(t), n && (Te(this._container, 'leaflet-interactive'), this._fireEvent([n], t, 'mouseover'), this._hoveredLayer = n)), this._hoveredLayer && this._fireEvent([this._hoveredLayer], t) }, _fireEvent: function (t, o, e) { this._map._fireDOMEvent(o, e || o.type, t) }, _bringToFront: function (e) { var t = e._order, o = t.next, a = t.prev; if (o) o.prev = a; else return; a ? a.next = o : o && (this._drawFirst = o), t.prev = this._drawLast, this._drawLast.next = t, t.next = null, this._drawLast = t, this._requestRedraw(e) }, _bringToBack: function (e) { var t = e._order, o = t.next, a = t.prev; if (a) a.next = o; else return; o ? o.prev = a : a && (this._drawLast = a), t.prev = null, t.next = this._drawFirst, this._drawFirst.prev = t, this._drawFirst = t, this._requestRedraw(e) } }), Pa = function () { try { return document.namespaces.add('lvml', 'urn:schemas-microsoft-com:vml'), function (e) { return document.createElement('<lvml:' + e + ' class="lvml">') } } catch (t) { return function (e) { return document.createElement('<' + e + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">') } } }(), Ia = no ? Pa : F, Ta = wa.extend({ getEvents: function () { var e = wa.prototype.getEvents.call(this); return e.zoomstart = this._onZoomStart, e }, _initContainer: function () { this._container = Ia('svg'), this._container.setAttribute('pointer-events', 'none'), this._rootGroup = Ia('g'), this._container.appendChild(this._rootGroup) }, _destroyContainer: function () { ke(this._container), re(this._container), delete this._container, delete this._rootGroup }, _onZoomStart: function () { this._update() }, _update: function () { if (!(this._map._animatingZoom && this._bounds)) { wa.prototype._update.call(this); var e = this._bounds, t = e.getSize(), o = this._container; this._svgSize && this._svgSize.equals(t) || (this._svgSize = t, o.setAttribute('width', t.x), o.setAttribute('height', t.y)), ze(o, e.min), o.setAttribute('viewBox', [e.min.x, e.min.y, t.x, t.y].join(' ')), this.fire('update') } }, _initPath: function (e) { var t = e._path = Ia('path'); e.options.className && Te(t, e.options.className), e.options.interactive && Te(t, 'leaflet-interactive'), this._updateStyle(e), this._layers[f(e)] = e }, _addPath: function (e) { this._rootGroup || this._initContainer(), this._rootGroup.appendChild(e._path), e.addInteractiveTarget(e._path) }, _removePath: function (e) { ke(e._path), e.removeInteractiveTarget(e._path), delete this._layers[f(e)] }, _updatePath: function (e) { e._project(), e._update() }, _updateStyle: function (e) { var t = e._path, o = e.options; t && (o.stroke ? (t.setAttribute('stroke', o.color), t.setAttribute('stroke-opacity', o.opacity), t.setAttribute('stroke-width', o.weight), t.setAttribute('stroke-linecap', o.lineCap), t.setAttribute('stroke-linejoin', o.lineJoin), o.dashArray ? t.setAttribute('stroke-dasharray', o.dashArray) : t.removeAttribute('stroke-dasharray'), o.dashOffset ? t.setAttribute('stroke-dashoffset', o.dashOffset) : t.removeAttribute('stroke-dashoffset')) : t.setAttribute('stroke', 'none'), o.fill ? (t.setAttribute('fill', o.fillColor || o.color), t.setAttribute('fill-opacity', o.fillOpacity), t.setAttribute('fill-rule', o.fillRule || 'evenodd')) : t.setAttribute('fill', 'none')) }, _updatePoly: function (e, t) { this._setPath(e, Y(e._parts, t)) }, _updateCircle: function (e) { var t = e._point, o = e._radius, a = e._radiusY || o, n = 'a' + o + ',' + a + ' 0 1,0 ', i = e._empty() ? 'M0 0' : 'M' + (t.x - o) + ',' + t.y + n + 2 * o + ',0 ' + n + 2 * -o + ',0 '; this._setPath(e, i) }, _setPath: function (e, t) { e._path.setAttribute('d', t) }, _bringToFront: function (e) { Ce(e._path) }, _bringToBack: function (e) { Pe(e._path) } }); no && Ta.include({ _initContainer: function () { this._container = Le('div', 'leaflet-vml-container') }, _update: function () { this._map._animatingZoom || (wa.prototype._update.call(this), this.fire('update')) }, _initPath: function (e) { var t = e._container = Pa('shape'); Te(t, 'leaflet-vml-shape ' + (this.options.className || '')), t.coordsize = '1 1', e._path = Pa('path'), t.appendChild(e._path), this._updateStyle(e), this._layers[f(e)] = e }, _addPath: function (e) { var t = e._container; this._container.appendChild(t), e.options.interactive && e.addInteractiveTarget(t) }, _removePath: function (e) { var t = e._container; ke(t), e.removeInteractiveTarget(t), delete this._layers[f(e)] }, _updateStyle: function (e) { var t = e._stroke, o = e._fill, a = e.options, n = e._container; n.stroked = !!a.stroke, n.filled = !!a.fill, a.stroke ? (!t && (t = e._stroke = Pa('stroke')), n.appendChild(t), t.weight = a.weight + 'px', t.color = a.color, t.opacity = a.opacity, t.dashStyle = a.dashArray ? bt(a.dashArray) ? a.dashArray.join(' ') : a.dashArray.replace(/( *, *)/g, ' ') : '', t.endcap = a.lineCap.replace('butt', 'flat'), t.joinstyle = a.lineJoin) : t && (n.removeChild(t), e._stroke = null), a.fill ? (!o && (o = e._fill = Pa('fill')), n.appendChild(o), o.color = a.fillColor || a.color, o.opacity = a.fillOpacity) : o && (n.removeChild(o), e._fill = null) }, _updateCircle: function (e) { var t = e._point.round(), o = u(e._radius), a = u(e._radiusY || o); this._setPath(e, e._empty() ? 'M0 0' : 'AL ' + t.x + ',' + t.y + ' ' + o + ',' + a + ' 0,' + 23592600) }, _setPath: function (e, t) { e._path.v = t }, _bringToFront: function (e) { Ce(e._container) }, _bringToBack: function (e) { Pe(e._container) } }), So.include({ getRenderer: function (e) { var t = e.options.renderer || this._getPaneRenderer(e.options.pane) || this.options.renderer || this._renderer; return t || (t = this._renderer = this.options.preferCanvas && pt() || ct()), this.hasLayer(t) || this.addLayer(t), t }, _getPaneRenderer: function (e) { if ('overlayPane' === e || void 0 === e) return !1; var t = this._paneRenderers[e]; return void 0 === t && (t = Ta && ct({ pane: e }) || Ca && pt({ pane: e }), this._paneRenderers[e] = t), t } }); var Aa = ga.extend({ initialize: function (e, t) { ga.prototype.initialize.call(this, this._boundsToLatLngs(e), t) }, setBounds: function (e) { return this.setLatLngs(this._boundsToLatLngs(e)) }, _boundsToLatLngs: function (e) { return e = Z(e), [e.getSouthWest(), e.getNorthWest(), e.getNorthEast(), e.getSouthEast()] } }); Ta.create = Ia, Ta.pointsToPath = Y, ua.geometryToLayer = tt, ua.coordsToLatLng = ot, ua.coordsToLatLngs = at, ua.latLngToCoords = nt, ua.latLngsToCoords = rt, ua.getFeature = it, ua.asFeature = lt, So.mergeOptions({ boxZoom: !0 }); var Ea = Uo.extend({ initialize: function (e) { this._map = e, this._container = e._container, this._pane = e._panes.overlayPane, this._resetStateTimeout = 0, e.on('unload', this._destroy, this) }, addHooks: function () { ne(this._container, 'mousedown', this._onMouseDown, this) }, removeHooks: function () { re(this._container, 'mousedown', this._onMouseDown, this) }, moved: function () { return this._moved }, _destroy: function () { ke(this._pane), delete this._pane }, _resetState: function () { this._resetStateTimeout = 0, this._moved = !1 }, _clearDeferredResetState: function () { 0 !== this._resetStateTimeout && (clearTimeout(this._resetStateTimeout), this._resetStateTimeout = 0) }, _onMouseDown: function (t) { return t.shiftKey && (1 === t.which || 1 === t.button) && void (this._clearDeferredResetState(), this._resetState(), Po(), Be(), this._startPoint = this._map.mouseEventToContainerPoint(t), ne(document, { contextmenu: ue, mousemove: this._onMouseMove, mouseup: this._onMouseUp, keydown: this._onKeyDown }, this)) }, _onMouseMove: function (t) { this._moved || (this._moved = !0, this._box = Le('div', 'leaflet-zoom-box', this._container), Te(this._container, 'leaflet-crosshair'), this._map.fire('boxzoomstart')), this._point = this._map.mouseEventToContainerPoint(t); var e = new z(this._point, this._startPoint), o = e.getSize(); ze(this._box, e.min), this._box.style.width = o.x + 'px', this._box.style.height = o.y + 'px' }, _finish: function () { this._moved && (ke(this._box), Ae(this._container, 'leaflet-crosshair')), Io(), Ze(), re(document, { contextmenu: ue, mousemove: this._onMouseMove, mouseup: this._onMouseUp, keydown: this._onKeyDown }, this) }, _onMouseUp: function (t) { if ((1 === t.which || 1 === t.button) && (this._finish(), !!this._moved)) { this._clearDeferredResetState(), this._resetStateTimeout = setTimeout(_(this._resetState, this), 0); var e = new B(this._map.containerPointToLatLng(this._startPoint), this._map.containerPointToLatLng(this._point)); this._map.fitBounds(e).fire('boxzoomend', { boxZoomBounds: e }) } }, _onKeyDown: function (t) { 27 === t.keyCode && this._finish() } }); So.addInitHook('addHandler', 'boxZoom', Ea), So.mergeOptions({ doubleClickZoom: !0 }); var Ma = Uo.extend({ addHooks: function () { this._map.on('dblclick', this._onDoubleClick, this) }, removeHooks: function () { this._map.off('dblclick', this._onDoubleClick, this) }, _onDoubleClick: function (t) { var e = this._map, o = e.getZoom(), a = e.options.zoomDelta, n = t.originalEvent.shiftKey ? o - a : o + a; 'center' === e.options.doubleClickZoom ? e.setZoom(n) : e.setZoomAround(t.containerPoint, n) } }); So.addInitHook('addHandler', 'doubleClickZoom', Ma), So.mergeOptions({ dragging: !0, inertia: !Bt, inertiaDeceleration: 3400, inertiaMaxSpeed: Infinity, easeLinearity: 0.2, worldCopyJump: !1, maxBoundsViscosity: 0 }); var Sa = Uo.extend({ addHooks: function () { if (!this._draggable) { var e = this._map; this._draggable = new Yo(e._mapPane, e._container), this._draggable.on({ dragstart: this._onDragStart, drag: this._onDrag, dragend: this._onDragEnd }, this), this._draggable.on('predrag', this._onPreDragLimit, this), e.options.worldCopyJump && (this._draggable.on('predrag', this._onPreDragWrap, this), e.on('zoomend', this._onZoomEnd, this), e.whenReady(this._onZoomEnd, this)) } Te(this._map._container, 'leaflet-grab leaflet-touch-drag'), this._draggable.enable(), this._positions = [], this._times = [] }, removeHooks: function () { Ae(this._map._container, 'leaflet-grab'), Ae(this._map._container, 'leaflet-touch-drag'), this._draggable.disable() }, moved: function () { return this._draggable && this._draggable._moved }, moving: function () { return this._draggable && this._draggable._moving }, _onDragStart: function () { var e = this._map; if (e._stop(), this._map.options.maxBounds && this._map.options.maxBoundsViscosity) { var t = Z(this._map.options.maxBounds); this._offsetLimit = N(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1), this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())), this._viscosity = s(1, g(0, this._map.options.maxBoundsViscosity)) } else this._offsetLimit = null; e.fire('movestart').fire('dragstart'), e.options.inertia && (this._positions = [], this._times = []) }, _onDrag: function (t) { if (this._map.options.inertia) { var e = this._lastTime = +new Date, o = this._lastPos = this._draggable._absPos || this._draggable._newPos; this._positions.push(o), this._times.push(e), 50 < e - this._times[0] && (this._positions.shift(), this._times.shift()) } this._map.fire('move', t).fire('drag', t) }, _onZoomEnd: function () { var e = this._map.getSize().divideBy(2), t = this._map.latLngToLayerPoint([0, 0]); this._initialWorldOffset = t.subtract(e).x, this._worldWidth = this._map.getPixelWorldBounds().getSize().x }, _viscousLimit: function (e, t) { return e - (e - t) * this._viscosity }, _onPreDragLimit: function () { if (this._viscosity && this._offsetLimit) { var e = this._draggable._newPos.subtract(this._draggable._startPos), t = this._offsetLimit; e.x < t.min.x && (e.x = this._viscousLimit(e.x, t.min.x)), e.y < t.min.y && (e.y = this._viscousLimit(e.y, t.min.y)), e.x > t.max.x && (e.x = this._viscousLimit(e.x, t.max.x)), e.y > t.max.y && (e.y = this._viscousLimit(e.y, t.max.y)), this._draggable._newPos = this._draggable._startPos.add(e) } }, _onPreDragWrap: function () { var e = this._worldWidth, t = u(e / 2), o = this._initialWorldOffset, a = this._draggable._newPos.x, n = (a - t + o) % e + t - o, r = (a + t + o) % e - t - o, i = d(n + o) < d(r + o) ? n : r; this._draggable._absPos = this._draggable._newPos.clone(), this._draggable._newPos.x = i }, _onDragEnd: function (t) { var e = this._map, o = e.options, a = !o.inertia || 2 > this._times.length; if (e.fire('dragend', t), a) e.fire('moveend'); else { var n = this._lastPos.subtract(this._positions[0]), r = (this._lastTime - this._times[0]) / 1e3, i = o.easeLinearity, l = n.multiplyBy(i / r), d = l.distanceTo([0, 0]), p = s(o.inertiaMaxSpeed, d), c = l.multiplyBy(p / d), g = p / (o.inertiaDeceleration * i), u = c.multiplyBy(-g / 2).round(); u.x || u.y ? (u = e._limitOffset(u, e.options.maxBounds), E(function () { e.panBy(u, { duration: g, easeLinearity: i, noMoveStart: !0, animate: !0 }) })) : e.fire('moveend') } } }); So.addInitHook('addHandler', 'dragging', Sa), So.mergeOptions({ keyboard: !0, keyboardPanDelta: 80 }); var Da = Uo.extend({ keyCodes: { left: [37], right: [39], down: [40], up: [38], zoomIn: [187, 107, 61, 171], zoomOut: [189, 109, 54, 173] }, initialize: function (e) { this._map = e, this._setPanDelta(e.options.keyboardPanDelta), this._setZoomDelta(e.options.zoomDelta) }, addHooks: function () { var e = this._map._container; 0 >= e.tabIndex && (e.tabIndex = '0'), ne(e, { focus: this._onFocus, blur: this._onBlur, mousedown: this._onMouseDown }, this), this._map.on({ focus: this._addHooks, blur: this._removeHooks }, this) }, removeHooks: function () { this._removeHooks(), re(this._map._container, { focus: this._onFocus, blur: this._onBlur, mousedown: this._onMouseDown }, this), this._map.off({ focus: this._addHooks, blur: this._removeHooks }, this) }, _onMouseDown: function () { if (!this._focused) { var e = document.body, t = document.documentElement, o = e.scrollTop || t.scrollTop, a = e.scrollLeft || t.scrollLeft; this._map._container.focus(), window.scrollTo(a, o) } }, _onFocus: function () { this._focused = !0, this._map.fire('focus') }, _onBlur: function () { this._focused = !1, this._map.fire('blur') }, _setPanDelta: function (e) { var t = this._panKeys = {}, o = this.keyCodes, a, n; for (a = 0, n = o.left.length; a < n; a++)t[o.left[a]] = [-1 * e, 0]; for (a = 0, n = o.right.length; a < n; a++)t[o.right[a]] = [e, 0]; for (a = 0, n = o.down.length; a < n; a++)t[o.down[a]] = [0, e]; for (a = 0, n = o.up.length; a < n; a++)t[o.up[a]] = [0, -1 * e] }, _setZoomDelta: function (e) { var t = this._zoomKeys = {}, o = this.keyCodes, a, n; for (a = 0, n = o.zoomIn.length; a < n; a++)t[o.zoomIn[a]] = e; for (a = 0, n = o.zoomOut.length; a < n; a++)t[o.zoomOut[a]] = -e }, _addHooks: function () { ne(document, 'keydown', this._onKeyDown, this) }, _removeHooks: function () { re(document, 'keydown', this._onKeyDown, this) }, _onKeyDown: function (t) { if (!(t.altKey || t.ctrlKey || t.metaKey)) { var e = t.keyCode, o = this._map, a; if (e in this._panKeys) { if (o._panAnim && o._panAnim._inProgress) return; a = this._panKeys[e], t.shiftKey && (a = R(a).multiplyBy(3)), o.panBy(a), o.options.maxBounds && o.panInsideBounds(o.options.maxBounds) } else if (e in this._zoomKeys) o.setZoom(o.getZoom() + (t.shiftKey ? 3 : 1) * this._zoomKeys[e]); else if (27 === e && o._popup) o.closePopup(); else return; ue(t) } } }); So.addInitHook('addHandler', 'keyboard', Da), So.mergeOptions({ scrollWheelZoom: !0, wheelDebounceTime: 40, wheelPxPerZoomLevel: 60 }); var Oa = Uo.extend({ addHooks: function () { ne(this._map._container, 'mousewheel', this._onWheelScroll, this), this._delta = 0 }, removeHooks: function () { re(this._map._container, 'mousewheel', this._onWheelScroll, this) }, _onWheelScroll: function (t) { var e = _e(t), o = this._map.options.wheelDebounceTime; this._delta += e, this._lastMousePos = this._map.mouseEventToContainerPoint(t), this._startTime || (this._startTime = +new Date); var a = g(o - (+new Date - this._startTime), 0); clearTimeout(this._timer), this._timer = setTimeout(_(this._performZoom, this), a), ue(t) }, _performZoom: function () { var e = this._map, t = e.getZoom(), o = this._map.options.zoomSnap || 0; e._stop(); var r = this._delta / (4 * this._map.options.wheelPxPerZoomLevel), l = 4 * n(2 / (1 + ut(-d(r)))) / a, s = o ? i(l / o) * o : l, p = e._limitZoom(t + (0 < this._delta ? s : -s)) - t; this._delta = 0, this._startTime = null; p && ('center' === e.options.scrollWheelZoom ? e.setZoom(t + p) : e.setZoomAround(this._lastMousePos, t + p)) } }); So.addInitHook('addHandler', 'scrollWheelZoom', Oa), So.mergeOptions({ tap: !0, tapTolerance: 15 }); var Ra = Uo.extend({ addHooks: function () { ne(this._map._container, 'touchstart', this._onDown, this) }, removeHooks: function () { re(this._map._container, 'touchstart', this._onDown, this) }, _onDown: function (t) { if (t.touches) { if (ge(t), this._fireClick = !0, 1 < t.touches.length) return this._fireClick = !1, void clearTimeout(this._holdTimeout); var e = t.touches[0], o = e.target; this._startPos = this._newPos = new O(e.clientX, e.clientY), o.tagName && 'a' === o.tagName.toLowerCase() && Te(o, 'leaflet-active'), this._holdTimeout = setTimeout(_(function () { this._isTapValid() && (this._fireClick = !1, this._onUp(), this._simulateEvent('contextmenu', e)) }, this), 1e3), this._simulateEvent('mousedown', e), ne(document, { touchmove: this._onMove, touchend: this._onUp }, this) } }, _onUp: function (t) { if (clearTimeout(this._holdTimeout), re(document, { touchmove: this._onMove, touchend: this._onUp }, this), this._fireClick && t && t.changedTouches) { var e = t.changedTouches[0], o = e.target; o && o.tagName && 'a' === o.tagName.toLowerCase() && Ae(o, 'leaflet-active'), this._simulateEvent('mouseup', e), this._isTapValid() && this._simulateEvent('click', e) } }, _isTapValid: function () { return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance }, _onMove: function (t) { var e = t.touches[0]; this._newPos = new O(e.clientX, e.clientY), this._simulateEvent('mousemove', e) }, _simulateEvent: function (t, o) { var e = document.createEvent('MouseEvents'); e._simulated = !0, o.target._simulatedClick = !0, e.initMouseEvent(t, !0, !0, window, 1, o.screenX, o.screenY, o.clientX, o.clientY, !1, !1, !1, !1, 0, null), o.target.dispatchEvent(e) } }); $t && !Qt && So.addInitHook('addHandler', 'tap', Ra), So.mergeOptions({ touchZoom: $t && !Bt, bounceAtZoomLimits: !0 }); var za = Uo.extend({ addHooks: function () { Te(this._map._container, 'leaflet-touch-zoom'), ne(this._map._container, 'touchstart', this._onTouchStart, this) }, removeHooks: function () { Ae(this._map._container, 'leaflet-touch-zoom'), re(this._map._container, 'touchstart', this._onTouchStart, this) }, _onTouchStart: function (t) { var e = this._map; if (!(!t.touches || 2 !== t.touches.length || e._animatingZoom || this._zooming)) { var o = e.mouseEventToContainerPoint(t.touches[0]), a = e.mouseEventToContainerPoint(t.touches[1]); this._centerPoint = e.getSize()._divideBy(2), this._startLatLng = e.containerPointToLatLng(this._centerPoint), 'center' !== e.options.touchZoom && (this._pinchStartLatLng = e.containerPointToLatLng(o.add(a)._divideBy(2))), this._startDist = o.distanceTo(a), this._startZoom = e.getZoom(), this._moved = !1, this._zooming = !0, e._stop(), ne(document, 'touchmove', this._onTouchMove, this), ne(document, 'touchend', this._onTouchEnd, this), ge(t) } }, _onTouchMove: function (t) { if (t.touches && 2 === t.touches.length && this._zooming) { var e = this._map, o = e.mouseEventToContainerPoint(t.touches[0]), a = e.mouseEventToContainerPoint(t.touches[1]), n = o.distanceTo(a) / this._startDist; if (this._zoom = e.getScaleZoom(n, this._startZoom), !e.options.bounceAtZoomLimits && (this._zoom < e.getMinZoom() && 1 > n || this._zoom > e.getMaxZoom() && 1 < n) && (this._zoom = e._limitZoom(this._zoom)), 'center' !== e.options.touchZoom) { var r = o._add(a)._divideBy(2)._subtract(this._centerPoint); if (1 == n && 0 === r.x && 0 === r.y) return; this._center = e.unproject(e.project(this._pinchStartLatLng, this._zoom).subtract(r), this._zoom) } else if (this._center = this._startLatLng, 1 == n) return; this._moved || (e._moveStart(!0), this._moved = !0), M(this._animRequest); var i = _(e._move, e, this._center, this._zoom, { pinch: !0, round: !1 }); this._animRequest = E(i, this, !0), ge(t) } }, _onTouchEnd: function () { return this._moved && this._zooming ? void (this._zooming = !1, M(this._animRequest), re(document, 'touchmove', this._onTouchMove), re(document, 'touchend', this._onTouchEnd), this._map.options.zoomAnimation ? this._map._animateZoom(this._center, this._map._limitZoom(this._zoom), !0, this._map.options.zoomSnap) : this._map._resetView(this._center, this._map._limitZoom(this._zoom))) : void (this._zooming = !1) } }); So.addInitHook('addHandler', 'touchZoom', za), So.BoxZoom = Ea, So.DoubleClickZoom = Ma, So.Drag = Sa, So.Keyboard = Da, So.ScrollWheelZoom = Oa, So.Tap = Ra, So.TouchZoom = za; var Na = window.L; window.L = e, Object.freeze = _t, e.version = '1.2.0', e.noConflict = function () { return window.L = Na, this }, e.Control = Do, e.control = Oo, e.Browser = ro, e.Evented = Pt, e.Mixin = { Events: Ct }, e.Util = wt, e.Class = S, e.Handler = Uo, e.extend = t, e.bind = _, e.stamp = f, e.setOptions = w, e.DomEvent = xo, e.DomUtil = Eo, e.PosAnimation = Mo, e.Draggable = Yo, e.LineUtil = Wo, e.PolyUtil = Vo, e.Point = O, e.point = R, e.Bounds = z, e.bounds = N, e.Transformation = G, e.transformation = H, e.Projection = Jo, e.LatLng = j, e.latLng = U, e.LatLngBounds = B, e.latLngBounds = Z, e.CRS = It, e.GeoJSON = ua, e.geoJSON = st, e.geoJson = st, e.Layer = ta, e.LayerGroup = oa, e.layerGroup = function (e) { return new oa(e) }, e.FeatureGroup = aa, e.featureGroup = function (e) { return new aa(e) }, e.ImageOverlay = _a, e.imageOverlay = function (e, t, o) { return new _a(e, t, o) }, e.VideoOverlay = fa, e.videoOverlay = function (e, t, o) { return new fa(e, t, o) }, e.DivOverlay = ya, e.Popup = ha, e.popup = function (e, t) { return new ha(e, t) }, e.Tooltip = ba, e.tooltip = function (e, t) { return new ba(e, t) }, e.Icon = na, e.icon = function (e) { return new na(e) }, e.DivIcon = va, e.divIcon = function (e) { return new va(e) }, e.Marker = la, e.marker = function (e, t) { return new la(e, t) }, e.TileLayer = La, e.tileLayer = dt, e.GridLayer = xa, e.gridLayer = function (e) { return new xa(e) }, e.SVG = Ta, e.svg = ct, e.Renderer = wa, e.Canvas = Ca, e.canvas = pt, e.Path = sa, e.CircleMarker = da, e.circleMarker = function (e, t) { return new da(e, t) }, e.Circle = pa, e.circle = function (e, t, o) { return new pa(e, t, o) }, e.Polyline = ca, e.polyline = function (e, t) { return new ca(e, t) }, e.Polygon = ga, e.polygon = function (e, t) { return new ga(e, t) }, e.Rectangle = Aa, e.rectangle = function (e, t) { return new Aa(e, t) }, e.Map = So, e.map = function (e, t) { return new So(e, t) } }) }, function (e, t, o) { 'use strict'; var a = o(0), n = o(54)(1); a(a.P + a.F * !o(51)([].map, !0), 'Array', { map: function (e) { return n(this, e, arguments[1]) } }) }, function (e, t, o) { var a = o(28), n = Math.min; e.exports = function (e) { return 0 < e ? n(a(e), 9007199254740991) : 0 } }, function (e) { var t = e.exports = { version: '2.5.7' }; 'number' == typeof __e && (__e = t) }, function (e) { e.exports = !1 }, function (e) { var t = 0, o = Math.random(); e.exports = function (e) { return 'Symbol('.concat(e === void 0 ? '' : e, ')_', (++t + o).toString(36)) } }, function (e, t, o) { var a = o(39); e.exports = function (e, t, o) { return (a(e), void 0 === t) ? e : 1 === o ? function (o) { return e.call(t, o) } : 2 === o ? function (o, a) { return e.call(t, o, a) } : 3 === o ? function (o, a, n) { return e.call(t, o, a, n) } : function () { return e.apply(t, arguments) } } }, function (e) { var t = {}.toString; e.exports = function (e) { return t.call(e).slice(8, -1) } }, function (e, t, o) { var a = o(41); e.exports = function (e) { return Object(a(e)) } }, function (e, t, o) { var a = o(87), n = o(65); e.exports = Object.keys || function (e) { return a(e, n) } }, function (e, t, o) { var a = o(62), n = o(41); e.exports = function (e) { return a(n(e)) } }, function (e) { var t = Math.ceil, o = Math.floor; e.exports = function (e) { return isNaN(e = +e) ? 0 : (0 < e ? o : t)(e) } }, function (e, t) { 'use strict'; function o(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } t.a = function e(t) { o(this, e), this.hasPopup = t.hasPopup, this.buttonLabel = t.buttonLabel } }, function (e, t, o) { 'use strict'; var a = o(0), n = o(63)(!1), r = [].indexOf, i = !!r && 0 > 1 / [1].indexOf(1, -0); a(a.P + a.F * (i || !o(51)(r)), 'Array', { indexOf: function (e) { return i ? r.apply(this, arguments) || 0 : n(this, e, arguments[1]) } }) }, function (e, t, o) { 'use strict'; var a = o(21), n = o(1), r = o(23), i = o(70), l = o(0), s = o(5), d = o(39), p = o(71), c = o(133), g = o(95), u = o(96).set, m = o(135)(), _ = o(98), f = o(136), y = o(137), h = o(138), b = 'Promise', v = n.TypeError, x = n.process, k = x && x.versions, w = k && k.v8 || '', P = n[b], C = 'process' == i(x), I = function () { }, T = B = _.f, A = !!function () { try { var e = P.resolve(1), t = (e.constructor = {})[o(2)('species')] = function (e) { e(I, I) }; return (C || 'function' == typeof PromiseRejectionEvent) && e.then(I) instanceof t && 0 !== w.indexOf('6.6') && -1 === y.indexOf('Chrome/66') } catch (t) { } }(), E = function (e) { var t; return s(e) && 'function' == typeof (t = e.then) && t }, M = function (e, t) { if (!e._n) { e._n = !0; var o = e._c; m(function () { for (var a = e._v, n = 1 == e._s, r = 0, i = function (t) { var o = n ? t.ok : t.fail, r = t.resolve, i = t.reject, l = t.domain, s, d, p; try { o ? (!n && (2 == e._h && O(e), e._h = 1), !0 === o ? s = a : (l && l.enter(), s = o(a), l && (l.exit(), p = !0)), s === t.promise ? i(v('Promise-chain cycle')) : (d = E(s)) ? d.call(s, r, i) : r(s)) : i(a) } catch (t) { l && !p && l.exit(), i(t) } }; o.length > r;)i(o[r++]); e._c = [], e._n = !1, t && !e._h && S(e) }) } }, S = function (e) { u.call(n, function () { var t = e._v, o = D(e), a, r, i; if (o && (a = f(function () { C ? x.emit('unhandledRejection', t, e) : (r = n.onunhandledrejection) ? r({ promise: e, reason: t }) : (i = n.console) && i.error && i.error('Unhandled promise rejection', t) }), e._h = C || D(e) ? 2 : 1), e._a = void 0, o && a.e) throw a.v }) }, D = function (e) { return 1 !== e._h && 0 === (e._a || e._c).length }, O = function (e) { u.call(n, function () { var t; C ? x.emit('rejectionHandled', e) : (t = n.onrejectionhandled) && t({ promise: e, reason: e._v }) }) }, R = function (e) { var t = this; t._d || (t._d = !0, t = t._w || t, t._v = e, t._s = 2, !t._a && (t._a = t._c.slice()), M(t, !0)) }, z = function (e) { var t = this, o; if (!t._d) { t._d = !0, t = t._w || t; try { if (t === e) throw v('Promise can\'t be resolved itself'); (o = E(e)) ? m(function () { var a = { _w: t, _d: !1 }; try { o.call(e, r(z, a, 1), r(R, a, 1)) } catch (t) { R.call(a, t) } }) : (t._v = e, t._s = 1, M(t, !1)) } catch (o) { R.call({ _w: t, _d: !1 }, o) } } }, N, B, Z, j; A || (P = function (e) { p(this, P, b, '_h'), d(e), N.call(this); try { e(r(z, this, 1), r(R, this, 1)) } catch (e) { R.call(this, e) } }, N = function () { this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, this._n = !1 }, N.prototype = o(72)(P.prototype, { then: function (e, t) { var o = T(g(this, P)); return o.ok = 'function' != typeof e || e, o.fail = 'function' == typeof t && t, o.domain = C ? x.domain : void 0, this._c.push(o), this._a && this._a.push(o), this._s && M(this, !1), o.promise }, catch: function (e) { return this.then(void 0, e) } }), Z = function () { var e = new N; this.promise = e, this.resolve = r(z, e, 1), this.reject = r(R, e, 1) }, _.f = T = function (e) { return e === P || e === j ? new Z(e) : B(e) }), l(l.G + l.W + l.F * !A, { Promise: P }), o(40)(P, b), o(99)(b), j = o(20)[b], l(l.S + l.F * !A, b, { reject: function (e) { var t = T(this), o = t.reject; return o(e), t.promise } }), l(l.S + l.F * (a || !A), b, { resolve: function (e) { return h(a && this === j ? P : this, e) } }), l(l.S + l.F * !(A && o(100)(function (e) { P.all(e)['catch'](I) })), b, { all: function (e) { var t = this, o = T(t), a = o.resolve, n = o.reject, r = f(function () { var o = [], r = 0, i = 1; c(e, !1, function (e) { var l = r++, s = !1; o.push(void 0), i++, t.resolve(e).then(function (e) { s || (s = !0, o[l] = e, --i || a(o)) }, n) }), --i || a(o) }); return r.e && n(r.v), o.promise }, race: function (e) { var t = this, o = T(t), a = o.reject, n = f(function () { c(e, !1, function (e) { t.resolve(e).then(o.resolve, a) }) }); return n.e && a(n.v), o.promise } }) }, function (e) { e.exports = {} }, function (e, t, o) { for (var a = o(45), n = o(26), r = o(16), l = o(1), s = o(12), d = o(32), p = o(2), c = p('iterator'), g = p('toStringTag'), u = d.Array, m = { CSSRuleList: !0, CSSStyleDeclaration: !1, CSSValueList: !1, ClientRectList: !1, DOMRectList: !1, DOMStringList: !1, DOMTokenList: !0, DataTransferItemList: !1, FileList: !1, HTMLAllCollection: !1, HTMLCollection: !1, HTMLFormElement: !1, HTMLSelectElement: !1, MediaList: !0, MimeTypeArray: !1, NamedNodeMap: !1, NodeList: !0, PaintRequestList: !1, Plugin: !1, PluginArray: !1, SVGLengthList: !1, SVGNumberList: !1, SVGPathSegList: !1, SVGPointList: !1, SVGStringList: !1, SVGTransformList: !1, SourceBufferList: !1, StyleSheetList: !0, TextTrackCueList: !1, TextTrackList: !1, TouchList: !1 }, _ = n(m), f = 0; f < _.length; f++) { var i = _[f], y = m[i], h = l[i], b = h && h.prototype, v; if (b && (b[c] || s(b, c, u), b[g] || s(b, g, i), d[i] = u, y)) for (v in a) b[v] || r(b, v, a[v], !0) } }, function (e, t, o) { 'use strict'; var a = o(0), n = o(54)(0), r = o(51)([].forEach, !0); a(a.P + a.F * !r, 'Array', { forEach: function (e) { return n(this, e, arguments[1]) } }) }, function (e, t, o) { function a(e, t) { var o = 3 > arguments.length ? e : arguments[2], l, p; return d(e) === o ? e[t] : (l = n.f(e, t)) ? i(l, 'value') ? l.value : void 0 === l.get ? void 0 : l.get.call(o) : s(p = r(e)) ? a(p, t, o) : void 0 } var n = o(44), r = o(73), i = o(15), l = o(0), s = o(5), d = o(10); l(l.S, 'Reflect', { get: a }) }, function (e, t, o) { var a = o(0); a(a.P, 'Array', { fill: o(74) }), o(101)('fill') }, function (e, t, o) { var a = o(5); e.exports = function (e, t) { if (!a(e)) return e; var o, n; if (t && 'function' == typeof (o = e.toString) && !a(n = o.call(e))) return n; if ('function' == typeof (o = e.valueOf) && !a(n = o.call(e))) return n; if (!t && 'function' == typeof (o = e.toString) && !a(n = o.call(e))) return n; throw TypeError('Can\'t convert object to primitive value') } }, function (e) { e.exports = function (e, t) { return { enumerable: !(1 & e), configurable: !(2 & e), writable: !(4 & e), value: t } } }, function (e) { e.exports = function (e) { if ('function' != typeof e) throw TypeError(e + ' is not a function!'); return e } }, function (e, t, o) { var a = o(9).f, n = o(15), r = o(2)('toStringTag'); e.exports = function (e, t, o) { e && !n(e = o ? e : e.prototype, r) && a(e, r, { configurable: !0, value: t }) } }, function (e) { e.exports = function (e) { if (e == void 0) throw TypeError('Can\'t call method on  ' + e); return e } }, function (e, t, o) { var a = o(10), n = o(125), r = o(65), i = o(64)('IE_PROTO'), l = function () { }, s = 'prototype', d = function () { var e = o(61)('iframe'), t = r.length, a = '<', n = '>', i; for (e.style.display = 'none', o(89).appendChild(e), e.src = 'javascript:', i = e.contentWindow.document, i.open(), i.write(a + 'script' + n + 'document.F=Object' + a + '/script' + n), i.close(), d = i.F; t--;)delete d[s][r[t]]; return d() }; e.exports = Object.create || function (e, t) { var o; return null === e ? o = d() : (l[s] = a(e), o = new l, l[s] = null, o[i] = e), void 0 === t ? o : n(o, t) } }, function (e, t, o) { var a = o(87), n = o(65).concat('length', 'prototype'); t.f = Object.getOwnPropertyNames || function (e) { return a(e, n) } }, function (e, t, o) { var a = o(50), n = o(38), r = o(27), i = o(37), l = o(15), s = o(86), d = Object.getOwnPropertyDescriptor; t.f = o(7) ? d : function (e, t) { if (e = r(e), t = i(t, !0), s) try { return d(e, t) } catch (t) { } return l(e, t) ? n(!a.f.call(e, t), e[t]) : void 0 } }, function (e, t, o) { 'use strict'; var a = o(101), n = o(139), r = o(32), i = o(27); e.exports = o(102)(Array, 'Array', function (e, t) { this._t = i(e), this._i = 0, this._k = t }, function () { var e = this._t, t = this._k, o = this._i++; return !e || o >= e.length ? (this._t = void 0, n(1)) : 'keys' == t ? n(0, o) : 'values' == t ? n(0, e[o]) : n(0, [o, e[o]]) }, 'values'), r.Arguments = r.Array, a('keys'), a('values'), a('entries') }, function (e, t, o) { var a = o(0); a(a.S + a.F, 'Object', { assign: o(146) }) }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function r(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function i(e, t, o) { return t && r(e.prototype, t), o && r(e, o), e } var l = o(4), s = o.n(l), d = o(6), p = o.n(d), c = o(3), g = o.n(c), u = o(46), m = o.n(u), _ = o(17), f = o.n(_), y = o(69), h = o(75), b = o(67), v = o(83), x = o(29), k = function () { function e() { n(this, e) } return i(e, [{ key: 'createPopupContentLineRoute', value: function (e) { var t = '', o, n; if (o = { distance: y.a.L0003, duration: y.a.L0004, start_address: y.a.L0005, end_address: y.a.L0006 }, e) for (n in e.properties) { var r = o[n]; e.properties.start_address === e.properties.end_address && ('start_address' === n ? r = y.a.L0007 + ': ' : 'end_address' === n && (r = '')), r && (t += '<div>', t += '<b>' + r + ': </b>', t += 'object' === a(e.properties[n]) ? e.properties[n].text : e.properties[n], t += '</div>') } return t } }, { key: 'createLine', value: function (e) { var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}, o = 2 < arguments.length ? arguments[2] : void 0, a = Object.assign({}, t); delete a.popup, a.weight = a.weight || 6, a.color = a.color || '#022bb1', a.dashArray instanceof Array && (a.dashArray = a.dashArray.join(', ')); var n = Object.assign({}, a); n.color = a.fillColor || 'white', n.opacity = a.fillOpacity || 0.4, n.weight -= a.fillWeight || 2, delete a.fillColor, delete a.fillOpacity, delete a.fillWeight, delete n.fillColor, delete n.fillOpacity, delete n.fillWeight; var r = f.a.polyline(e, a), i = f.a.polyline(e, n), l = function () { i.setStyle({ weight: n.fillHoverWeight || (n.hoverWeight || 8) - 2, color: n.fillHoverColor || '#1a0165', opacity: n.fillHoverOpacity || n.opacity }), r.setStyle({ weight: n.hoverWeight || a.hoverWeight || 8, color: n.hoverColor || 'white', opacity: n.hoverOpacity || 1 }) }, s = function () { i.setStyle({ weight: n.weight, color: n.color, opacity: n.opacity }), r.setStyle({ weight: a.weight, color: a.color, opacity: a.opacity }) }; if (r.on('mouseover', l), i.on('mouseover', l), r.on('mouseout', s), i.on('mouseout', s), o && t && t.popup) { var d = function (e) { e.target.openPopup() }; r.on('click', d), i.on('click', d); var p = this.createPopupContentLineRoute(o); r.bindPopup(p), i.bindPopup(p) } return { stroke: r, fill: i } } }, { key: 'createMarker', value: function (e, t) { return t.hasOwnProperty('icon') && t.icon instanceof x.a && (t.icon = this.toLeafletIcon(t.icon)), f.a.marker(e, t) } }, { key: 'createMarkerWithPopup', value: function (e, t) { var o = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}, a = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null; t = t || 'temp'; var n = o.leaflet || {}; n.icon = o.icon, n.draggable = o.draggable || !0; var r = this.createMarker(e, n); return r.on('mouse', function (e) { e.target.openPopup() }), (o.hasPopup || null !== a) && r.bindPopup(this.createPopupContentLineRoute(a) || y.a[t]), r } }, { key: 'toLeafletIcon', value: function (e) { if (e instanceof b.a) return this._toLeafletDivIcon(e); if (e instanceof v.a) return this._toLeafletIcon(e); throw new Error('O icone \'' + e + '\' n\xE3o \xE9 v\xE1lido.') } }, { key: '_toLeafletDivIcon', value: function (e) { var t = h.a.create('div', { className: e.className, style: { background: e.color } }); return f.a.divIcon({ html: t.outerHTML, className: 'm-icon-override', iconSize: e.size || null, iconAnchor: e.iconAnchor }) } }, { key: '_toLeafletIcon', value: function (e) { return f.a.icon({ iconUrl: e.url, className: 'm-icon-override', iconSize: e.size || null, iconAnchor: e.iconAnchor }) } }]), e }(); t.a = new k }, function (e) { e.exports = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=' }, function (e, t, o) { var a = o(28), n = Math.max, r = Math.min; e.exports = function (e, t) { return e = a(e), 0 > e ? n(e + t, 0) : r(e, t) } }, function (e, t) { t.f = {}.propertyIsEnumerable }, function (e, t, o) { 'use strict'; var a = o(8); e.exports = function (e, t) { return !!e && a(function () { t ? e.call(null, function () { }, 1) : e.call(null) }) } }, function (e, t, o) { (function (t) { var o = function () { 'use strict'; function e(e, t) { return null != t && e instanceof t } function o(a, d, i, p, c) { function g(a, f) { if (null === a) return null; if (0 === f) return a; var y, h; if ('object' != typeof a) return a; if (e(a, r)) y = new r; else if (e(a, l)) y = new l; else if (e(a, s)) y = new s(function (e, t) { a.then(function (t) { e(g(t, f - 1)) }, function (e) { t(g(e, f - 1)) }) }); else if (o.__isArray(a)) y = []; else if (o.__isRegExp(a)) y = new RegExp(a.source, n(a)), a.lastIndex && (y.lastIndex = a.lastIndex); else if (o.__isDate(a)) y = new Date(a.getTime()); else { if (_ && t.isBuffer(a)) return y = new t(a.length), a.copy(y), y; e(a, Error) ? y = Object.create(a) : 'undefined' == typeof p ? (h = Object.getPrototypeOf(a), y = Object.create(h)) : (y = Object.create(p), h = p) } if (d) { var b = u.indexOf(a); if (-1 != b) return m[b]; u.push(a), m.push(y) } for (var v in e(a, r) && a.forEach(function (e, t) { var o = g(t, f - 1), a = g(e, f - 1); y.set(o, a) }), e(a, l) && a.forEach(function (e) { var t = g(e, f - 1); y.add(t) }), a) { var i; (h && (i = Object.getOwnPropertyDescriptor(h, v)), !(i && null == i.set)) && (y[v] = g(a[v], f - 1)) } if (Object.getOwnPropertySymbols) for (var x = Object.getOwnPropertySymbols(a), v = 0; v < x.length; v++) { var k = x[v], w = Object.getOwnPropertyDescriptor(a, k); (!w || w.enumerable || c) && (y[k] = g(a[k], f - 1), w.enumerable || Object.defineProperty(y, k, { enumerable: !1 })) } if (c) for (var C = Object.getOwnPropertyNames(a), v = 0; v < C.length; v++) { var P = C[v], w = Object.getOwnPropertyDescriptor(a, P); w && w.enumerable || (y[P] = g(a[P], f - 1), Object.defineProperty(y, P, { enumerable: !1 })) } return y } 'object' == typeof d && (i = d.depth, p = d.prototype, c = d.includeNonEnumerable, d = d.circular); var u = [], m = [], _ = 'undefined' != typeof t; return 'undefined' == typeof d && (d = !0), 'undefined' == typeof i && (i = Infinity), g(a, i) } function a(e) { return Object.prototype.toString.call(e) } function n(e) { var t = ''; return e.global && (t += 'g'), e.ignoreCase && (t += 'i'), e.multiline && (t += 'm'), t } var r; try { r = Map } catch (e) { r = function () { } } var l; try { l = Set } catch (e) { l = function () { } } var s; try { s = Promise } catch (e) { s = function () { } } return o.clonePrototype = function (e) { if (null === e) return null; var t = function () { }; return t.prototype = e, new t }, o.__objToStr = a, o.__isDate = function (e) { return 'object' == typeof e && '[object Date]' === a(e) }, o.__isArray = function (e) { return 'object' == typeof e && '[object Array]' === a(e) }, o.__isRegExp = function (e) { return 'object' == typeof e && '[object RegExp]' === a(e) }, o.__getRegExpFlags = n, o }(); 'object' == typeof e && e.exports && (e.exports = o) }).call(t, o(92).Buffer) }, function (e, t, o) { 'use strict'; function a(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function n(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function r(e, t, o) { return t && n(e.prototype, t), o && n(e, o), e } var i = o(3), l = o.n(i), s = o(33), d = o.n(s), p = o(34), c = o.n(p), g = o(30), u = o.n(g), m = o(18), _ = o.n(m), f = o(81), y = o(143), h = o(47), b = o(29), v = o(68), x = function () { function e(t, o, n) { a(this, e), this._config = o, this.mapa = new y.a(t, o), this.markers = [], this.geoJsons = []; var r = this; this.mapa.buildMap('function' == typeof n ? function () { return n(r) } : void 0) } return r(e, [{ key: 'setMoveMapCursorType', value: function (e) { this.mapa.setMoveMapCursorType(e) } }, { key: 'getMoveMapCursorType', value: function () { return this.mapa.getMoveMapCursorType() } }, { key: 'putMarker', value: function (e, t) { var o = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}, a = 1 === arguments.length ? 'pinOnClick' : t, n; if ('string' == typeof a && (a = this._config.simbology[a]), !(a instanceof b.a)) throw new Error('Tipo de marcador invalido \'' + t + '\''); return n = h.a.createMarker(e, { icon: a, draggable: this._config.markersDraggable && (o.draggable || !1) }), n.addTo(this.mapa.map), this.markers.push(n), n } }, { key: 'removeMarker', value: function (e) { var t = this.markers.indexOf(e); if (0 <= t) e.removeFrom(this.mapa.map), this.markers.splice(t, 1); else if (0 < this.markers.length) throw new Error('N\xE3o foi possivel remover o marcador. Marcador invalido.') } }, { key: 'remove', value: function () { this.mapa.remove() } }, { key: 'onMapReady', value: function (e) { this.mapa.map.whenReady(e, this) } }, { key: 'onMapClick', value: function (e) { return this.mapa.on('click', e) } }, { key: 'onMouseMove', value: function (e) { return this.mapa.on('mousemove', e) } }, { key: 'clearRouteDragPoints', value: function () { this._routeWaypoints = [] } }, { key: 'clearMap', value: function () { this.markers.forEach(function (e) { e.remove() }), this.markers = [], this.clearGeoJsonGroups(), this.mapa.clear() } }, { key: 'addGeoJSONGroup', value: function (e) { return this.mapa.addGeoJSONGroup(e), this.geoJsons.push(e) - 1 } }, { key: 'removeGeoJSONGroup', value: function (e) { var t = e; if (t instanceof v.a) t = this.geoJsons.indexOf(t); else if ('number' != typeof t && (0 > t || t >= this.geoJsons.length)) throw new Error('Index do geoJSON inv\xE1lido.'); var o = this.geoJsons[t]; return this.mapa.removeGeoJSONGroup(o), this.geoJsons.splice(t, 1), o } }, { key: 'clearGeoJsonGroups', value: function () { for (; this.geoJsons.length;)this.removeGeoJSONGroup(0) } }, { key: 'markersDraggable', get: function () { return this._config.markersDraggable }, set: function (e) { this._config.markersDraggable = e, this.markers.forEach(function (t) { return e ? t.dragging.enable() : t.dragging.disable() }) } }, { key: 'routesDraggable', get: function () { return this._config.routesDraggable }, set: function (e) { this._config.routesDraggable = e } }]), e }(); t.a = x }, function (e, t, o) { var a = o(23), n = o(62), r = o(25), i = o(19), l = o(141); e.exports = function (e, t) { var o = 1 == e, s = 4 == e, d = 6 == e, p = t || l; return function (t, l, c) { for (var g = r(t), u = n(g), m = a(l, c, 3), _ = i(u.length), f = 0, y = o ? p(t, _) : 2 == e ? p(t, 0) : void 0, h, b; _ > f; f++)if ((5 == e || d || f in u) && (h = u[f], b = m(h, f, g), e)) if (o) y[f] = b; else if (b) switch (e) { case 3: return !0; case 5: return h; case 6: return f; case 2: y.push(h); } else if (s) return !1; return d ? -1 : 3 == e || s ? s : y } } }, function (e, t, o) { var a = o(157); 'string' == typeof a && (a = [[e.i, a, '']]); var n = { hmr: !0 }, r; n.transform = r; o(78)(a, n); a.locals && (e.exports = a.locals), !1 }, function (e) { e.exports = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7c3grY3grg8hJo3grY4g7c4g7c3grU0gLI4grY9hrpBi79HkMM2frE0daA0fq82gbROlslbo9Vgp9dcpNZQmcxFjsIwd6QzeKk3gbRfptdepdZcpdY2gLMtd5s3gLNZotVSntNPnNJLmtFImdBZodU1f7A2f7A1frA2f7I2f7FHmNBUnM9Wn9VGmNAydaNYoNJOm9M9hLc0e6w3fa46f7BKmdFFltBVndE1fK1Els82fq41fK1Dlc89g7RClc9XoNVUndQ0eqxClM9Jl9FRms81eqo0eqpHltFBk89Fi75Qm9M/k89KkcYzealSjbadvdPH2ufz9/r4+vzP3+qlxNljmL08gLNSnNQzeKgydqUzeKg/ks6NtM/////+/v8+kc/f6fFAgK1CiLwydKIzd6c8kM6Tt9C1zd5OmdNBh7pTjLRzn78xdKIydqU7j86jwdbM3egxdKIydaQydaMydKNGlNE6js5OiLAxc6FKkshDk9E5jc09e6Zekrcxc6I4jc03eagyc6FIldI3jM0wcaBMl9J+psNKltIwcZ82i83k7fMubJhLlc81is1Lg6pklbZNl9I/j9AvbJlEjcVdkLPt8/cwcZ4ubZkwcJ00icy0y9swcJwvb5wzicxHkcpTh60ubZhCkNAyiMwvbpoxh8xAicBHj8hGk9FHks0+jdAubJcubJdEkdEwhsw6i88ubJgta5cvhswxapgubJcuhcstbJcubZcuhMsubJcvbJZBjMgthMsubJcvbZkubJcrg8stbJctbZcubJgrgssua5gubJc6is8qgcs8i9A9iMYtg8spgcoogMo7hcMrbZcubJcngMonf8olfsoubJc4gr8kfckua5g5iM8jfMk4iM8he8k1froua5g7itAgeskubJc2hs8eecgzfLcofssdeMg0hc4ubJccd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqjbZ8obAAAA7HRSTlMAHDdTb4yPA+L/7ZxE/////yYLgvb///////8SYf/////qB/////////+1wNHd//////8s////r/////////+O/P///////////8f///////////////////////+P2P///////////3f//////////5j/////tczn//////L///////////////////////8+////////R/////Ww////tf////9q////////////4P/////Yd/8W+P/xov+UNv///STN/7hc1P/AUv//////////MMT///+m//+e//////+M//+C////////6cqo94AAAAXmSURBVHgBrNKDoipBGADgbHMRpjuKi2xOdu//MHe2Y6tvOdZvuhGzxWqzO2xWi9lp+g6L3eV+5PH6vmpltrv8nDsQDIWCAbef83jDpo9FojFeJxhPJO8JosQzYnb5oxYpVzodiCcyhiwA2esPEAPpdM727vT+eSH0x7McwoTmOUpxIcvF/RAWI29byCUIpUQ2m8A0/xwx8kIQls2vW4QrihIHQMDqGyQBgAiVnOXVTuWUtAaAnq++I48B0PxKrPZiq8qKvy4IpPqBhiDUm0rl+ca12h1NQN3eh7pI6MN26WnfooNBPIHU4SdUlBAHg9Hj0seDEEJ08pxKqfoio4tQaDAOP0xrMEWIzB4NCWaIK8xJ7ymXItQcFO/jcLGIF+bLRytW4LS18Wbd5SNcEBcLn8mw2TYZ2+3vLRuMaYdme7sdTA8iY8flQ0mPscC2fB1ku12z4+necs7YebDlri9JZ3rvoazB1tutxdiuy1TXl4/Zer95ufzneq7524qBAIBr61TmtxXX/MK4FC6cKIwvViozXMDMzLbCTF+1JBn/4/EtLi2vrK6tbywsbE506vVxnZ3fF7YIIQamdX7dVqb/RtnCr1X+n3F9gA2MdA7Vsl87nzEDId2MTUCHSdr+As/Y1DKvM1uYFWBGpTtggrFuYrMPApgc0jhMTNmdvInLbn8NqNImgEG7jWzZnwB1KAg79t1V3mzPvgm6Q+n9m98n/e5ZQI+iw6Dby1v43AzApPIIs24/Cbg1GFcRE+h29xpvseJ2v4cxjzQOmjtAgqF5PRyRZvTXIfcqbxUNPdOnI1JYnw8FSSwUp4mklKDzoRRvkw7N0vF6QTwUI4aMRsNZyUQnMhkzb2HMZeJ0RhUMUy1jIP68lRaKUpLSXN7FW5jz+QnqKEoFas37yX6pD8tFpYybpQpv4S3lEGv5KvaV9olNDPwNHUhh1ETex5scpsQOVg8UxAFhI0dCHKPjRIogDorT1aZPzkTuHC9U2oPnQlySRzFxhYkTJYHHIXFt5srNnhBxLDSyV+L2IyF395vnhQflpHCuifv80g3/a+UPIXWNEDEAQEE0HR23weEk6XGnwR1iH3eJu7udbt26fe30I17x/PYH+9iv+CB5qT1v+YhlL5WeS5ZV72RZftvlNF6Wj75Zdn2kHcl6e5Sy/A3D7DsBMP0gd/DkC/Bp9l3gW5Y7a5asWVCm3WcaAFSHnFtxAXivwwAsWf9E25dl+TiwhwIKPVRgD33Ct6wvom0ijKapOBllpkEcf6ZCMsqjyCgjuvKIoajXYgya8vhIJ7rKKnKOP+sxjOPJZmV0DRRHGIZx/KW6npaOvor3M/G+pqalS00TT5q4G7qzPGe4O+wu7mxw59wt8p3LCre//pn/J+iupIwe1HKcpVdXI8c9QB9l9QMDnHVQF8+9xdAw5YzgBmfuHdVh4bj7GKO8cZYxW/UmvHkAeEl5pgncMJt7JzVZzOYaTFGh6WRGEDVJ5pniCDOCWw0Ns3MaLA0NdRijYm+AmQZhXoO1YQFYpBJLqGloGF1W1ZuMfKRSL1OZFVXJyNBlUhhD7evXk6sqZl+/rscaKfUDC68FtYn19Xr64xU+oo7nxQ2FWZ6vxyapuTyEdV5WTgR+HZ3DpGoN9Szzu8Qkzz9CH6kbZhlpa7uELO2gs4I0bOKRJInFC1GyPsMuaanoxPre1n6hbXlvB90dpKkPj4Q9sXAi7gnfcEDaOjqxIxwe5e1vCcforiIdu/gkyyenOSeyrBthqrpxvHV2lF0cHW4d47ySdB3g29bWiSPjZMvZBDvpqzxPZk7Ti9PDLZcyomBHk/PwxJ1ycsgiv4guzrgOz9wexn126EVbNV3oVzLj8zBaEYXqNnjP/G4W8Z8F0GYiKisTPGMZ31kQGKdymGwIhMIeTzgUgM1EZRkHgmGfL8wi01Qe0wQCYSaAESrXNBCJRiN6EYURxKLRmF5E4Q0QjwNvyIAlJBKYIiNegnlJhowBY2RMP9BPBn38SEYtLpKG/+tgQe8M5cY7AAAAAElFTkSuQmCC' }, function (e) { e.exports = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC' }, function (e, t, o) { 'use strict'; function a(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } var n = o(160), r = o.n(n), i = o(161), l = o.n(i), s = function e(t) { return a(this, e), l.a.create({ baseURL: t.serverAddressAPI.replace(/\/$/, ''), crossDomain: !0 }) }; s.CancelToken = l.a.CancelToken, s.isCancel = l.a.isCancel, t.a = s }, function (e) { function t() { throw new Error('setTimeout has not been defined') } function o() { throw new Error('clearTimeout has not been defined') } function a(e) { if (p === setTimeout) return setTimeout(e, 0); if ((p === t || !p) && setTimeout) return p = setTimeout, setTimeout(e, 0); try { return p(e, 0) } catch (t) { try { return p.call(null, e, 0) } catch (t) { return p.call(this, e, 0) } } } function n(e) { if (c === clearTimeout) return clearTimeout(e); if ((c === o || !c) && clearTimeout) return c = clearTimeout, clearTimeout(e); try { return c(e) } catch (t) { try { return c.call(null, e) } catch (t) { return c.call(this, e) } } } function r() { u && _ && (u = !1, _.length ? g = _.concat(g) : m = -1, g.length && l()) } function l() { if (!u) { var e = a(r); u = !0; for (var t = g.length; t;) { for (_ = g, g = []; ++m < t;)_ && _[m].run(); m = -1, t = g.length } _ = null, u = !1, n(e) } } function s(e, t) { this.fun = e, this.array = t } function i() { } var d = e.exports = {}, p, c; (function () { try { p = 'function' == typeof setTimeout ? setTimeout : t } catch (o) { p = t } try { c = 'function' == typeof clearTimeout ? clearTimeout : o } catch (t) { c = o } })(); var g = [], u = !1, m = -1, _; d.nextTick = function (e) { var t = Array(arguments.length - 1); if (1 < arguments.length) for (var o = 1; o < arguments.length; o++)t[o - 1] = arguments[o]; g.push(new s(e, t)), 1 !== g.length || u || a(l) }, s.prototype.run = function () { this.fun.apply(null, this.array) }, d.title = 'browser', d.browser = !0, d.env = {}, d.argv = [], d.version = '', d.versions = {}, d.on = i, d.addListener = i, d.once = i, d.off = i, d.removeListener = i, d.removeAllListeners = i, d.emit = i, d.prependListener = i, d.prependOnceListener = i, d.listeners = function () { return [] }, d.binding = function () { throw new Error('process.binding is not supported') }, d.cwd = function () { return '/' }, d.chdir = function () { throw new Error('process.chdir is not supported') }, d.umask = function () { return 0 } }, function (e, t, o) { var a = o(20), n = o(1), r = '__core-js_shared__', i = n[r] || (n[r] = {}); (e.exports = function (e, t) { return i[e] || (i[e] = t === void 0 ? {} : t) })('versions', []).push({ version: a.version, mode: o(21) ? 'pure' : 'global', copyright: '\xA9 2018 Denis Pushkarev (zloirock.ru)' }) }, function (e, t, o) { var a = o(5), n = o(1).document, r = a(n) && a(n.createElement); e.exports = function (e) { return r ? n.createElement(e) : {} } }, function (e, t, o) { var a = o(24); e.exports = Object('z').propertyIsEnumerable(0) ? Object : function (e) { return 'String' == a(e) ? e.split('') : Object(e) } }, function (e, t, o) { var a = o(27), n = o(19), r = o(49); e.exports = function (e) { return function (t, o, i) { var l = a(t), s = n(l.length), d = r(i, s), p; if (e && o != o) { for (; s > d;)if (p = l[d++], p != p) return !0; } else for (; s > d; d++)if ((e || d in l) && l[d] === o) return e || d || 0; return !e && -1 } } }, function (e, t, o) { var a = o(60)('keys'), n = o(22); e.exports = function (e) { return a[e] || (a[e] = n(e)) } }, function (e) { e.exports = ['constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'toLocaleString', 'toString', 'valueOf'] }, function (e, t) { t.f = Object.getOwnPropertySymbols }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function r(e, t) { return t && ('object' === a(t) || 'function' == typeof t) ? t : i(e) } function i(e) { if (void 0 === e) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called'); return e } function l(e) { return l = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, l(e) } function s(e, t) { if ('function' != typeof t && null !== t) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && d(e, t) } function d(e, t) { return d = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, d(e, t) } var p = o(4), c = o.n(p), g = o(6), u = o.n(g), m = o(13), _ = o.n(m), f = o(14), y = o.n(f), h = o(29), b = function (e) { function t(e) { var o; return n(this, t), o = r(this, l(t).call(this, e)), o.color = e.color, o.className = e.className, o.iconAnchor = e.iconAnchor, o.size = e.size, o } return s(t, e), t }(h.a); t.a = b }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function r(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function i(e, t, o) { return t && r(e.prototype, t), o && r(e, o), e } var l = o(4), s = o.n(l), d = o(6), p = o.n(d), c = o(3), g = o.n(c), u = o(30), m = o.n(u), _ = o(17), f = o.n(_), y = function () { function e() { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : [], o = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : null; n(this, e), this.style = o, this._features = t instanceof Array ? t : t ? [t] : [], this._layer = null } return i(e, [{ key: 'addFeature', value: function (e) { if ('object' !== a(e)) throw new Error('A fei\xE7\xE3o a ser adicionada n\xE3o \xE9 um objeto.'); this._features.push(e) } }, { key: 'removeFeature', value: function (e) { var t = e; if ('object' === a(t) && (t = this._features.indexOf(t)), 'number' != typeof t) throw new Error('O valor \'' + e + '\' n\xE3o \xE9 uma fei\xE7\xE3o v\xE1lida.'); else if (0 > t || t >= this._features.length) return; var o = this._features[t]; return this._features.splice(t, 1), o } }, { key: 'clearLayer', value: function () { this._layer && this._layer.clearLayers(), this._features = [] } }, { key: 'updateLayer', value: function () { this._layer && (this._layer.clearLayers(), this._layer.addData(this.features)) } }, { key: 'features', get: function () { return this._features }, set: function (e) { this._features = e instanceof Array ? e : [e] } }, { key: 'layer', get: function () { var e = this; return this._layer || (this._layer = new f.a.GeoJSON(this._features || void 0, { style: this.style, pointToLayer: function (t, o) { return e.style ? f.a.circleMarker(o, e.style) : f.a.marker(o) } })), this._layer } }]), e }(); t.a = y }, function (e, t) { 'use strict'; t.a = { L0001: 'Inserir Ponto de Parada na Ida', L0002: 'Excluir Este Ponto', L0003: 'Dist\xE2ncia', L0004: 'Dura\xE7\xE3o', L0005: 'Endere\xE7o do In\xEDcio deste trecho', L0006: 'Endere\xE7o do Final deste trecho', L0007: 'Endere\xE7o', L0008: 'Inserir Ponto de Origem', L0009: 'Inserir Ponto de Destino Final', L0010: 'Inserir Ponto de Embarque', L0011: 'Inserir Ponto de Destino Intermedi\xE1rio', L0012: 'Inserir Ponto de Desembarque', L0013: 'Inserir Ponto de Parada na Volta', origem: 'Ponto de Origem', destinoFinal: 'Destino Final', embarque: 'Ponto de Embarque', desembarque: 'Ponto de Desmbarque', paradaIda: 'Ponto de Parada na Ida', paradaVolta: 'Ponto de Parada na Volta', intermediario: 'Ponto de Destino Intermedi\xE1rio' } }, function (e, t, o) { var a = o(24), n = o(2)('toStringTag'), r = 'Arguments' == a(function () { return arguments }()), i = function (e, t) { try { return e[t] } catch (t) { } }; e.exports = function (e) { var t, o, l; return e === void 0 ? 'Undefined' : null === e ? 'Null' : 'string' == typeof (o = i(t = Object(e), n)) ? o : r ? a(t) : 'Object' == (l = a(t)) && 'function' == typeof t.callee ? 'Arguments' : l } }, function (e) { e.exports = function (e, t, o, a) { if (!(e instanceof t) || a !== void 0 && a in e) throw TypeError(o + ': incorrect invocation!'); return e } }, function (e, t, o) { var a = o(16); e.exports = function (e, t, o) { for (var n in t) a(e, n, t[n], o); return e } }, function (e, t, o) { var a = o(15), n = o(25), r = o(64)('IE_PROTO'), i = Object.prototype; e.exports = Object.getPrototypeOf || function (e) { return e = n(e), a(e, r) ? e[r] : 'function' == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? i : null } }, function (e, t, o) { 'use strict'; var a = o(25), n = o(49), r = o(19); e.exports = function (e) { for (var t = a(this), o = r(t.length), i = arguments.length, l = n(1 < i ? arguments[1] : void 0, o), s = 2 < i ? arguments[2] : void 0, d = void 0 === s ? o : n(s, o); d > l;)t[l++] = e; return t } }, function (e, t, o) { 'use strict'; function a(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function n(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function r(e, t, o) { return t && n(e.prototype, t), o && n(e, o), e } var i = o(3), l = o.n(i), s = o(106), d = o.n(s), p = function () { function e() { a(this, e) } return r(e, [{ key: 'loadCss', value: function (e) { var t = document.createElement('link'); t.type = 'text/css', t.rel = 'stylesheet', t.href = e, document.getElementsByTagName('head')[0].appendChild(t) } }, { key: 'create', value: function (e, t, o) { var a = document.createElement(e), n; t = t || {}; var r = t.attributes, i = t.style, l = t.className ? t.className.split(' ') : [], s = t.innerHTML, d = t.innerText, p = t.children, c = t.onClick; for (n in l) a.classList.add(l[n]); if (d && (a.innerText = d), s && (a.innerHTML = s), c && (a.onclick = c), p) for (n in p) a.appendChild(p[n]); if (r) for (n in r) a.setAttribute(n, r[n]); if (i) for (n in i) a.style[n] = i[n]; return o && o.appendChild(a), a } }]), e }(); t.a = new p }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function r(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function i(e, t, o) { return t && r(e.prototype, t), o && r(e, o), e } function l(e, t) { return t && ('object' === a(t) || 'function' == typeof t) ? t : s(e) } function s(e) { if (void 0 === e) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called'); return e } function d(e, t, o) { return d = 'undefined' != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, o) { var a = p(e, t); if (a) { var n = Object.getOwnPropertyDescriptor(a, t); return n.get ? n.get.call(o) : n.value } }, d(e, t, o || e) } function p(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && (e = c(e), null !== e);); return e } function c(e) { return c = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, c(e) } function g(e, t) { if ('function' != typeof t && null !== t) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && u(e, t) } function u(e, t) { return u = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, u(e, t) } var m = o(4), _ = o.n(m), f = o(6), y = o.n(f), h = o(3), b = o.n(h), v = o(35), x = o.n(v), k = o(13), w = o.n(k), C = o(14), P = o.n(C), I = o(34), T = o.n(I), A = o(36), E = o.n(A), M = o(31), S = o.n(M), D = o(33), O = o.n(D), R = o(45), z = o.n(R), N = o(108), B = o.n(N), Z = o(46), j = o.n(Z), U = o(18), G = o.n(U), H = o(109), F = o(110), Y = o(58), W = o(47), V = o(80), q = function (e) { function t(e, o) { var a; return n(this, t), a = l(this, c(t).call(this, e, o)), a.originCoordinates = null, a.destinationCoordinates = null, a._dragMarker = null, a._routeDragging = null, a._routeDragged = !1, a._idTimeoutRequest = null, a._lastRequestCancel = null, a._listenersRoute = a._getListenersForRouteDrag(), a._httpHelper = new Y.a(o), a._msgHelper = new V.a(a.rootNode), a._linesOnMap = [], document.addEventListener('mousemove', a._listenersRoute.drag), document.addEventListener('dragend', a._listenersRoute.dragEnd), document.addEventListener('mouseup', a._listenersRoute.mouseUp), a } return g(t, e), i(t, [{ key: '_getListenersForRouteDrag', value: function () { var e = this, t = this, o = function (e) { if (null !== t._routeDragging) { if (t._routeDragged) { var o = e.latlng || t.map.mouseEventToLatLng(e); t._routeDragging.fire('dragend', { type: 'dragend', target: t._routeDragging, sourceTarget: e.target, propagatedFrom: t._routeDragging, latlng: o }), t.map.dragging.enable(), setTimeout(function () { t._clickEnabled = !0 }, 100) } else t._clickEnabled = !0, t.map.dragging.enable(); t._routeDragging = null } }; return { mouseDown: function (o) { e._config.routesDraggable && (t._routeDragging = o.target, t._routeDragged = !1, t._clickEnabled = !1, t.map.dragging.disable(), null === t._listenersRoute.mouseUp && (t._listenersRoute.mouseUp = t._listenersRoute.dragEnd)) }, mouseUp: o, dragEnd: o, drag: function (e) { if (null !== t._routeDragging) { var o = e.latlng || t.map.mouseEventToLatLng(e); t._routeDragged ? t._routeDragging.fire('drag', { type: 'drag', target: t._routeDragging, sourceTarget: e.target, propagatedFrom: t._routeDragging, latlng: o }) : (t._routeDragged = !0, t._routeDragging.fire('dragstart', { type: 'dragstart', target: t._routeDragging, sourceTarget: e.target, propagatedFrom: t._routeDragging, latlng: o })) } } } } }, { key: '_setRouteDraggable', value: function (e) { e.on('mousedown', this._listenersRoute.mouseDown) } }, { key: '_sendRouteRequest', value: function (e, t) { if (this.originCoordinates && this.destinationCoordinates) { var o = Object.assign({}, { service: 'bing', waypoints: [], origin: { lat: this.originCoordinates.lat, lng: this.originCoordinates.lng }, destination: { lat: this.destinationCoordinates.lat, lng: this.destinationCoordinates.lng }, inSR: this.map.crs || 4674, mode: this.mode }, t || {}), a = { request: null, cancelRequest: null }; return a.request = this._httpHelper.post(e, o, { cancelToken: new Y.a.CancelToken(function (e) { a.cancelRequest = e }) }).then(function (e) { if (e.data instanceof Array && !e.data.length || !Object.keys(e.data).length) throw new Error(F.a.M0002); return { response: e, requestParams: o } }).catch(function (e) { if (!Y.a.isCancel(e)) return console.error(e), Promise.reject(e) }), a } } }, { key: '_sendDragRouteRequest', value: function (e, t) { var o = this, a = { request: null, cancelRequest: function () { null !== o._lastRequestCancel && o._lastRequestCancel() } }; return a.request = new Promise(function (a, n) { var r = o; null !== o._idTimeoutRequest && clearTimeout(o._idTimeoutRequest), o._idTimeoutRequest = setTimeout(function () { var o = r._sendRouteRequest(e, t); r._lastRequestCancel = o.cancelRequest, o.request.then(a).catch(n) }, 300) }), a } }, { key: '_plotRoute', value: function (e, t) { var o = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null, a = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null, n = e.geometry.coordinates.map(function (e) { return [e[1], e[0]] }), r = W.a.createLine(n, t, e); if (r.stroke.addTo(this.map), r.fill.addTo(this.map), o && a) { var i = this; this._setRouteDraggable(r.fill), r.fill.on('dragstart', function (e) { i._dragMarker = W.a.createMarkerWithPopup([e.latlng.lat, e.latlng.lng], 'temp', { icon: i._config.simbology.temp }), i._dragMarker.addTo(i.map) }), r.fill.on('drag', o), r.fill.on('dragend', a) } return this._linesOnMap.push(r.stroke), this._linesOnMap.push(r.fill), r } }, { key: 'clear', value: function () { d(c(t.prototype), 'clear', this).call(this), this._dragMarker && (this._dragMarker.remove(), this._dragMarker = null), this.originCoordinates && (this.originCoordinates = null), this.destinationCoordinates && (this.destinationCoordinates = null), this.clearLines() } }, { key: 'clearLines', value: function () { this._linesOnMap.length && (this._linesOnMap.forEach(function (e) { e.remove() }), this._linesOnMap = []) } }]), t }(H.a); t.a = q }, function (e) { function t(e, t) { var a = e[1] || '', n = e[3]; if (!n) return a; if (t && 'function' == typeof btoa) { var r = o(n), i = n.sources.map(function (e) { return '/*# sourceURL=' + n.sourceRoot + e + ' */' }); return [a].concat(i).concat([r]).join('\n') } return [a].join('\n') } function o(e) { var t = btoa(unescape(encodeURIComponent(JSON.stringify(e)))); return '/*# ' + ('sourceMappingURL=data:application/json;charset=utf-8;base64,' + t) + ' */' } e.exports = function (e) { var o = []; return o.toString = function () { return this.map(function (o) { var a = t(o, e); return o[2] ? '@media ' + o[2] + '{' + a + '}' : a }).join('') }, o.i = function (e, t) { 'string' == typeof e && (e = [[null, e, '']]); for (var a = {}, n = 0, r; n < this.length; n++)r = this[n][0], 'number' == typeof r && (a[r] = !0); for (n = 0; n < e.length; n++) { var i = e[n]; 'number' == typeof i[0] && a[i[0]] || (t && !i[2] ? i[2] = t : t && (i[2] = '(' + i[2] + ') and (' + t + ')'), o.push(i)) } }, o } }, function (e, t, o) { function a(e, t) { for (var o = 0; o < e.length; o++) { var a = e[o], n = m[a.id]; if (n) { n.refs++; for (var r = 0; r < n.parts.length; r++)n.parts[r](a.parts[r]); for (; r < a.parts.length; r++)n.parts.push(p(a.parts[r], t)) } else { for (var i = [], r = 0; r < a.parts.length; r++)i.push(p(a.parts[r], t)); m[a.id] = { id: a.id, refs: 1, parts: i } } } } function n(e, t) { for (var o = [], a = {}, n = 0; n < e.length; n++) { var r = e[n], i = t.base ? r[0] + t.base : r[0], l = r[1], s = r[2], d = r[3], p = { css: l, media: s, sourceMap: d }; a[i] ? a[i].parts.push(p) : o.push(a[i] = { id: i, parts: [p] }) } return o } function r(e, t) { var o = f(e.insertInto); if (!o) throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.'); var a = b[b.length - 1]; if ('top' === e.insertAt) a ? a.nextSibling ? o.insertBefore(t, a.nextSibling) : o.appendChild(t) : o.insertBefore(t, o.firstChild), b.push(t); else if ('bottom' === e.insertAt) o.appendChild(t); else if ('object' == typeof e.insertAt && e.insertAt.before) { var n = f(e.insertInto + ' ' + e.insertAt.before); o.insertBefore(t, n) } else throw new Error('[Style Loader]\n\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\n Must be \'top\', \'bottom\', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n') } function i(e) { if (null === e.parentNode) return !1; e.parentNode.removeChild(e); var t = b.indexOf(e); 0 <= t && b.splice(t, 1) } function l(e) { var t = document.createElement('style'); return e.attrs.type = 'text/css', d(t, e.attrs), r(e, t), t } function s(e) { var t = document.createElement('link'); return e.attrs.type = 'text/css', e.attrs.rel = 'stylesheet', d(t, e.attrs), r(e, t), t } function d(e, t) { Object.keys(t).forEach(function (o) { e.setAttribute(o, t[o]) }) } function p(e, t) { var o, a, n, r; if (t.transform && e.css) if (r = t.transform(e.css), r) e.css = r; else return function () { }; if (t.singleton) { var d = h++; o = y || (y = l(t)), a = c.bind(null, o, d, !1), n = c.bind(null, o, d, !0) } else e.sourceMap && 'function' == typeof URL && 'function' == typeof URL.createObjectURL && 'function' == typeof URL.revokeObjectURL && 'function' == typeof Blob && 'function' == typeof btoa ? (o = s(t), a = u.bind(null, o, t), n = function () { i(o), o.href && URL.revokeObjectURL(o.href) }) : (o = l(t), a = g.bind(null, o), n = function () { i(o) }); return a(e), function (t) { if (t) { if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return; a(e = t) } else n() } } function c(e, t, o, a) { var n = o ? '' : a.css; if (e.styleSheet) e.styleSheet.cssText = x(t, n); else { var r = document.createTextNode(n), i = e.childNodes; i[t] && e.removeChild(i[t]), i.length ? e.insertBefore(r, i[t]) : e.appendChild(r) } } function g(e, t) { var o = t.css, a = t.media; if (a && e.setAttribute('media', a), e.styleSheet) e.styleSheet.cssText = o; else { for (; e.firstChild;)e.removeChild(e.firstChild); e.appendChild(document.createTextNode(o)) } } function u(e, t, o) { var a = o.css, n = o.sourceMap, r = t.convertToAbsoluteUrls === void 0 && n; (t.convertToAbsoluteUrls || r) && (a = v(a)), n && (a += '\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(n)))) + ' */'); var i = new Blob([a], { type: 'text/css' }), l = e.href; e.href = URL.createObjectURL(i), l && URL.revokeObjectURL(l) } var m = {}, _ = function (e) { var t; return function () { return 'undefined' == typeof t && (t = e.apply(this, arguments)), t } }(function () { return window && document && document.all && !window.atob }), f = function (e) { var t = {}; return function (o) { if ('undefined' == typeof t[o]) { var a = e.call(this, o); if (a instanceof window.HTMLIFrameElement) try { a = a.contentDocument.head } catch (t) { a = null } t[o] = a } return t[o] } }(function (e) { return document.querySelector(e) }), y = null, h = 0, b = [], v = o(156); e.exports = function (e, t) { if ('undefined' != typeof DEBUG && DEBUG && 'object' != typeof document) throw new Error('The style-loader cannot be used in a non-browser environment'); t = t || {}, t.attrs = 'object' == typeof t.attrs ? t.attrs : {}, t.singleton || 'boolean' == typeof t.singleton || (t.singleton = _()), t.insertInto || (t.insertInto = 'head'), t.insertAt || (t.insertAt = 'bottom'); var o = n(e, t); return a(o, t), function (e) { for (var r = [], l = 0; l < o.length; l++) { var i = o[l], s = m[i.id]; s.refs--, r.push(s) } if (e) { var d = n(e, t); a(d, t) } for (var l = 0, s; l < r.length; l++)if (s = r[l], 0 === s.refs) { for (var p = 0; p < s.parts.length; p++)s.parts[p](); delete m[s.id] } } }; var x = function () { var e = []; return function (t, o) { return e[t] = o, e.filter(Boolean).join('\n') } }() }, function (e, t, o) { 'use strict'; (function (t) { function a(e, t) { !n.isUndefined(e) && n.isUndefined(e['Content-Type']) && (e['Content-Type'] = t) } var n = o(11), r = o(165), i = { "Content-Type": 'application/x-www-form-urlencoded' }, l = { adapter: function () { var e; return 'undefined' == typeof XMLHttpRequest ? 'undefined' != typeof t && (e = o(112)) : e = o(112), e }(), transformRequest: [function (e, t) { return r(t, 'Content-Type'), n.isFormData(e) || n.isArrayBuffer(e) || n.isBuffer(e) || n.isStream(e) || n.isFile(e) || n.isBlob(e) ? e : n.isArrayBufferView(e) ? e.buffer : n.isURLSearchParams(e) ? (a(t, 'application/x-www-form-urlencoded;charset=utf-8'), e.toString()) : n.isObject(e) ? (a(t, 'application/json;charset=utf-8'), JSON.stringify(e)) : e }], transformResponse: [function (e) { if ('string' == typeof e) try { e = JSON.parse(e) } catch (t) { } return e }], timeout: 0, xsrfCookieName: 'XSRF-TOKEN', xsrfHeaderName: 'X-XSRF-TOKEN', maxContentLength: -1, validateStatus: function (e) { return 200 <= e && 300 > e } }; l.headers = { common: { Accept: 'application/json, text/plain, */*' } }, n.forEach(['delete', 'get', 'head'], function (e) { l.headers[e] = {} }), n.forEach(['post', 'put', 'patch'], function (e) { l.headers[e] = n.merge(i) }), e.exports = l }).call(t, o(59)) }, function (e, t, o) { 'use strict'; function a(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function n(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function r(e, t, o) { return t && n(e.prototype, t), o && n(e, o), e } var i = o(3), l = o.n(i), s = o(75), d = null, p = function () { function e(t) { return a(this, e), null == d ? void (d = this, this.domNode = s.a.create('div', { className: 'message-helper' }, t), this.loadingNode = null) : d } return r(e, [{ key: 'createMessage', value: function (e, t) { var o = s.a.create('div', { className: 'message' }, d.domNode); o.classList.add(e), o.innerHTML = t, setTimeout(function () { o.classList.add('show'), setTimeout(function () { o.classList.remove('show'), setTimeout(function () { d.domNode.removeChild(o) }, 1e3) }, 5e3) }, 100) } }, { key: 'alert', value: function (e) { this.createMessage('alert', e) } }, { key: 'info', value: function (e) { this.createMessage('info', e) } }, { key: 'warn', value: function (e) { this.createMessage('warn', e) } }, { key: 'error', value: function (e) { this.createMessage('error', e) } }, { key: 'loading', value: function () { if (!d.loadingNode) return d.loadingNode = s.a.create('div', { className: 'loading' }, d.domNode), d.loadingNode.classList.add('show'), d.domNode.classList.add('loading'), { remove: function () { d.loadingNode.classList.remove('show'), setTimeout(function () { d.domNode.classList.remove('loading'), d.domNode.removeChild(d.loadingNode), d.loadingNode = null }, 300) } } } }]), e }(); t.a = p }, function (e, t, o) { 'use strict'; (function (e) { function t() { } function o(e, t) { return function () { e.apply(t, arguments) } } function a(e, t) { for (; 3 === e._state;)e = e._value; return 0 === e._state ? void e._deferreds.push(t) : void (e._handled = !0, d._immediateFn(function () { var o = 1 === e._state ? t.onFulfilled : t.onRejected; if (null === o) return void (1 === e._state ? n : r)(t.promise, e._value); var a; try { a = o(e._value) } catch (o) { return void r(t.promise, o) } n(t.promise, a) })) } function n(t, e) { try { if (e === t) throw new TypeError('A promise cannot be resolved with itself.'); if (e && ('object' == typeof e || 'function' == typeof e)) { var a = e.then; if (e instanceof d) return t._state = 3, t._value = e, void i(t); if ('function' == typeof a) return void s(o(a, e), t) } t._state = 1, t._value = e, i(t) } catch (o) { r(t, o) } } function r(e, t) { e._state = 2, e._value = t, i(e) } function i(e) { 2 === e._state && 0 === e._deferreds.length && d._immediateFn(function () { e._handled || d._unhandledRejectionFn(e._value) }); for (var t = 0, o = e._deferreds.length; t < o; t++)a(e, e._deferreds[t]); e._deferreds = null } function l(e, t, o) { this.onFulfilled = 'function' == typeof e ? e : null, this.onRejected = 'function' == typeof t ? t : null, this.promise = o } function s(e, t) { var o = !1; try { e(function (e) { o || (o = !0, n(t, e)) }, function (e) { o || (o = !0, r(t, e)) }) } catch (e) { if (o) return; o = !0, r(t, e) } } function d(e) { if (!(this instanceof d)) throw new TypeError('Promises must be constructed via new'); if ('function' != typeof e) throw new TypeError('not a function'); this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], s(e, this) } var p = setTimeout, c = d.prototype; c.catch = function (e) { return this.then(null, e) }, c.then = function (e, o) { var n = new this.constructor(t); return a(this, new l(e, o, n)), n }, d.all = function (e) { return new d(function (t, o) { function a(e, i) { try { if (i && ('object' == typeof i || 'function' == typeof i)) { var l = i.then; if ('function' == typeof l) return void l.call(i, function (t) { a(e, t) }, o) } n[e] = i, 0 == --r && t(n) } catch (e) { o(e) } } if (!e || 'undefined' == typeof e.length) throw new TypeError('Promise.all accepts an array'); var n = Array.prototype.slice.call(e); if (0 === n.length) return t([]); for (var r = n.length, l = 0; l < n.length; l++)a(l, n[l]) }) }, d.resolve = function (e) { return e && 'object' == typeof e && e.constructor === d ? e : new d(function (t) { t(e) }) }, d.reject = function (e) { return new d(function (t, o) { o(e) }) }, d.race = function (e) { return new d(function (t, o) { for (var a = 0, n = e.length; a < n; a++)e[a].then(t, o) }) }, d._immediateFn = 'function' == typeof e && function (t) { e(t) } || function (e) { p(e, 0) }, d._unhandledRejectionFn = function (e) { 'undefined' != typeof console && console && console.warn('Possible Unhandled Promise Rejection:', e) } }).call(t, o(121).setImmediate) }, function (e) { var t = function () { return this }(); try { t = t || Function('return this')() || (1, eval)('this') } catch (o) { 'object' == typeof window && (t = window) } e.exports = t }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function r(e, t) { return t && ('object' === a(t) || 'function' == typeof t) ? t : i(e) } function i(e) { if (void 0 === e) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called'); return e } function l(e) { return l = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, l(e) } function s(e, t) { if ('function' != typeof t && null !== t) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && d(e, t) } function d(e, t) { return d = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, d(e, t) } var p = o(4), c = o.n(p), g = o(6), u = o.n(g), m = o(13), _ = o.n(m), f = o(14), y = o.n(f), h = o(29), b = function (e) { function t(e) { var o; return n(this, t), o = r(this, l(t).call(this, e)), o.url = e.url, o.size = e.size, o.iconAnchor = e.iconAnchor, o } return s(t, e), t }(h.a); t.a = b }, function (e, t, o) { var a = o(1), n = o(20), r = o(21), i = o(85), l = o(9).f; e.exports = function (e) { var t = n.Symbol || (n.Symbol = r ? {} : a.Symbol || {}); '_' == e.charAt(0) || e in t || l(t, e, { value: i.f(e) }) } }, function (e, t, o) { t.f = o(2) }, function (e, t, o) { e.exports = !o(7) && !o(8)(function () { return 7 != Object.defineProperty(o(61)('div'), 'a', { get: function () { return 7 } }).a }) }, function (e, t, o) { var a = o(15), n = o(27), r = o(63)(!1), i = o(64)('IE_PROTO'); e.exports = function (e, t) { var o = n(e), l = 0, s = [], d; for (d in o) d != i && a(o, d) && s.push(d); for (; t.length > l;)a(o, d = t[l++]) && (~r(s, d) || s.push(d)); return s } }, function (e, t, o) { var a = o(24); e.exports = Array.isArray || function (e) { return 'Array' == a(e) } }, function (e, t, o) { var a = o(1).document; e.exports = a && a.documentElement }, function (e, t, o) { var a = o(5), n = o(10), r = function (e, t) { if (n(e), !a(t) && null !== t) throw TypeError(t + ': can\'t set as prototype!') }; e.exports = { set: Object.setPrototypeOf || ('__proto__' in {} ? function (e, t, a) { try { a = o(23)(Function.call, o(44).f(Object.prototype, '__proto__').set, 2), a(e, []), t = !(e instanceof Array) } catch (o) { t = !0 } return function (e, o) { return r(e, o), t ? e.__proto__ = o : a(e, o), e } }({}, !1) : void 0), check: r } }, function (e, t, o) { 'use strict'; function a(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function n(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function r(e, t, o) { return t && n(e.prototype, t), o && n(e, o), e } var i = o(3), l = o.n(i), s = function () { function e(t) { a(this, e), this.modules = t } return r(e, [{ key: 'exportModule', value: function (e) { return this.modules[e] } }]), e }(); t.a = s }, function (e, t, o) {
    'use strict'; var n = Math.min, a = Math.floor, r = Math.pow; (function (e) {
        function i() { return s.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823 } function l(e, t) { if (i() < t) throw new RangeError('Invalid typed array length'); return s.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t), e.__proto__ = s.prototype) : (null === e && (e = new s(t)), e.length = t), e } function s(e, t, o) { if (!s.TYPED_ARRAY_SUPPORT && !(this instanceof s)) return new s(e, t, o); if ('number' == typeof e) { if ('string' == typeof t) throw new Error('If encoding is specified then the first argument must be a string'); return g(this, e) } return d(this, e, t, o) } function d(e, t, o, a) { if ('number' == typeof t) throw new TypeError('"value" argument must not be a number'); return 'undefined' != typeof ArrayBuffer && t instanceof ArrayBuffer ? _(e, t, o, a) : 'string' == typeof t ? u(e, t, o) : f(e, t) } function p(e) { if ('number' != typeof e) throw new TypeError('"size" argument must be a number'); else if (0 > e) throw new RangeError('"size" argument must not be negative') } function c(e, t, o, a) { return p(t), 0 >= t ? l(e, t) : void 0 === o ? l(e, t) : 'string' == typeof a ? l(e, t).fill(o, a) : l(e, t).fill(o) } function g(e, t) { if (p(t), e = l(e, 0 > t ? 0 : 0 | y(t)), !s.TYPED_ARRAY_SUPPORT) for (var o = 0; o < t; ++o)e[o] = 0; return e } function u(e, t, o) { if (('string' != typeof o || '' === o) && (o = 'utf8'), !s.isEncoding(o)) throw new TypeError('"encoding" must be a valid string encoding'); var a = 0 | h(t, o); e = l(e, a); var n = e.write(t, o); return n !== a && (e = e.slice(0, n)), e } function m(e, t) { var o = 0 > t.length ? 0 : 0 | y(t.length); e = l(e, o); for (var a = 0; a < o; a += 1)e[a] = 255 & t[a]; return e } function _(e, t, o, a) { if (t.byteLength, 0 > o || t.byteLength < o) throw new RangeError('\'offset\' is out of bounds'); if (t.byteLength < o + (a || 0)) throw new RangeError('\'length\' is out of bounds'); return t = void 0 === o && void 0 === a ? new Uint8Array(t) : void 0 === a ? new Uint8Array(t, o) : new Uint8Array(t, o, a), s.TYPED_ARRAY_SUPPORT ? (e = t, e.__proto__ = s.prototype) : e = m(e, t), e } function f(e, t) { if (s.isBuffer(t)) { var o = 0 | y(t.length); return (e = l(e, o), 0 === e.length) ? e : (t.copy(e, 0, 0, o), e) } if (t) { if ('undefined' != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || 'length' in t) return 'number' != typeof t.length || Q(t.length) ? l(e, 0) : m(e, t); if ('Buffer' === t.type && oe(t.data)) return m(e, t.data) } throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.') } function y(e) { if (e >= i()) throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x' + i().toString(16) + ' bytes'); return 0 | e } function h(e, t) { if (s.isBuffer(e)) return e.length; if ('undefined' != typeof ArrayBuffer && 'function' == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e.byteLength; 'string' != typeof e && (e = '' + e); var o = e.length; if (0 === o) return 0; for (var a = !1; ;)switch (t) { case 'ascii': case 'latin1': case 'binary': return o; case 'utf8': case 'utf-8': case void 0: return V(e).length; case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': return 2 * o; case 'hex': return o >>> 1; case 'base64': return J(e).length; default: if (a) return V(e).length; t = ('' + t).toLowerCase(), a = !0; } } function b(e, t, o) { var a = !1; if ((void 0 === t || 0 > t) && (t = 0), t > this.length) return ''; if ((void 0 === o || o > this.length) && (o = this.length), 0 >= o) return ''; if (o >>>= 0, t >>>= 0, o <= t) return ''; for (e || (e = 'utf8'); ;)switch (e) { case 'hex': return R(this, t, o); case 'utf8': case 'utf-8': return M(this, t, o); case 'ascii': return D(this, t, o); case 'latin1': case 'binary': return O(this, t, o); case 'base64': return E(this, t, o); case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': return z(this, t, o); default: if (a) throw new TypeError('Unknown encoding: ' + e); e = (e + '').toLowerCase(), a = !0; } } function v(e, t, o) { var a = e[t]; e[t] = e[o], e[o] = a } function x(e, t, o, a, n) { if (0 === e.length) return -1; if ('string' == typeof o ? (a = o, o = 0) : 2147483647 < o ? o = 2147483647 : -2147483648 > o && (o = -2147483648), o = +o, isNaN(o) && (o = n ? 0 : e.length - 1), 0 > o && (o = e.length + o), o >= e.length) { if (n) return -1; o = e.length - 1 } else if (0 > o) if (n) o = 0; else return -1; if ('string' == typeof t && (t = s.from(t, a)), s.isBuffer(t)) return 0 === t.length ? -1 : k(e, t, o, a, n); if ('number' == typeof t) return t &= 255, s.TYPED_ARRAY_SUPPORT && 'function' == typeof Uint8Array.prototype.indexOf ? n ? Uint8Array.prototype.indexOf.call(e, t, o) : Uint8Array.prototype.lastIndexOf.call(e, t, o) : k(e, [t], o, a, n); throw new TypeError('val must be string, number or Buffer') } function k(e, t, o, a, n) { function r(e, t) { return 1 == l ? e[t] : e.readUInt16BE(t * l) } var l = 1, s = e.length, d = t.length; if (void 0 !== a && (a = (a + '').toLowerCase(), 'ucs2' === a || 'ucs-2' === a || 'utf16le' === a || 'utf-16le' === a)) { if (2 > e.length || 2 > t.length) return -1; l = 2, s /= 2, d /= 2, o /= 2 } var p; if (n) { var i = -1; for (p = o; p < s; p++)if (r(e, p) !== r(t, -1 == i ? 0 : p - i)) -1 != i && (p -= p - i), i = -1; else if (-1 == i && (i = p), p - i + 1 === d) return i * l } else for (o + d > s && (o = s - d), p = o; 0 <= p; p--) { for (var c = !0, g = 0; g < d; g++)if (r(e, p + g) !== r(t, g)) { c = !1; break } if (c) return p } return -1 } function w(e, t, o, a) { o = +o || 0; var n = e.length - o; a ? (a = +a, a > n && (a = n)) : a = n; var r = t.length; if (0 != r % 2) throw new TypeError('Invalid hex string'); a > r / 2 && (a = r / 2); for (var l = 0, i; l < a; ++l) { if (i = parseInt(t.substr(2 * l, 2), 16), isNaN(i)) return l; e[o + l] = i } return l } function C(e, t, o, a) { return X(V(t, e.length - o), e, o, a) } function P(e, t, o, a) { return X(q(t), e, o, a) } function I(e, t, o, a) { return P(e, t, o, a) } function T(e, t, o, a) { return X(J(t), e, o, a) } function A(e, t, o, a) { return X(K(t, e.length - o), e, o, a) } function E(e, t, o) { return 0 === t && o === e.length ? ee.fromByteArray(e) : ee.fromByteArray(e.slice(t, o)) } function M(e, t, o) { o = n(e.length, o); for (var a = [], r = t; r < o;) { var i = e[r], l = null, s = 239 < i ? 4 : 223 < i ? 3 : 191 < i ? 2 : 1; if (r + s <= o) { var d, p, c, g; 1 == s ? 128 > i && (l = i) : 2 == s ? (d = e[r + 1], 128 == (192 & d) && (g = (31 & i) << 6 | 63 & d, 127 < g && (l = g))) : 3 == s ? (d = e[r + 1], p = e[r + 2], 128 == (192 & d) && 128 == (192 & p) && (g = (15 & i) << 12 | (63 & d) << 6 | 63 & p, 2047 < g && (55296 > g || 57343 < g) && (l = g))) : 4 == s ? (d = e[r + 1], p = e[r + 2], c = e[r + 3], 128 == (192 & d) && 128 == (192 & p) && 128 == (192 & c) && (g = (15 & i) << 18 | (63 & d) << 12 | (63 & p) << 6 | 63 & c, 65535 < g && 1114112 > g && (l = g))) : void 0 } null === l ? (l = 65533, s = 1) : 65535 < l && (l -= 65536, a.push(55296 | 1023 & l >>> 10), l = 56320 | 1023 & l), a.push(l), r += s } return S(a) } function S(e) { var t = e.length; if (t <= ae) return $.apply(String, e); for (var o = '', a = 0; a < t;)o += $.apply(String, e.slice(a, a += ae)); return o } function D(e, t, o) { var a = ''; o = n(e.length, o); for (var r = t; r < o; ++r)a += $(127 & e[r]); return a } function O(e, t, o) { var a = ''; o = n(e.length, o); for (var r = t; r < o; ++r)a += $(e[r]); return a } function R(e, t, o) { var a = e.length; (!t || 0 > t) && (t = 0), (!o || 0 > o || o > a) && (o = a); for (var n = '', r = t; r < o; ++r)n += W(e[r]); return n } function z(e, t, o) { for (var a = e.slice(t, o), n = '', r = 0; r < a.length; r += 2)n += $(a[r] + 256 * a[r + 1]); return n } function N(e, t, o) { if (0 != e % 1 || 0 > e) throw new RangeError('offset is not uint'); if (e + t > o) throw new RangeError('Trying to access beyond buffer length') } function B(e, t, o, a, n, r) { if (!s.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance'); if (t > n || t < r) throw new RangeError('"value" argument is out of bounds'); if (o + a > e.length) throw new RangeError('Index out of range') } function Z(e, t, o, a) { 0 > t && (t = 65535 + t + 1); for (var r = 0, i = n(e.length - o, 2); r < i; ++r)e[o + r] = (t & 255 << 8 * (a ? r : 1 - r)) >>> 8 * (a ? r : 1 - r) } function j(e, t, o, a) { 0 > t && (t = 4294967295 + t + 1); for (var r = 0, i = n(e.length - o, 4); r < i; ++r)e[o + r] = 255 & t >>> 8 * (a ? r : 3 - r) } function U(e, t, o, a) { if (o + a > e.length) throw new RangeError('Index out of range'); if (0 > o) throw new RangeError('Index out of range') } function G(e, t, o, a, n) { return n || U(e, t, o, 4, 3.4028234663852886e38, -3.4028234663852886e38), te.write(e, t, o, a, 23, 4), o + 4 } function H(e, t, o, a, n) { return n || U(e, t, o, 8, 1.7976931348623157e308, -1.7976931348623157e308), te.write(e, t, o, a, 52, 8), o + 8 } function F(e) { if (e = Y(e).replace(ne, ''), 2 > e.length) return ''; for (; 0 != e.length % 4;)e += '='; return e } function Y(e) { return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, '') } function W(e) { return 16 > e ? '0' + e.toString(16) : e.toString(16) } function V(e, t) { t = t || Infinity; for (var o = e.length, a = null, n = [], r = 0, i; r < o; ++r) { if (i = e.charCodeAt(r), 55295 < i && 57344 > i) { if (!a) { if (56319 < i) { -1 < (t -= 3) && n.push(239, 191, 189); continue } else if (r + 1 === o) { -1 < (t -= 3) && n.push(239, 191, 189); continue } a = i; continue } if (56320 > i) { -1 < (t -= 3) && n.push(239, 191, 189), a = i; continue } i = (a - 55296 << 10 | i - 56320) + 65536 } else a && -1 < (t -= 3) && n.push(239, 191, 189); if (a = null, 128 > i) { if (0 > (t -= 1)) break; n.push(i) } else if (2048 > i) { if (0 > (t -= 2)) break; n.push(192 | i >> 6, 128 | 63 & i) } else if (65536 > i) { if (0 > (t -= 3)) break; n.push(224 | i >> 12, 128 | 63 & i >> 6, 128 | 63 & i) } else if (1114112 > i) { if (0 > (t -= 4)) break; n.push(240 | i >> 18, 128 | 63 & i >> 12, 128 | 63 & i >> 6, 128 | 63 & i) } else throw new Error('Invalid code point') } return n } function q(e) { for (var t = [], o = 0; o < e.length; ++o)t.push(255 & e.charCodeAt(o)); return t } function K(e, t) { for (var o = [], a = 0, n, r, i; a < e.length && !(0 > (t -= 2)); ++a)n = e.charCodeAt(a), r = n >> 8, i = n % 256, o.push(i), o.push(r); return o } function J(e) { return ee.toByteArray(F(e)) } function X(e, t, o, a) { for (var n = 0; n < a && !(n + o >= t.length || n >= e.length); ++n)t[n + o] = e[n]; return n } function Q(e) { return e !== e } var $ = String.fromCharCode, ee = o(129), te = o(130), oe = o(131);/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */t.Buffer = s, t.SlowBuffer = function (e) { return +e != e && (e = 0), s.alloc(+e) }, t.INSPECT_MAX_BYTES = 50, s.TYPED_ARRAY_SUPPORT = e.TYPED_ARRAY_SUPPORT === void 0 ? function () { try { var e = new Uint8Array(1); return e.__proto__ = { __proto__: Uint8Array.prototype, foo: function () { return 42 } }, 42 === e.foo() && 'function' == typeof e.subarray && 0 === e.subarray(1, 1).byteLength } catch (t) { return !1 } }() : e.TYPED_ARRAY_SUPPORT, t.kMaxLength = i(), s.poolSize = 8192, s._augment = function (e) { return e.__proto__ = s.prototype, e }, s.from = function (e, t, o) { return d(null, e, t, o) }, s.TYPED_ARRAY_SUPPORT && (s.prototype.__proto__ = Uint8Array.prototype, s.__proto__ = Uint8Array, 'undefined' != typeof Symbol && Symbol.species && s[Symbol.species] === s && Object.defineProperty(s, Symbol.species, { value: null, configurable: !0 })), s.alloc = function (e, t, o) { return c(null, e, t, o) }, s.allocUnsafe = function (e) { return g(null, e) }, s.allocUnsafeSlow = function (e) { return g(null, e) }, s.isBuffer = function (e) { return !!(null != e && e._isBuffer) }, s.compare = function (e, t) { if (!s.isBuffer(e) || !s.isBuffer(t)) throw new TypeError('Arguments must be Buffers'); if (e === t) return 0; for (var o = e.length, a = t.length, r = 0, i = n(o, a); r < i; ++r)if (e[r] !== t[r]) { o = e[r], a = t[r]; break } return o < a ? -1 : a < o ? 1 : 0 }, s.isEncoding = function (e) { switch ((e + '').toLowerCase()) { case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'latin1': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': return !0; default: return !1; } }, s.concat = function (e, t) { if (!oe(e)) throw new TypeError('"list" argument must be an Array of Buffers'); if (0 === e.length) return s.alloc(0); var o; if (t === void 0) for (t = 0, o = 0; o < e.length; ++o)t += e[o].length; var a = s.allocUnsafe(t), n = 0; for (o = 0; o < e.length; ++o) { var r = e[o]; if (!s.isBuffer(r)) throw new TypeError('"list" argument must be an Array of Buffers'); r.copy(a, n), n += r.length } return a }, s.byteLength = h, s.prototype._isBuffer = !0, s.prototype.swap16 = function () { var e = this.length; if (0 != e % 2) throw new RangeError('Buffer size must be a multiple of 16-bits'); for (var t = 0; t < e; t += 2)v(this, t, t + 1); return this }, s.prototype.swap32 = function () { var e = this.length; if (0 != e % 4) throw new RangeError('Buffer size must be a multiple of 32-bits'); for (var t = 0; t < e; t += 4)v(this, t, t + 3), v(this, t + 1, t + 2); return this }, s.prototype.swap64 = function () { var e = this.length; if (0 != e % 8) throw new RangeError('Buffer size must be a multiple of 64-bits'); for (var t = 0; t < e; t += 8)v(this, t, t + 7), v(this, t + 1, t + 6), v(this, t + 2, t + 5), v(this, t + 3, t + 4); return this }, s.prototype.toString = function () { var e = 0 | this.length; return 0 == e ? '' : 0 === arguments.length ? M(this, 0, e) : b.apply(this, arguments) }, s.prototype.equals = function (e) { if (!s.isBuffer(e)) throw new TypeError('Argument must be a Buffer'); return this === e || 0 === s.compare(this, e) }, s.prototype.inspect = function () { var e = '', o = t.INSPECT_MAX_BYTES; return 0 < this.length && (e = this.toString('hex', 0, o).match(/.{2}/g).join(' '), this.length > o && (e += ' ... ')), '<Buffer ' + e + '>' }, s.prototype.compare = function (e, t, o, a, r) { if (!s.isBuffer(e)) throw new TypeError('Argument must be a Buffer'); if (void 0 === t && (t = 0), void 0 === o && (o = e ? e.length : 0), void 0 === a && (a = 0), void 0 === r && (r = this.length), 0 > t || o > e.length || 0 > a || r > this.length) throw new RangeError('out of range index'); if (a >= r && t >= o) return 0; if (a >= r) return -1; if (t >= o) return 1; if (t >>>= 0, o >>>= 0, a >>>= 0, r >>>= 0, this === e) return 0; for (var l = r - a, d = o - t, p = n(l, d), c = this.slice(a, r), g = e.slice(t, o), u = 0; u < p; ++u)if (c[u] !== g[u]) { l = c[u], d = g[u]; break } return l < d ? -1 : d < l ? 1 : 0 }, s.prototype.includes = function (e, t, o) { return -1 !== this.indexOf(e, t, o) }, s.prototype.indexOf = function (e, t, o) { return x(this, e, t, o, !0) }, s.prototype.lastIndexOf = function (e, t, o) { return x(this, e, t, o, !1) }, s.prototype.write = function (e, t, o, a) { if (void 0 === t) a = 'utf8', o = this.length, t = 0; else if (void 0 === o && 'string' == typeof t) a = t, o = this.length, t = 0; else if (isFinite(t)) t |= 0, isFinite(o) ? (o |= 0, void 0 === a && (a = 'utf8')) : (a = o, o = void 0); else throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported'); var n = this.length - t; if ((void 0 === o || o > n) && (o = n), 0 < e.length && (0 > o || 0 > t) || t > this.length) throw new RangeError('Attempt to write outside buffer bounds'); a || (a = 'utf8'); for (var r = !1; ;)switch (a) { case 'hex': return w(this, e, t, o); case 'utf8': case 'utf-8': return C(this, e, t, o); case 'ascii': return P(this, e, t, o); case 'latin1': case 'binary': return I(this, e, t, o); case 'base64': return T(this, e, t, o); case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': return A(this, e, t, o); default: if (r) throw new TypeError('Unknown encoding: ' + a); a = ('' + a).toLowerCase(), r = !0; } }, s.prototype.toJSON = function () { return { type: 'Buffer', data: Array.prototype.slice.call(this._arr || this, 0) } }; var ae = 4096; s.prototype.slice = function (e, t) { var o = this.length; e = ~~e, t = t === void 0 ? o : ~~t, 0 > e ? (e += o, 0 > e && (e = 0)) : e > o && (e = o), 0 > t ? (t += o, 0 > t && (t = 0)) : t > o && (t = o), t < e && (t = e); var a; if (s.TYPED_ARRAY_SUPPORT) a = this.subarray(e, t), a.__proto__ = s.prototype; else { var n = t - e; a = new s(n, void 0); for (var r = 0; r < n; ++r)a[r] = this[r + e] } return a }, s.prototype.readUIntLE = function (e, t, o) { e |= 0, t |= 0, o || N(e, t, this.length); for (var a = this[e], n = 1, r = 0; ++r < t && (n *= 256);)a += this[e + r] * n; return a }, s.prototype.readUIntBE = function (e, t, o) { e |= 0, t |= 0, o || N(e, t, this.length); for (var a = this[e + --t], n = 1; 0 < t && (n *= 256);)a += this[e + --t] * n; return a }, s.prototype.readUInt8 = function (e, t) { return t || N(e, 1, this.length), this[e] }, s.prototype.readUInt16LE = function (e, t) { return t || N(e, 2, this.length), this[e] | this[e + 1] << 8 }, s.prototype.readUInt16BE = function (e, t) { return t || N(e, 2, this.length), this[e] << 8 | this[e + 1] }, s.prototype.readUInt32LE = function (e, t) { return t || N(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3] }, s.prototype.readUInt32BE = function (e, t) { return t || N(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]) }, s.prototype.readIntLE = function (e, t, o) { e |= 0, t |= 0, o || N(e, t, this.length); for (var a = this[e], n = 1, l = 0; ++l < t && (n *= 256);)a += this[e + l] * n; return n *= 128, a >= n && (a -= r(2, 8 * t)), a }, s.prototype.readIntBE = function (e, t, o) { e |= 0, t |= 0, o || N(e, t, this.length); for (var a = t, n = 1, i = this[e + --a]; 0 < a && (n *= 256);)i += this[e + --a] * n; return n *= 128, i >= n && (i -= r(2, 8 * t)), i }, s.prototype.readInt8 = function (e, t) { return t || N(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e] }, s.prototype.readInt16LE = function (e, t) { t || N(e, 2, this.length); var o = this[e] | this[e + 1] << 8; return 32768 & o ? 4294901760 | o : o }, s.prototype.readInt16BE = function (e, t) { t || N(e, 2, this.length); var o = this[e + 1] | this[e] << 8; return 32768 & o ? 4294901760 | o : o }, s.prototype.readInt32LE = function (e, t) { return t || N(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24 }, s.prototype.readInt32BE = function (e, t) { return t || N(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3] }, s.prototype.readFloatLE = function (e, t) { return t || N(e, 4, this.length), te.read(this, e, !0, 23, 4) }, s.prototype.readFloatBE = function (e, t) { return t || N(e, 4, this.length), te.read(this, e, !1, 23, 4) }, s.prototype.readDoubleLE = function (e, t) { return t || N(e, 8, this.length), te.read(this, e, !0, 52, 8) }, s.prototype.readDoubleBE = function (e, t) { return t || N(e, 8, this.length), te.read(this, e, !1, 52, 8) }, s.prototype.writeUIntLE = function (e, t, o, a) { if (e = +e, t |= 0, o |= 0, !a) { var n = r(2, 8 * o) - 1; B(this, e, t, o, n, 0) } var l = 1, s = 0; for (this[t] = 255 & e; ++s < o && (l *= 256);)this[t + s] = 255 & e / l; return t + o }, s.prototype.writeUIntBE = function (e, t, o, a) { if (e = +e, t |= 0, o |= 0, !a) { var n = r(2, 8 * o) - 1; B(this, e, t, o, n, 0) } var l = o - 1, i = 1; for (this[t + l] = 255 & e; 0 <= --l && (i *= 256);)this[t + l] = 255 & e / i; return t + o }, s.prototype.writeUInt8 = function (e, t, o) { return e = +e, t |= 0, o || B(this, e, t, 1, 255, 0), s.TYPED_ARRAY_SUPPORT || (e = a(e)), this[t] = 255 & e, t + 1 }, s.prototype.writeUInt16LE = function (e, t, o) { return e = +e, t |= 0, o || B(this, e, t, 2, 65535, 0), s.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : Z(this, e, t, !0), t + 2 }, s.prototype.writeUInt16BE = function (e, t, o) { return e = +e, t |= 0, o || B(this, e, t, 2, 65535, 0), s.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : Z(this, e, t, !1), t + 2 }, s.prototype.writeUInt32LE = function (e, t, o) { return e = +e, t |= 0, o || B(this, e, t, 4, 4294967295, 0), s.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e) : j(this, e, t, !0), t + 4 }, s.prototype.writeUInt32BE = function (e, t, o) { return e = +e, t |= 0, o || B(this, e, t, 4, 4294967295, 0), s.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : j(this, e, t, !1), t + 4 }, s.prototype.writeIntLE = function (e, t, o, a) { if (e = +e, t |= 0, !a) { var n = r(2, 8 * o - 1); B(this, e, t, o, n - 1, -n) } var l = 0, i = 1, s = 0; for (this[t] = 255 & e; ++l < o && (i *= 256);)0 > e && 0 == s && 0 !== this[t + l - 1] && (s = 1), this[t + l] = 255 & (e / i >> 0) - s; return t + o }, s.prototype.writeIntBE = function (e, t, o, a) { if (e = +e, t |= 0, !a) { var n = r(2, 8 * o - 1); B(this, e, t, o, n - 1, -n) } var l = o - 1, i = 1, s = 0; for (this[t + l] = 255 & e; 0 <= --l && (i *= 256);)0 > e && 0 == s && 0 !== this[t + l + 1] && (s = 1), this[t + l] = 255 & (e / i >> 0) - s; return t + o }, s.prototype.writeInt8 = function (e, t, o) { return e = +e, t |= 0, o || B(this, e, t, 1, 127, -128), s.TYPED_ARRAY_SUPPORT || (e = a(e)), 0 > e && (e = 255 + e + 1), this[t] = 255 & e, t + 1 }, s.prototype.writeInt16LE = function (e, t, o) { return e = +e, t |= 0, o || B(this, e, t, 2, 32767, -32768), s.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : Z(this, e, t, !0), t + 2 }, s.prototype.writeInt16BE = function (e, t, o) { return e = +e, t |= 0, o || B(this, e, t, 2, 32767, -32768), s.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : Z(this, e, t, !1), t + 2 }, s.prototype.writeInt32LE = function (e, t, o) { return e = +e, t |= 0, o || B(this, e, t, 4, 2147483647, -2147483648), s.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24) : j(this, e, t, !0), t + 4 }, s.prototype.writeInt32BE = function (e, t, o) { return e = +e, t |= 0, o || B(this, e, t, 4, 2147483647, -2147483648), 0 > e && (e = 4294967295 + e + 1), s.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : j(this, e, t, !1), t + 4 }, s.prototype.writeFloatLE = function (e, t, o) { return G(this, e, t, !0, o) }, s.prototype.writeFloatBE = function (e, t, o) { return G(this, e, t, !1, o) }, s.prototype.writeDoubleLE = function (e, t, o) { return H(this, e, t, !0, o) }, s.prototype.writeDoubleBE = function (e, t, o) { return H(this, e, t, !1, o) }, s.prototype.copy = function (e, t, o, a) { if (o || (o = 0), a || 0 === a || (a = this.length), t >= e.length && (t = e.length), t || (t = 0), 0 < a && a < o && (a = o), a === o) return 0; if (0 === e.length || 0 === this.length) return 0; if (0 > t) throw new RangeError('targetStart out of bounds'); if (0 > o || o >= this.length) throw new RangeError('sourceStart out of bounds'); if (0 > a) throw new RangeError('sourceEnd out of bounds'); a > this.length && (a = this.length), e.length - t < a - o && (a = e.length - t + o); var n = a - o, r; if (this === e && o < t && t < a) for (r = n - 1; 0 <= r; --r)e[r + t] = this[r + o]; else if (1e3 > n || !s.TYPED_ARRAY_SUPPORT) for (r = 0; r < n; ++r)e[r + t] = this[r + o]; else Uint8Array.prototype.set.call(e, this.subarray(o, o + n), t); return n }, s.prototype.fill = function (e, t, o, a) { if ('string' == typeof e) { if ('string' == typeof t ? (a = t, t = 0, o = this.length) : 'string' == typeof o && (a = o, o = this.length), 1 === e.length) { var n = e.charCodeAt(0); 256 > n && (e = n) } if (void 0 !== a && 'string' != typeof a) throw new TypeError('encoding must be a string'); if ('string' == typeof a && !s.isEncoding(a)) throw new TypeError('Unknown encoding: ' + a) } else 'number' == typeof e && (e &= 255); if (0 > t || this.length < t || this.length < o) throw new RangeError('Out of range index'); if (o <= t) return this; t >>>= 0, o = o === void 0 ? this.length : o >>> 0, e || (e = 0); var r; if ('number' == typeof e) for (r = t; r < o; ++r)this[r] = e; else { var i = s.isBuffer(e) ? e : V(new s(e, a).toString()), l = i.length; for (r = 0; r < o - t; ++r)this[r + t] = i[r % l] } return this }; var ne = /[^+\/0-9A-Za-z-_]/g
    }).call(t, o(82))
}, function (e, t, o) { var a = o(32), n = o(2)('iterator'), r = Array.prototype; e.exports = function (e) { return e !== void 0 && (a.Array === e || r[n] === e) } }, function (e, t, o) { var a = o(70), n = o(2)('iterator'), r = o(32); e.exports = o(20).getIteratorMethod = function (e) { if (e != void 0) return e[n] || e['@@iterator'] || r[a(e)] } }, function (e, t, o) { var a = o(10), n = o(39), r = o(2)('species'); e.exports = function (e, t) { var o = a(e).constructor, i; return o === void 0 || (i = a(o)[r]) == void 0 ? t : n(i) } }, function (e, t, o) { var a = o(23), n = o(97), r = o(89), i = o(61), l = o(1), s = l.process, d = l.setImmediate, p = l.clearImmediate, c = l.MessageChannel, g = l.Dispatch, u = 0, m = {}, _ = 'onreadystatechange', f = function () { var e = +this; if (m.hasOwnProperty(e)) { var t = m[e]; delete m[e], t() } }, y = function (e) { f.call(e.data) }, h, b, v; d && p || (d = function (e) { for (var t = [], o = 1; arguments.length > o;)t.push(arguments[o++]); return m[++u] = function () { n('function' == typeof e ? e : Function(e), t) }, h(u), u }, p = function (e) { delete m[e] }, 'process' == o(24)(s) ? h = function (e) { s.nextTick(a(f, e, 1)) } : g && g.now ? h = function (e) { g.now(a(f, e, 1)) } : c ? (b = new c, v = b.port2, b.port1.onmessage = y, h = a(v.postMessage, v, 1)) : l.addEventListener && 'function' == typeof postMessage && !l.importScripts ? (h = function (e) { l.postMessage(e + '', '*') }, l.addEventListener('message', y, !1)) : _ in i('script') ? h = function (e) { r.appendChild(i('script'))[_] = function () { r.removeChild(this), f.call(e) } } : h = function (e) { setTimeout(a(f, e, 1), 0) }), e.exports = { set: d, clear: p } }, function (e) { e.exports = function (e, t, o) { var a = o === void 0; switch (t.length) { case 0: return a ? e() : e.call(o); case 1: return a ? e(t[0]) : e.call(o, t[0]); case 2: return a ? e(t[0], t[1]) : e.call(o, t[0], t[1]); case 3: return a ? e(t[0], t[1], t[2]) : e.call(o, t[0], t[1], t[2]); case 4: return a ? e(t[0], t[1], t[2], t[3]) : e.call(o, t[0], t[1], t[2], t[3]); }return e.apply(o, t) } }, function (e, t, o) { 'use strict'; function a(e) { var t, o; this.promise = new e(function (e, a) { if (t != void 0 || o != void 0) throw TypeError('Bad Promise constructor'); t = e, o = a }), this.resolve = n(t), this.reject = n(o) } var n = o(39); e.exports.f = function (e) { return new a(e) } }, function (e, t, o) { 'use strict'; var a = o(1), n = o(9), r = o(7), i = o(2)('species'); e.exports = function (e) { var t = a[e]; r && t && !t[i] && n.f(t, i, { configurable: !0, get: function () { return this } }) } }, function (e, t, o) { var a = o(2)('iterator'), n = !1; try { var r = [7][a](); r['return'] = function () { n = !0 }, Array.from(r, function () { throw 2 }) } catch (t) { } e.exports = function (e, t) { if (!t && !n) return !1; var o = !1; try { var r = [7], i = r[a](); i.next = function () { return { done: o = !0 } }, r[a] = function () { return i }, e(r) } catch (t) { } return o } }, function (e, t, o) { var a = o(2)('unscopables'), n = Array.prototype; n[a] == void 0 && o(12)(n, a, {}), e.exports = function (e) { n[a][e] = !0 } }, function (e, t, o) { 'use strict'; var a = o(21), n = o(0), r = o(16), i = o(12), l = o(32), s = o(140), d = o(40), p = o(73), c = o(2)('iterator'), g = !([].keys && 'next' in [].keys()), u = 'keys', m = 'values', _ = function () { return this }; e.exports = function (e, t, o, f, y, h, b) { s(o, t, f); var v = function (e) { return !g && e in C ? C[e] : e === u ? function () { return new o(this, e) } : e === m ? function () { return new o(this, e) } : function () { return new o(this, e) } }, x = t + ' Iterator', k = y == m, w = !1, C = e.prototype, P = C[c] || C['@@iterator'] || y && C[y], I = P || v(y), T = y ? k ? v('entries') : I : void 0, A = 'Array' == t ? C.entries || P : P, E, M, S; if (A && (S = p(A.call(new e)), S !== Object.prototype && S.next && (d(S, x, !0), !a && 'function' != typeof S[c] && i(S, c, _))), k && P && P.name !== m && (w = !0, I = function () { return P.call(this) }), (!a || b) && (g || w || !C[c]) && i(C, c, I), l[t] = I, l[x] = _, y) if (E = { values: k ? I : v(m), keys: h ? I : v(u), entries: T }, b) for (M in E) M in C || r(C, M, E[M]); else n(n.P + n.F * (g || w), t, E); return E } }, function (e, t, o) { 'use strict'; var a = o(145)(!0); o(102)(String, 'String', function (e) { this._t = e + '', this._i = 0 }, function () { var e = this._t, t = this._i, o; return t >= e.length ? { value: void 0, done: !0 } : (o = a(e, t), this._i += o.length, { value: o, done: !1 }) }) }, function (e, t, o) { var a = o(0); a(a.P, 'Function', { bind: o(148) }) }, function (e, t, o) { 'use strict'; var a = o(1), n = o(15), r = o(24), i = o(149), s = o(37), l = o(8), d = o(43).f, p = o(44).f, c = o(9).f, g = o(150).trim, u = 'Number', m = a[u], _ = m, f = m.prototype, y = r(o(42)(f)) == u, h = 'trim' in String.prototype, b = function (e) { var t = s(e, !1); if ('string' == typeof t && 2 < t.length) { t = h ? t.trim() : g(t, 3); var o = t.charCodeAt(0), a, n, r; if (43 === o || 45 === o) { if (a = t.charCodeAt(2), 88 === a || 120 === a) return NaN; } else if (48 === o) { switch (t.charCodeAt(1)) { case 66: case 98: n = 2, r = 49; break; case 79: case 111: n = 8, r = 55; break; default: return +t; }for (var d = t.slice(2), p = 0, i = d.length, l; p < i; p++)if (l = d.charCodeAt(p), 48 > l || l > r) return NaN; return parseInt(d, n) } } return +t }; if (!m(' 0o1') || !m('0b1') || m('+0x1')) { m = function (e) { var t = 1 > arguments.length ? 0 : e, o = this; return o instanceof m && (y ? l(function () { f.valueOf.call(o) }) : r(o) != u) ? i(new _(b(t)), o, m) : b(t) }; for (var v = o(7) ? d(_) : 'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'.split(','), x = 0, k; v.length > x; x++)n(_, k = v[x]) && !n(m, k) && c(m, k, p(_, k)); m.prototype = f, f.constructor = m, o(16)(a, u, m) } }, function (e, t, o) { o(107)('split', 2, function (e, t, a) { 'use strict'; var n = o(152), r = a, l = [].push, i = 'split', s = 'length', d = 'lastIndex'; if ('c' == 'abbc'[i](/(b)*/)[1] || 4 != 'test'[i](/(?:)/, -1)[s] || 2 != 'ab'[i](/(?:ab)*/)[s] || 4 != '.'[i](/(.?)(.?)/)[s] || 1 < '.'[i](/()()/)[s] || ''[i](/.?/)[s]) { var p = /()??/.exec('')[1] === void 0; a = function (e, t) { var o = this + ''; if (void 0 === e && 0 === t) return []; if (!n(e)) return r.call(o, e, t); var a = [], c = (e.ignoreCase ? 'i' : '') + (e.multiline ? 'm' : '') + (e.unicode ? 'u' : '') + (e.sticky ? 'y' : ''), g = 0, u = void 0 === t ? 4294967295 : t >>> 0, m = new RegExp(e.source, c + 'g'), _, f, y, h, b; for (p || (_ = new RegExp('^' + m.source + '$(?!\\s)', c)); (f = m.exec(o)) && (y = f.index + f[0][s], !(y > g && (a.push(o.slice(g, f.index)), !p && 1 < f[s] && f[0].replace(_, function () { for (b = 1; b < arguments[s] - 2; b++)void 0 === arguments[b] && (f[b] = void 0) }), 1 < f[s] && f.index < o[s] && l.apply(a, f.slice(1)), h = f[0][s], g = y, a[s] >= u)));)m[d] === f.index && m[d]++; return g === o[s] ? (h || !m.test('')) && a.push('') : a.push(o.slice(g)), a[s] > u ? a.slice(0, u) : a } } else '0'[i](void 0, 0)[s] && (a = function (e, t) { return void 0 === e && 0 === t ? [] : r.call(this, e, t) }); return [function (o, n) { var r = e(this), i = o == void 0 ? void 0 : o[t]; return i === void 0 ? a.call(r + '', o, n) : i.call(o, r, n) }, a] }) }, function (e, t, o) { 'use strict'; var a = o(12), n = o(16), r = o(8), i = o(41), l = o(2); e.exports = function (e, t, o) { var s = l(e), d = o(i, s, ''[e]), p = d[0], c = d[1]; r(function () { var t = {}; return t[s] = function () { return 7 }, 7 != ''[e](t) }) && (n(String.prototype, e, p), a(RegExp.prototype, s, 2 == t ? function (e, t) { return c.call(e, this, t) } : function (e) { return c.call(e, this) })) } }, function (e, t, o) { var a = o(25), n = o(26); o(153)('keys', function () { return function (e) { return n(a(e)) } }) }, function (e, t, o) { 'use strict'; function a(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function n(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function r(e, t, o) { return t && n(e.prototype, t), o && n(e, o), e } var i = o(3), l = o.n(i), s = o(18), d = o.n(s), p = o(17), c = o.n(p), g = o(68), u = o(154), m = o.n(u), _ = o(55), f = o.n(_), y = o(56), h = o.n(y), b = o(48), v = o.n(b), x = o(57), k = o.n(x); delete c.a.Icon.Default.prototype._getIconUrl, c.a.Icon.Default.mergeOptions({ iconRetinaUrl: h.a, iconUrl: v.a, shadowUrl: k.a }); var w = function () { function e(t, o) { a(this, e), this.rootNode = document.querySelector(t), this.rootNode.classList.add('mapa'), this.map = null, this._funcClick = null, this._listeners = {}, this._mapCursor = '', this._config = o, this.setMoveMapCursorType('pointer') } return r(e, [{ key: '_setMapListeners', value: function () { var e = this, t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : !0; this.map.on('movestart', function () { e.rootNode.style.cursor = '' }), this.map.on('moveend', function () { e.rootNode.style.cursor = e._mapCursor }), t && this.setClickEnabled(!0) } }, { key: 'on', value: function (e, t) { this._listeners[e] || (this._listeners[e] = []), this._listeners[e].push(t); var o = this._listeners[e].length - 1, a = this; return { remove: function () { a._listeners[e].splice(o, 1) } } } }, { key: 'emit', value: function (e, t) { if (this._listeners[e]) for (var o in this._listeners[e]) this._listeners[e][o](t) } }, { key: 'setMoveMapCursorType', value: function (e) { this._mapCursor = e, this.rootNode.style.cursor = e } }, { key: 'getMoveMapCursorType', value: function () { return this._mapCursor } }, { key: 'setClickEnabled', value: function (e) { var t = this; this._funcClick && (this.map.off('click', this._funcClick), this._funcClick = null), e && (this._funcClick = function (e) { return t.emit('click', e) }, this.map.on('click', this._funcClick)) } }, { key: 'getClickEnabled', value: function () { return !!this._clickEnabled } }, { key: 'remove', value: function () { null !== this.map && this.map.remove() } }, { key: 'clear', value: function () { } }, { key: 'addGeoJSONGroup', value: function (e) { if (!(e instanceof g.a)) throw new Error('O objeto \'' + e + '\' n\xE3o \xE9 uma inst\xE2ncia de \'GeoJSONGroup\''); e.layer.addTo(this.map) } }, { key: 'removeGeoJSONGroup', value: function (e) { if (!(e instanceof g.a)) throw new Error('O objeto \'' + e + '\' n\xE3o \xE9 uma inst\xE2ncia de \'GeoJSONGroup\''); e.layer.removeFrom(this.map) } }]), e }(); t.a = w }, function (e, t) { 'use strict'; t.a = { M0001: 'O ponto de embarque e o ponto de destino devem ser parametrizados.', M0002: 'N\xE3o possui rotas para este consumo.', M0003: 'N\xE3o \xE9 possivel remover esse ponto, marcador invalido.', M0004: 'N\xE3o foi encontrado o snap proximo do ponto final.', M0005: 'N\xE3o h\xE1 rotas para exportar.', M0006: 'O ponto de in\xEDcio n\xE3o foi definido.', M0007: 'O ponto de destino n\xE3o foi definido.' } }, function (e) { 'use strict'; e.exports = function (e, t) { return function () { for (var o = Array(arguments.length), a = 0; a < o.length; a++)o[a] = arguments[a]; return e.apply(t, o) } } }, function (e, t, o) { 'use strict'; (function (t) { var a = o(11), n = o(166), r = o(168), i = o(169), l = o(170), s = o(113), d = 'undefined' != typeof window && window.btoa && window.btoa.bind(window) || o(171); e.exports = function (p) { return new Promise(function (e, c) { var g = p.data, u = p.headers; a.isFormData(g) && delete u['Content-Type']; var m = new XMLHttpRequest, _ = 'onreadystatechange', f = !1; if ('test' === t.env.NODE_ENV || 'undefined' == typeof window || !window.XDomainRequest || 'withCredentials' in m || l(p.url) || (m = new window.XDomainRequest, _ = 'onload', f = !0, m.onprogress = function () { }, m.ontimeout = function () { }), p.auth) { var y = p.auth.username || '', h = p.auth.password || ''; u.Authorization = 'Basic ' + d(y + ':' + h) } if (m.open(p.method.toUpperCase(), r(p.url, p.params, p.paramsSerializer), !0), m.timeout = p.timeout, m[_] = function () { if (m && (4 === m.readyState || f) && (0 !== m.status || m.responseURL && 0 === m.responseURL.indexOf('file:'))) { var t = 'getAllResponseHeaders' in m ? i(m.getAllResponseHeaders()) : null, o = p.responseType && 'text' !== p.responseType ? m.response : m.responseText, a = { data: o, status: 1223 === m.status ? 204 : m.status, statusText: 1223 === m.status ? 'No Content' : m.statusText, headers: t, config: p, request: m }; n(e, c, a), m = null } }, m.onerror = function () { c(s('Network Error', p, null, m)), m = null }, m.ontimeout = function () { c(s('timeout of ' + p.timeout + 'ms exceeded', p, 'ECONNABORTED', m)), m = null }, a.isStandardBrowserEnv()) { var b = o(172), v = (p.withCredentials || l(p.url)) && p.xsrfCookieName ? b.read(p.xsrfCookieName) : void 0; v && (u[p.xsrfHeaderName] = v) } if ('setRequestHeader' in m && a.forEach(u, function (e, t) { 'undefined' == typeof g && 'content-type' === t.toLowerCase() ? delete u[t] : m.setRequestHeader(t, e) }), p.withCredentials && (m.withCredentials = !0), p.responseType) try { m.responseType = p.responseType } catch (t) { if ('json' !== p.responseType) throw t } 'function' == typeof p.onDownloadProgress && m.addEventListener('progress', p.onDownloadProgress), 'function' == typeof p.onUploadProgress && m.upload && m.upload.addEventListener('progress', p.onUploadProgress), p.cancelToken && p.cancelToken.promise.then(function (e) { m && (m.abort(), c(e), m = null) }), void 0 === g && (g = null), m.send(g) }) } }).call(t, o(59)) }, function (e, t, o) { 'use strict'; var a = o(167); e.exports = function (e, t, o, n, r) { var i = new Error(e); return a(i, t, o, n, r) } }, function (e) { 'use strict'; e.exports = function (e) { return !!(e && e.__CANCEL__) } }, function (e) { 'use strict'; function t(e) { this.message = e } t.prototype.toString = function () { return 'Cancel' + (this.message ? ': ' + this.message : '') }, t.prototype.__CANCEL__ = !0, e.exports = t }, function (e) { e.exports = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHZpZXdCb3g9IjAgMCA2MDAgNjAiCiAgIGhlaWdodD0iNjAiCiAgIHdpZHRoPSI2MDAiCiAgIGlkPSJzdmc0MjI1IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTEgcjEzNzI1IgogICBzb2RpcG9kaTpkb2NuYW1lPSJzcHJpdGVzaGVldC5zdmciCiAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iL2hvbWUvZnB1Z2EvZGV2ZWxvcG1lbnQvdXBzdHJlYW0vaWNhcnRvLkxlYWZsZXQuZHJhdy9zcmMvaW1hZ2VzL3Nwcml0ZXNoZWV0LTJ4LnBuZyIKICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjkwIgogICBpbmtzY2FwZTpleHBvcnQteWRwaT0iOTAiPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQyNTgiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0MjU2IiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwIgogICAgIGd1aWRldG9sZXJhbmNlPSIxMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDU2IgogICAgIGlkPSJuYW1lZHZpZXc0MjU0IgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp6b29tPSIxLjMxMDE4NTIiCiAgICAgaW5rc2NhcGU6Y3g9IjIzNy41NjkyOCIKICAgICBpbmtzY2FwZTpjeT0iNy4yNDE5NjIxIgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxOTIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyNCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9InN2ZzQyMjUiIC8+CiAgPGcKICAgICBpZD0iZW5hYmxlZCIKICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIj4KICAgIDxnCiAgICAgICBpZD0icG9seWxpbmUiCiAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIj4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAxOCwzNiAwLDYgNiwwIDAsLTYgLTYsMCB6IG0gNCw0IC0yLDAgMCwtMiAyLDAgMCwyIHoiCiAgICAgICAgIGlkPSJwYXRoNDIyOSIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzNiwxOCAwLDYgNiwwIDAsLTYgLTYsMCB6IG0gNCw0IC0yLDAgMCwtMiAyLDAgMCwyIHoiCiAgICAgICAgIGlkPSJwYXRoNDIzMSIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAyMy4xNDIsMzkuMTQ1IC0yLjI4NSwtMi4yOSAxNiwtMTUuOTk4IDIuMjg1LDIuMjg1IHoiCiAgICAgICAgIGlkPSJwYXRoNDIzMyIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBpZD0icG9seWdvbiIKICAgICAgIGQ9Ik0gMTAwLDI0LjU2NSA5Ny45MDQsMzkuMzk1IDgzLjA3LDQyIDc2LDI4Ljc3MyA4Ni40NjMsMTggWiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJyZWN0YW5nbGUiCiAgICAgICBkPSJtIDE0MCwyMCAyMCwwIDAsMjAgLTIwLDAgeiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJjaXJjbGUiCiAgICAgICBkPSJtIDIyMSwzMCBjIDAsNi4wNzggLTQuOTI2LDExIC0xMSwxMSAtNi4wNzQsMCAtMTEsLTQuOTIyIC0xMSwtMTEgMCwtNi4wNzQgNC45MjYsLTExIDExLC0xMSA2LjA3NCwwIDExLDQuOTI2IDExLDExIHoiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgIDxwYXRoCiAgICAgICBpZD0ibWFya2VyIgogICAgICAgZD0ibSAyNzAsMTkgYyAtNC45NzEsMCAtOSw0LjAyOSAtOSw5IDAsNC45NzEgNS4wMDEsMTIgOSwxNCA0LjAwMSwtMiA5LC05LjAyOSA5LC0xNCAwLC00Ljk3MSAtNC4wMjksLTkgLTksLTkgeiBtIDAsMTIuNSBjIC0yLjQ4NCwwIC00LjUsLTIuMDE0IC00LjUsLTQuNSAwLC0yLjQ4NCAyLjAxNiwtNC41IDQuNSwtNC41IDIuNDg1LDAgNC41LDIuMDE2IDQuNSw0LjUgMCwyLjQ4NiAtMi4wMTUsNC41IC00LjUsNC41IHoiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgIDxnCiAgICAgICBpZD0iZWRpdCIKICAgICAgIHN0eWxlPSJmaWxsOiM0NjQ2NDY7ZmlsbC1vcGFjaXR5OjEiPgogICAgICA8cGF0aAogICAgICAgICBkPSJtIDMzNywzMC4xNTYgMCwwLjQwNyAwLDUuNjA0IGMgMCwxLjY1OCAtMS4zNDQsMyAtMywzIGwgLTEwLDAgYyAtMS42NTUsMCAtMywtMS4zNDIgLTMsLTMgbCAwLC0xMCBjIDAsLTEuNjU3IDEuMzQ1LC0zIDMsLTMgbCA2LjM0NSwwIDMuMTksLTMuMTcgLTkuNTM1LDAgYyAtMy4zMTMsMCAtNiwyLjY4NyAtNiw2IGwgMCwxMCBjIDAsMy4zMTMgMi42ODcsNiA2LDYgbCAxMCwwIGMgMy4zMTQsMCA2LC0yLjY4NyA2LC02IGwgMCwtOC44MDkgLTMsMi45NjgiCiAgICAgICAgIGlkPSJwYXRoNDI0MCIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzMzguNzIsMjQuNjM3IC04Ljg5Miw4Ljg5MiAtMi44MjgsMCAwLC0yLjgyOSA4Ljg5LC04Ljg5IHoiCiAgICAgICAgIGlkPSJwYXRoNDI0MiIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzMzguNjk3LDE3LjgyNiA0LDAgMCw0IC00LDAgeiIKICAgICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoLTAuNzA2OTgzMzYsLTAuNzA3MjMwMTgsMC43MDcyMzAxOCwtMC43MDY5ODMzNiw1NjcuNTU5MTcsMjc0Ljc4MjczKSIKICAgICAgICAgaWQ9InBhdGg0MjQ0IgogICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIiAvPgogICAgPC9nPgogICAgPGcKICAgICAgIGlkPSJyZW1vdmUiCiAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIj4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzODEsNDIgMTgsMCAwLC0xOCAtMTgsMCAwLDE4IHogbSAxNCwtMTYgMiwwIDAsMTQgLTIsMCAwLC0xNCB6IG0gLTQsMCAyLDAgMCwxNCAtMiwwIDAsLTE0IHogbSAtNCwwIDIsMCAwLDE0IC0yLDAgMCwtMTQgeiBtIC00LDAgMiwwIDAsMTQgLTIsMCAwLC0xNCB6IgogICAgICAgICBpZD0icGF0aDQyNDciCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICAgIHN0eWxlPSJmaWxsOiM0NjQ2NDY7ZmlsbC1vcGFjaXR5OjEiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMzk1LDIwIDAsLTQgLTEwLDAgMCw0IC02LDAgMCwyIDIyLDAgMCwtMiAtNiwwIHogbSAtMiwwIC02LDAgMCwtMiA2LDAgMCwyIHoiCiAgICAgICAgIGlkPSJwYXRoNDI0OSIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgIDwvZz4KICA8L2c+CiAgPGcKICAgICBpZD0iZGlzYWJsZWQiCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIwLDApIgogICAgIHN0eWxlPSJmaWxsOiNiYmJiYmIiPgogICAgPHVzZQogICAgICAgeGxpbms6aHJlZj0iI2VkaXQiCiAgICAgICBpZD0iZWRpdC1kaXNhYmxlZCIKICAgICAgIHg9IjAiCiAgICAgICB5PSIwIgogICAgICAgd2lkdGg9IjEwMCUiCiAgICAgICBoZWlnaHQ9IjEwMCUiIC8+CiAgICA8dXNlCiAgICAgICB4bGluazpocmVmPSIjcmVtb3ZlIgogICAgICAgaWQ9InJlbW92ZS1kaXNhYmxlZCIKICAgICAgIHg9IjAiCiAgICAgICB5PSIwIgogICAgICAgd2lkdGg9IjEwMCUiCiAgICAgICBoZWlnaHQ9IjEwMCUiIC8+CiAgPC9nPgogIDxwYXRoCiAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgIGlkPSJjaXJjbGUtMyIKICAgICBkPSJtIDU4MS42NTcyNSwzMCBjIDAsNi4wNzggLTQuOTI2LDExIC0xMSwxMSAtNi4wNzQsMCAtMTEsLTQuOTIyIC0xMSwtMTEgMCwtNi4wNzQgNC45MjYsLTExIDExLC0xMSA2LjA3NCwwIDExLDQuOTI2IDExLDExIHoiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KPC9zdmc+Cg==' }, function (e, t, o) { 'use strict'; var a = o(10); e.exports = function () { var e = a(this), t = ''; return e.global && (t += 'g'), e.ignoreCase && (t += 'i'), e.multiline && (t += 'm'), e.unicode && (t += 'u'), e.sticky && (t += 'y'), t } }, function (e, t, o) { for (var a = o(1), n = o(12), r = o(22), l = r('typed_array'), s = r('view'), d = !!(a.ArrayBuffer && a.DataView), p = d, c = 0, i = ['Int8Array', 'Uint8Array', 'Uint8ClampedArray', 'Int16Array', 'Uint16Array', 'Int32Array', 'Uint32Array', 'Float32Array', 'Float64Array'], g; c < 9;)(g = a[i[c++]]) ? (n(g.prototype, l, !0), n(g.prototype, s, !0)) : p = !1; e.exports = { ABV: d, CONSTR: p, TYPED: l, VIEW: s } }, function (e, t, o) { var a = o(28), n = o(19); e.exports = function (e) { if (e === void 0) return 0; var t = a(e), o = n(t); if (t !== o) throw RangeError('Wrong length!'); return o } }, function (e, t, o) { 'use strict'; Object.defineProperty(t, '__esModule', { value: !0 }); var a = o(81), n = o(83), r = o(67), i = o(68), l = o(127), s = this.define; (function (e) { e('GeoprocessorMap', function (e) { e.App = l.a, e.icons = { ImageIcon: n.a, DivIcon: r.a }, e.model = { GeoJSONGroup: i.a } }) })('function' == typeof s && s.amd ? s : function (e, t) { 'undefined' == typeof exports ? t(window[e] = {}) : t(exports) }) }, function (e, t, o) { function a(e, t) { this._id = e, this._clearFn = t } var n = Function.prototype.apply; t.setTimeout = function () { return new a(n.call(setTimeout, window, arguments), clearTimeout) }, t.setInterval = function () { return new a(n.call(setInterval, window, arguments), clearInterval) }, t.clearTimeout = t.clearInterval = function (e) { e && e.close() }, a.prototype.unref = a.prototype.ref = function () { }, a.prototype.close = function () { this._clearFn.call(window, this._id) }, t.enroll = function (e, t) { clearTimeout(e._idleTimeoutId), e._idleTimeout = t }, t.unenroll = function (e) { clearTimeout(e._idleTimeoutId), e._idleTimeout = -1 }, t._unrefActive = t.active = function (e) { clearTimeout(e._idleTimeoutId); var t = e._idleTimeout; 0 <= t && (e._idleTimeoutId = setTimeout(function () { e._onTimeout && e._onTimeout() }, t)) }, o(122), t.setImmediate = setImmediate, t.clearImmediate = clearImmediate }, function (e, t, o) { (function (e, t) { (function (e) { 'use strict'; function o(e) { 'function' != typeof e && (e = new Function('' + e)); for (var t = Array(arguments.length - 1), o = 0; o < t.length; o++)t[o] = arguments[o + 1]; var a = { callback: e, args: t }; return u[g] = a, y(g), g++ } function a(e) { delete u[e] } function n(e) { var t = e.callback, o = e.args; switch (o.length) { case 0: t(); break; case 1: t(o[0]); break; case 2: t(o[0], o[1]); break; case 3: t(o[0], o[1], o[2]); break; default: t.apply(void 0, o); } } function r(e) { if (m) setTimeout(r, 0, e); else { var t = u[e]; if (t) { m = !0; try { n(t) } finally { a(e), m = !1 } } } } function i() { y = function (e) { t.nextTick(function () { r(e) }) } } function l() { if (e.postMessage && !e.importScripts) { var t = !0, o = e.onmessage; return e.onmessage = function () { t = !1 }, e.postMessage('', '*'), e.onmessage = o, t } } function s() { var t = 'setImmediate$' + Math.random() + '$', o = function (o) { o.source === e && 'string' == typeof o.data && 0 === o.data.indexOf(t) && r(+o.data.slice(t.length)) }; e.addEventListener ? e.addEventListener('message', o, !1) : e.attachEvent('onmessage', o), y = function (o) { e.postMessage(t + o, '*') } } function d() { var e = new MessageChannel; e.port1.onmessage = function (e) { var t = e.data; r(t) }, y = function (t) { e.port2.postMessage(t) } } function p() { var e = _.documentElement; y = function (t) { var o = _.createElement('script'); o.onreadystatechange = function () { r(t), o.onreadystatechange = null, e.removeChild(o), o = null }, e.appendChild(o) } } function c() { y = function (e) { setTimeout(r, 0, e) } } if (!e.setImmediate) { var g = 1, u = {}, m = !1, _ = e.document, f = Object.getPrototypeOf && Object.getPrototypeOf(e), y; f = f && f.setTimeout ? f : e, '[object process]' === {}.toString.call(e.process) ? i() : l() ? s() : e.MessageChannel ? d() : _ && 'onreadystatechange' in _.createElement('script') ? p() : c(), f.setImmediate = o, f.clearImmediate = a } })('undefined' == typeof self ? 'undefined' == typeof e ? this : e : self) }).call(t, o(82), o(59)) }, function (e, t, o) { var a = o(22)('meta'), n = o(5), r = o(15), i = o(9).f, l = 0, s = Object.isExtensible || function () { return !0 }, d = !o(8)(function () { return s(Object.preventExtensions({})) }), p = function (e) { i(e, a, { value: { i: 'O' + ++l, w: {} } }) }, c = e.exports = { KEY: a, NEED: !1, fastKey: function (e, t) { if (!n(e)) return 'symbol' == typeof e ? e : ('string' == typeof e ? 'S' : 'P') + e; if (!r(e, a)) { if (!s(e)) return 'F'; if (!t) return 'E'; p(e) } return e[a].i }, getWeak: function (e, t) { if (!r(e, a)) { if (!s(e)) return !0; if (!t) return !1; p(e) } return e[a].w }, onFreeze: function (e) { return d && c.NEED && s(e) && !r(e, a) && p(e), e } } }, function (e, t, o) { var a = o(26), n = o(66), r = o(50); e.exports = function (e) { var t = a(e), o = n.f; if (o) for (var l = o(e), s = r.f, d = 0, i; l.length > d;)s.call(e, i = l[d++]) && t.push(i); return t } }, function (e, t, o) { var a = o(9), n = o(10), r = o(26); e.exports = o(7) ? Object.defineProperties : function (e, t) { n(e); for (var o = r(t), l = o.length, s = 0, i; l > s;)a.f(e, i = o[s++], t[i]); return e } }, function (e, t, o) { var a = o(27), n = o(43).f, r = {}.toString, i = 'object' == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [], l = function (e) { try { return n(e) } catch (t) { return i.slice() } }; e.exports.f = function (e) { return i && '[object Window]' == r.call(e) ? l(e) : n(a(e)) } }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } var r = o(4), i = o.n(r), l = o(6), s = o.n(l), d = o(30), p = o.n(d), g = o(91), u = o(128), m = o(52), _ = o.n(m), f = o(132), y = o(190), h = o(191), b = o(193), v = new g.a({ slv: f.a, sga: h.a, sigicor: y.a, semiurbano: b.a }); t.a = function e(t, o, r) { n(this, e); var l = _()(u.a); if ('object' === a(o)) { for (var s in o) if ('simbology' == s) for (var d in o[s]) l[s][d] = o[s][d]; else l[s] = o[s]; } else 'string' == typeof o && (l.rules = o); if (0 > ['slv', 'sga', 'sigicor', 'semiurbano'].indexOf(l.rules)) throw new Error('N\xE3o foi definido qual o sistema da API, ou o sistema definido n\xE3o \xE9 suportado.'); l.routesDraggable = null === o.routesDraggable || o.routesDraggable === void 0 || o.routesDraggable, l.markersDraggable = null === o.markersDraggable || o.markersDraggable === void 0 || o.markersDraggable; var i = v.exportModule(l.rules); return new i(t, l, r) } }, function (e, t, o) { 'use strict'; var a = o(69), n = o(67); t.a = { serverAddressAPI: '', pontosDeFronteiraId: 'pontosDeFronteira', basemap: { options: { subdomains: ['mt0', 'mt1', 'mt2', 'mt3'] }, url: 'http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}' }, centerMap: { lat: -14.859850400601037, lng: -55.72070312500001, zoom: 4 }, simbology: { destinoFinal: new n.a({ buttonLabel: a.a.L0009, color: '#900', className: 'icon-destino-final', iconAnchor: [3, 21] }), destinoAzul: new n.a({ buttonLabel: a.a.L0009, color: '#b8322e', className: 'icon-destino-final', iconAnchor: [3, 21] }), origem: new n.a({ buttonLabel: a.a.L0008, color: '#090', className: 'icon-origem', iconAnchor: [3, 21] }), origemVermelho: new n.a({ color: '#f33', className: 'icon-origem', iconAnchor: [3, 21] }), origemAzul: new n.a({ buttonLabel: a.a.L0008, color: '#0066cc', className: 'icon-origem', iconAnchor: [3, 21] }), paradaIdaClaro: new n.a({ buttonLabel: a.a.L0001, color: '#4dc6ff', className: 'icon-parada', iconAnchor: [3, 21] }), paradaVoltaClaro: new n.a({ buttonLabel: a.a.L0013, color: '#ff381a', className: 'icon-parada', iconAnchor: [3, 21] }), paradaIda: new n.a({ buttonLabel: a.a.L0001, color: '#007fbc', className: 'icon-parada', iconAnchor: [3, 21] }), paradaVolta: new n.a({ buttonLabel: a.a.L0013, color: '#ff5137', className: 'icon-parada', iconAnchor: [3, 21] }), embarque: new n.a({ buttonLabel: a.a.L0010, color: '#35cac6', className: 'icon-embarque', iconAnchor: [3, 21] }), desembarque: new n.a({ buttonLabel: a.a.L0012, color: '#ff9400', className: 'icon-embarque', iconAnchor: [3, 21] }), intermediario: new n.a({ buttonLabel: a.a.L0011, color: '#34966b', className: 'icon-intermediario', iconAnchor: [3, 21] }), temp: new n.a({ color: '#91842F', className: 'icon-temp', iconAnchor: [3, 21] }), pinOnClick: new n.a({ color: '#1a0165', className: 'icon-click', iconAnchor: [3, 21] }) } } }, function (e, t) { 'use strict'; function o(e) { var t = e.length; if (0 < t % 4) throw new Error('Invalid string. Length must be a multiple of 4'); return '=' === e[t - 2] ? 2 : '=' === e[t - 1] ? 1 : 0 } function a(e) { return r[63 & e >> 18] + r[63 & e >> 12] + r[63 & e >> 6] + r[63 & e] } function n(e, t, o) { for (var n = [], r = t, i; r < o; r += 3)i = (e[r] << 16) + (e[r + 1] << 8) + e[r + 2], n.push(a(i)); return n.join('') } t.byteLength = function (e) { return 3 * e.length / 4 - o(e) }, t.toByteArray = function (e) { var t = e.length, a, n, r, i, l; i = o(e), l = new d(3 * t / 4 - i), n = 0 < i ? t - 4 : t; var p = 0; for (a = 0; a < n; a += 4)r = s[e.charCodeAt(a)] << 18 | s[e.charCodeAt(a + 1)] << 12 | s[e.charCodeAt(a + 2)] << 6 | s[e.charCodeAt(a + 3)], l[p++] = 255 & r >> 16, l[p++] = 255 & r >> 8, l[p++] = 255 & r; return 2 === i ? (r = s[e.charCodeAt(a)] << 2 | s[e.charCodeAt(a + 1)] >> 4, l[p++] = 255 & r) : 1 === i && (r = s[e.charCodeAt(a)] << 10 | s[e.charCodeAt(a + 1)] << 4 | s[e.charCodeAt(a + 2)] >> 2, l[p++] = 255 & r >> 8, l[p++] = 255 & r), l }, t.fromByteArray = function (e) { for (var t = e.length, o = t % 3, a = '', l = [], s = 16383, d = 0, i = t - o, p; d < i; d += s)l.push(n(e, d, d + s > i ? i : d + s)); return 1 == o ? (p = e[t - 1], a += r[p >> 2], a += r[63 & p << 4], a += '==') : 2 == o && (p = (e[t - 2] << 8) + e[t - 1], a += r[p >> 10], a += r[63 & p >> 4], a += r[63 & p << 2], a += '='), l.push(a), l.join('') }; for (var r = [], s = [], d = 'undefined' == typeof Uint8Array ? Array : Uint8Array, l = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/', p = 0, i = l.length; p < i; ++p)r[p] = l[p], s[l.charCodeAt(p)] = p; s[45] = 62, s[95] = 63 }, function (e, t) { var o = Math.pow; t.read = function (t, a, n, r, l) { var p = 8 * l - r - 1, c = (1 << p) - 1, g = c >> 1, u = -7, _ = n ? l - 1 : 0, i = n ? -1 : 1, d = t[a + _], s, e; for (_ += i, s = d & (1 << -u) - 1, d >>= -u, u += p; 0 < u; s = 256 * s + t[a + _], _ += i, u -= 8); for (e = s & (1 << -u) - 1, s >>= -u, u += r; 0 < u; e = 256 * e + t[a + _], _ += i, u -= 8); if (0 === s) s = 1 - g; else { if (s === c) return e ? NaN : (d ? -1 : 1) * Infinity; e += o(2, r), s -= g } return (d ? -1 : 1) * e * o(2, s - r) }, t.write = function (t, a, n, r, l, p) { var g = 8 * p - l - 1, u = (1 << g) - 1, _ = u >> 1, f = 23 === l ? 5.960464477539063e-8 - 6.617444900424222e-24 : 0, y = r ? 0 : p - 1, i = r ? 1 : -1, d = 0 > a || 0 === a && 0 > 1 / a ? 1 : 0, s, h, m; for (a = Math.abs(a), isNaN(a) || a === Infinity ? (h = isNaN(a) ? 1 : 0, s = u) : (s = Math.floor(Math.log(a) / Math.LN2), 1 > a * (m = o(2, -s)) && (s--, m *= 2), a += 1 <= s + _ ? f / m : f * o(2, 1 - _), 2 <= a * m && (s++, m /= 2), s + _ >= u ? (h = 0, s = u) : 1 <= s + _ ? (h = (a * m - 1) * o(2, l), s += _) : (h = a * o(2, _ - 1) * o(2, l), s = 0)); 8 <= l; t[n + y] = 255 & h, y += i, h /= 256, l -= 8); for (s = s << l | h, g += l; 0 < g; t[n + y] = 255 & s, y += i, s /= 256, g -= 8); t[n + y - i] |= 128 * d } }, function (e) { var t = {}.toString; e.exports = Array.isArray || function (e) { return '[object Array]' == t.call(e) } }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function r(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function i(e, t, o) { return t && r(e.prototype, t), o && r(e, o), e } function l(e, t) { return t && ('object' === a(t) || 'function' == typeof t) ? t : s(e) } function s(e) { if (void 0 === e) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called'); return e } function d(e) { return d = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, d(e) } function p(e, t) { if ('function' != typeof t && null !== t) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && c(e, t) } function c(e, t) { return c = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, c(e, t) } var g = o(4), u = o.n(g), m = o(6), _ = o.n(m), f = o(3), y = o.n(f), h = o(13), b = o.n(h), v = o(14), x = o.n(v), k = o(31), w = o.n(k), C = o(53), P = function (e) { function t() { return n(this, t), l(this, d(t).apply(this, arguments)) } return p(t, e), i(t, [{ key: 'rebuildRoute', value: function () { var e = this; return this.mapa.rebuildRoute(function (t, o) { e._setRouteDraggable(t, o) }) } }, { key: 'insertOriginPoint', value: function (e, t, o) { var a = this.mapa.insertOriginPoint(e, t, o); return this.markers.push(a), a } }, { key: 'insertDestinationPoint', value: function (e, t, o) { var a = this.mapa.insertDestinationPoint(e, t, o); return this.markers.push(a), a } }, { key: 'insertIntermediatePoint', value: function (e, t, o) { var a = this.mapa.insertOtherPoint(e, t, o); return this.markers.push(a), a } }, { key: 'buildRoute', value: function (e) { try { if (!e.pontoDeOrigem) throw new Error('Ponto de origem \xE9 obrigat\xF3rio'); if (!e.pontoDeDestinoFinal) throw new Error('Ponto de destino final \xE9 obrigat\xF3rio'); if (this.insertOriginPoint(e.pontoDeOrigem.lat, e.pontoDeOrigem.lng), this.insertDestinationPoint(e.pontoDeDestinoFinal.lat, e.pontoDeDestinoFinal.lng), this.mapa.waypointsCoordinates = { going: [], return: [] }, this.mapa.removeOtherPoints(), e.outrosPontos && e.outrosPontos.length) for (var t in e.outrosPontos) { var o = e.outrosPontos[t]; this.insertIntermediatePoint(o.lat, o.lng, o.tipo) } return this.rebuildRoute() } catch (e) { return Promise.reject(e) } } }, { key: 'getIntermediatePoints', value: function () { return this.mapa.getOtherPoints() } }, { key: 'getCoordinatesFromAddress', value: function (e) { return this.mapa.getCoordinatesFromAddress(e) } }, { key: 'getRoute', value: function () { return this.mapa.getRoute() } }, { key: 'onRouteChange', value: function (e) { return this.mapa.on('change-route', e) } }]), t }(C.a); t.a = P }, function (e, t, o) { var a = o(23), n = o(134), r = o(93), i = o(10), l = o(19), s = o(94), d = {}, p = {}, t = e.exports = function (e, t, o, c, g) { var u = g ? function () { return e } : s(e), m = a(o, c, t ? 2 : 1), _ = 0, f, y, h, b; if ('function' != typeof u) throw TypeError(e + ' is not iterable!'); if (r(u)) { for (f = l(e.length); f > _; _++)if (b = t ? m(i(y = e[_])[0], y[1]) : m(e[_]), b === d || b === p) return b; } else for (h = u.call(e); !(y = h.next()).done;)if (b = n(h, m, y.value, t), b === d || b === p) return b }; t.BREAK = d, t.RETURN = p }, function (e, t, o) { var a = o(10); e.exports = function (t, e, o, n) { try { return n ? e(a(o)[0], o[1]) : e(o) } catch (o) { var r = t['return']; throw void 0 !== r && a(r.call(t)), o } } }, function (e, t, o) { var a = o(1), n = o(96).set, r = a.MutationObserver || a.WebKitMutationObserver, i = a.process, l = a.Promise, s = 'process' == o(24)(i); e.exports = function () { var e = function () { var e, a; for (s && (e = i.domain) && e.exit(); t;) { a = t.fn, t = t.next; try { a() } catch (a) { throw t ? d() : o = void 0, a } } o = void 0, e && e.enter() }, t, o, d; if (s) d = function () { i.nextTick(e) }; else if (r && !(a.navigator && a.navigator.standalone)) { var p = !0, c = document.createTextNode(''); new r(e).observe(c, { characterData: !0 }), d = function () { c.data = p = !p } } else if (l && l.resolve) { var g = l.resolve(void 0); d = function () { g.then(e) } } else d = function () { n.call(a, e) }; return function (e) { var a = { fn: e, next: void 0 }; o && (o.next = a), t || (t = a, d()), o = a } } }, function (e) { e.exports = function (e) { try { return { e: !1, v: e() } } catch (t) { return { e: !0, v: t } } } }, function (e, t, o) { var a = o(1), n = a.navigator; e.exports = n && n.userAgent || '' }, function (e, t, o) { var a = o(10), n = o(5), r = o(98); e.exports = function (e, t) { if (a(e), n(t) && t.constructor === e) return t; var o = r.f(e), i = o.resolve; return i(t), o.promise } }, function (e) { e.exports = function (e, t) { return { value: t, done: !!e } } }, function (e, t, o) { 'use strict'; var a = o(42), n = o(38), r = o(40), i = {}; o(12)(i, o(2)('iterator'), function () { return this }), e.exports = function (e, t, o) { e.prototype = a(i, { next: n(1, o) }), r(e, t + ' Iterator') } }, function (e, t, o) { var a = o(142); e.exports = function (e, t) { return new (a(e))(t) } }, function (e, t, o) { var a = o(5), n = o(88), r = o(2)('species'); e.exports = function (e) { var t; return n(e) && (t = e.constructor, 'function' == typeof t && (t === Array || n(t.prototype)) && (t = void 0), a(t) && (t = t[r], null === t && (t = void 0))), void 0 === t ? Array : t } }, function (e, t, o) { 'use strict'; function a(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } var n = o(91), r = o(144), i = o(180), l = o(181), s = o(182), d = new n.a({ slv: r.a, sga: i.a, sigicor: l.a, semiurbano: s.a }); t.a = function e(t, o) { a(this, e); var n = d.exportModule(o.rules); return new n(t, o) } }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function r(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function i(e, t, o) { return t && r(e.prototype, t), o && r(e, o), e } function l(e, t) { return t && ('object' === a(t) || 'function' == typeof t) ? t : s(e) } function s(e) { if (void 0 === e) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called'); return e } function d(e, t, o) { return d = 'undefined' != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, o) { var a = p(e, t); if (a) { var n = Object.getOwnPropertyDescriptor(a, t); return n.get ? n.get.call(o) : n.value } }, d(e, t, o || e) } function p(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && (e = c(e), null !== e);); return e } function c(e) { return c = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, c(e) } function g(e, t) { if ('function' != typeof t && null !== t) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && u(e, t) } function u(e, t) { return u = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, u(e, t) } var m = o(4), _ = o.n(m), f = o(6), y = o.n(f), h = o(3), b = o.n(h), v = o(35), x = o.n(v), k = o(13), w = o.n(k), C = o(14), P = o.n(C), I = o(36), T = o.n(I), A = o(30), E = o.n(A), M = o(31), S = o.n(M), D = o(45), O = o.n(D), R = o(103), z = o.n(R), N = o(46), B = o.n(N), Z = o(33), j = o.n(Z), U = o(34), G = o.n(U), H = o(147), F = o.n(H), Y = o(104), W = o.n(Y), V = o(18), q = o.n(V), K = o(105), J = o.n(K), X = o(17), Q = o.n(X), $ = o(52), ee = o.n($), te = o(69), oe = o(47), ae = o(75), ne = o(76), re = o(55), ie = o.n(re), le = o(56), se = o.n(le), de = o(48), pe = o.n(de), ce = o(57), ge = o.n(ce); delete Q.a.Icon.Default.prototype._getIconUrl, Q.a.Icon.Default.mergeOptions({ iconRetinaUrl: se.a, iconUrl: pe.a, shadowUrl: ge.a }); var ue = { CHANGE_ROUTE: 'change-route' }, me = function (e) { function t(e, o) { var a; return n(this, t), a = l(this, c(t).call(this, e, o)), a.originMarker = null, a.destinationMarker = null, a.waypointsCoordinates = { going: [], return: [] }, a.waypointsMarker = { going: [], return: [] }, a.patchLines = { going: [], return: [] }, a.mode = 'DRIVING', a._resultRoute = null, a._hasRouteError = !1, a._draggedPoints = { going: [], return: [] }, a._pathDragListeners = { going: null, return: null }, a._lastRequest = { going: null, return: null }, a._draggedRoutes = { going: [], return: [] }, a._dragMarker = null, a } return g(t, e), i(t, [{ key: 'rebuildRoute', value: function () { return this._recalculateRoute() } }, { key: 'getRoute', value: function () { return this._resultRoute } }, { key: 'insertOriginPoint', value: function (e, t, o) { var a = this._getId(); if (this.originCoordinates = { lat: +e, lng: +t, className: o, _id: a }, this.originMarker && this.originMarker.remove(), !this._resultRoute) { this.originMarker = oe.a.createMarkerWithPopup([e, t], 'origem', { hasPopup: !0, icon: this._config.simbology.origem }); var n = this.originMarker.getLatLng(); this.map.panTo(new Q.a.LatLng(n.lat, n.lng)) } else this.originMarker = oe.a.createMarkerWithPopup([e, t], 'origem', { hasPopup: !0, leaflet: { className: this.originCoordinates.className }, icon: this._config.simbology.origem }); this.originMarker.addTo(this.map); var r = this; return this.originMarker.on('dragend', function (t) { var e = t.target, o = e.getLatLng(); r.map.panTo(new Q.a.LatLng(o.lat, o.lng)), r.originCoordinates.lat = o.lat, r.originCoordinates.lng = o.lng, r.rebuildRoute() }), this.originMarker.on('drag', function (e) { var t = { lat: r.originCoordinates.lat, lng: r.originCoordinates.lng }; r.originCoordinates.lat = e.latlng.lat, r.originCoordinates.lng = e.latlng.lng, r._buildDragRoute('going'), r._buildDragRoute('return'), r.originCoordinates.lat = t.lat, r.originCoordinates.lng = t.lng }), this.originMarker } }, { key: 'insertDestinationPoint', value: function (e, t, o) { var a = this._getId(); this.destinationCoordinates = { lat: +e, lng: +t, className: o, _id: a }, this.destinationMarker && this.destinationMarker.remove(), this._resultRoute ? this.destinationMarker = oe.a.createMarkerWithPopup([e, t], 'destinoFinal', { hasPopup: !0, leaflet: { className: this.destinationCoordinates.className }, icon: this._config.simbology.destinoFinal }) : (this._draggedPoints = { going: [], return: [] }, this.destinationMarker = oe.a.createMarkerWithPopup([e, t], 'destinoFinal', { hasPopup: !0, icon: this._config.simbology.destinoFinal })), this.destinationMarker.addTo(this.map); var n = this; return this.destinationMarker.on('dragend', function (t) { var e = t.target, o = e.getLatLng(); n.map.panTo(new Q.a.LatLng(o.lat, o.lng)), n.destinationCoordinates.lat = o.lat, n.destinationCoordinates.lng = o.lng, n.rebuildRoute() }), this.destinationMarker.on('drag', function (e) { var t = { lat: n.destinationCoordinates.lat, lng: n.destinationCoordinates.lng }; n.destinationCoordinates.lat = e.latlng.lat, n.destinationCoordinates.lng = e.latlng.lng, n._buildDragRoute('going'), n._buildDragRoute('return'), n.destinationCoordinates.lat = t.lat, n.destinationCoordinates.lng = t.lng }), this.destinationMarker } }, { key: 'insertOtherPoint', value: function (e, t, o) { var a = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : !0, n = this._getId(), r = { lat: e, lng: t, type: o, _id: n }; return a && ('embarque' === o ? (this.waypointsCoordinates.return.push({ lat: e, lng: t, type: 'desembarque', _id: this._getId() }), this.waypointsCoordinates.going.push(r)) : 'desembarque' === o ? (this.waypointsCoordinates.going.push({ lat: e, lng: t, type: 'embarque', _id: this._getId() }), this.waypointsCoordinates.return.push(r)) : 'intermediario' === o ? this.waypointsCoordinates.going.push(r) : 'paradaIda' === o ? this.waypointsCoordinates.going.push(r) : 'paradaVolta' === o ? this.waypointsCoordinates.return.push(r) : void 0), r } }, { key: 'getOtherPoints', value: function () { return this.waypointsCoordinates } }, { key: 'setMode', value: function (e) { this.mode = e } }, { key: 'getCoordinatesFromAddress', value: function (e) { return this._httpHelper.post('/v1/api/getCoordinatesFromAddress', { service: 'bing', address: e }).then(function (e) { return e.data }) } }, { key: 'buildMap', value: function (e) { this.map = Q.a.map(this.rootNode).setView([this._config.centerMap.lat, this._config.centerMap.lng], this._config.centerMap.zoom), Q.a.tileLayer(this._config.basemap.url, this._config.basemap.options).addTo(this.map), this.on('click', this._onClickMap.bind(this)), this._setMapListeners(); var t = this; 'function' == typeof e && this.map.whenReady(e), this._httpHelper.post('/v1/api/query', { serviceId: this._config.pontosDeFronteiraId, layerName: 'publico:pontos_fronteira', where: '1=1', returnGeometry: !0 }, { crossDomain: !0 }).then(function (e) { var o = e.data; Q.a.geoJSON(o).bindPopup(function (e) { return e.feature.properties.description }).addTo(t.map) }) } }, { key: 'removeOtherPoints', value: function () { for (var e = 0, t = this.waypointsMarker.going.length; e < t; e++)this.waypointsMarker.going[e].remove(); for (var o = 0, a = this.waypointsMarker.return.length; o < a; o++)this.waypointsMarker.return[o].remove() } }, { key: '_getId', value: function () { return btoa(Math.floor(100 * Math.random() + Date.now()) + '') } }, { key: '_rollback', value: function () { if (this._resultRoute && this._resultRoute.going && this._resultRoute.going.geoJSON && this._resultRoute.return && this._resultRoute.return.geoJSON) { this.waypointsCoordinates = { going: [], return: [] }, this._draggedPoints = { going: [], return: [] }; var e = this; this._resultRoute.going.parametros.outrosPontos.forEach(function (t) { 'drag' === t.type ? e._draggedPoints.going.push({ lat: t.lat, lng: t.lng, type: t.type, _id: t._id }) : e.waypointsCoordinates.going.push({ lat: t.lat, lng: t.lng, type: 'parada' === t.type ? 'paradaIda' : t.type, _id: t._id }) }), this._resultRoute.return.parametros.outrosPontos.forEach(function (t) { 'drag' === t.type ? e._draggedPoints.return.push({ lat: t.lat, lng: t.lng, type: t.type, _id: t._id }) : e.waypointsCoordinates.return.push({ lat: t.lat, lng: t.lng, type: 'parada' === t.type ? 'paradaVolta' : t.type, _id: t._id }) }), this.originCoordinates = this._resultRoute.going.parametros.pontoDeOrigem, this.destinationCoordinates = this._resultRoute.going.parametros.pontoDeDestinoFinal, this._removeRoutes(), this._buildRouteFeatures(this._resultRoute.going.geoJSON, 'going'), this._buildRouteFeatures(this._resultRoute.return.geoJSON, 'return', { color: 'red' }), this.insertOriginPoint(this.originCoordinates.lat, this.originCoordinates.lng), this.insertDestinationPoint(this.destinationCoordinates.lat, this.destinationCoordinates.lng) } } }, { key: '_removeOriginDestinationPoints', value: function () { this.originMarker && this.originMarker.remove(), this.destinationMarker && this.destinationMarker.remove() } }, { key: '_removeRoutes', value: function () { this.patchLines.going.forEach(function (e) { e.remove() }), this.patchLines.return.forEach(function (e) { e.remove() }), this.waypointsMarker.going.forEach(function (e) { e.remove() }), this.waypointsMarker.return.forEach(function (e) { e.remove() }), this.waypointsMarker = { going: [], return: [] }, this.patchLines = { going: [], return: [] } } }, { key: '_onClickMap', value: function (e) { var t = e.latlng, o = [], a = this, n; if (_e && _e.remove(), _e = oe.a.createMarkerWithPopup([t.lat, t.lng], 'temp', { icon: this._config.simbology.temp }), this.originCoordinates && this.destinationCoordinates) { _e.on('dragend', function (t) { var e = t.target, o = e.getLatLng(); a.map.panTo(new Q.a.LatLng(o.lat, o.lng)) }); var r = function (e) { var t = _e.getLatLng(); _e.remove(); var o = []; o.push(a.insertOtherPoint(t.lat, t.lng, e, !1)), 'embarque' === e ? o.push(a.insertOtherPoint(t.lat, t.lng, 'desembarque', !1)) : 'desembarque' === e && o.push(a.insertOtherPoint(t.lat, t.lng, 'embarque', !1)), a._recalculateRoute({ waypoints: o }).then(function () { _e.getPopup().remove() }) }, i = ['paradaIda', 'embarque', 'intermediario', 'desembarque', 'paradaVolta']; for (n in i) o.push(ae.a.create('button', { innerHTML: this._config.simbology[i[n]].buttonLabel, className: 'm-btn m-btn', style: { background: this._config.simbology[i[n]].color }, onClick: r.bind(this, i[n]) })) } else o.push(ae.a.create('button', { innerHTML: this._config.simbology.origem.buttonLabel, className: 'm-btn m-btn', style: { background: this._config.simbology.origem.color }, onClick: function () { var e = _e.getLatLng(); _e.remove(), a.insertOriginPoint(e.lat, e.lng), a.originCoordinates && a.destinationCoordinates && a._recalculateRoute() } })), o.push(ae.a.create('button', { innerHTML: this._config.simbology.destinoFinal.buttonLabel, className: 'm-btn m-btn', style: { background: this._config.simbology.destinoFinal.color }, onClick: function () { var e = _e.getLatLng(); _e.remove(), a.insertDestinationPoint(e.lat, e.lng), a.originCoordinates && a.destinationCoordinates && a._recalculateRoute() } })); _e.addTo(this.map); var l = ae.a.create('div', { className: 'popup-content-stop', children: o }), s = _e.bindPopup(l); s.on('popupclose', function () { _e.remove() }), s.openPopup() } }, { key: '_recalculateRoute', value: function (e) { if (this.originCoordinates && this.destinationCoordinates) { var t = this._msgHelper.loading(), o = this._getWaypointsRequest(e), a = Object.assign({}, e); a.waypoints = o.goingWaypoints; var n = Object.assign({}, e); n.origin = this.destinationCoordinates, n.destination = this.originCoordinates, n.waypoints = o.returnWaypoints, this._removeRoutes(), this._hasRouteError = !1, null !== this._lastRequest.going && this._lastRequest.going.cancelRequest(), null !== this._lastRequest.return && this._lastRequest.return.cancelRequest(); var r = this; this._lastRequest.going = this._sendRouteRequest('/v1/api/SLV/directions', a); var i = this._lastRequest.going.request.then(function (e) { if (r._removeDraggedRoutes('going'), !r._hasRouteError && e) { r.waypointsCoordinates.going = []; for (var t = 0, o = e.requestParams.waypoints.length, a; t < o; t++)a = e.requestParams.waypoints[t], 'parada' === a.type ? r.waypointsCoordinates.going.push({ lat: a.lat, lng: a.lng, type: 'paradaIda', _id: a._id }) : 'drag' !== a.type && r.waypointsCoordinates.going.push(a); r.originCoordinates = e.requestParams.origin, r.destinationCoordinates = e.requestParams.destination; var n = { features: e.response.data }; return r._buildRouteFeatures(n, 'going'), n } }); this._lastRequest.return = this._sendRouteRequest('/v1/api/SLV/directions', n); var l = this._lastRequest.return.request.then(function (e) { if (r._removeDraggedRoutes('return'), !r._hasRouteError && e) { r.waypointsCoordinates.return = []; for (var t = 0, o = e.requestParams.waypoints.length, a; t < o; t++)a = e.requestParams.waypoints[t], 'parada' === a.type ? r.waypointsCoordinates.return.push({ lat: a.lat, lng: a.lng, type: 'paradaVolta', _id: a._id }) : 'drag' !== a.type && r.waypointsCoordinates.return.push(a); var n = { features: e.response.data }; return r._buildRouteFeatures(n, 'return', { color: 'red' }), n } }); return Promise.all([i, l]).then(function (e) { if (e[0] && e[1]) return r.insertOriginPoint(r.originCoordinates.lat, r.originCoordinates.lng), r.insertDestinationPoint(r.destinationCoordinates.lat, r.destinationCoordinates.lng), r.originCoordinates.type = 'origem', r.destinationCoordinates.type = 'destinoFinal', t && t.remove(), r._resultRoute = { going: { geoJSON: e[0], parametros: { outrosPontos: ee()(r.waypointsCoordinates.going.concat(r._draggedPoints.going)), pontoDeOrigem: ee()(r.originCoordinates), pontoDeDestinoFinal: ee()(r.destinationCoordinates) } }, return: { geoJSON: e[1], parametros: { outrosPontos: ee()(r.waypointsCoordinates.return.concat(r._draggedPoints.return)), pontoDeOrigem: ee()(r.destinationCoordinates), pontoDeDestinoFinal: ee()(r.originCoordinates) } } }, r.emit(ue.CHANGE_ROUTE, r._resultRoute), r._resultRoute }).catch(function (e) { r._hasRouteError = !0; try { var o = e.message; e.response && e.response.data && e.response.data.descricao && (o = e.response.data.descricao), r._msgHelper.error(o) } catch (e) { r._msgHelper.error(e.message) } finally { t && t.remove(), r._rollback() } return Promise.reject(e) }) } } }, { key: '_buildDragRoute', value: function (e, t) { if (this.originCoordinates && this.destinationCoordinates) { var o = this._getWaypointsRequest(t), a = Object.assign({}, t); a.waypoints = o[e + 'Waypoints'], this._lastRequest[e] && null !== this._lastRequest[e].cancelRequest && this._lastRequest[e].cancelRequest(), 'return' === e && (a.origin = { lat: this.destinationCoordinates.lat, lng: this.destinationCoordinates.lng }, a.destination = { lat: this.originCoordinates.lat, lng: this.originCoordinates.lng }); var n = this; return this._lastRequest[e] = this._sendDragRouteRequest('/v1/api/SLV/directions', a), this._lastRequest[e].request.then(function (t) { if (n._removeDraggedRoutes(e), !n._hasRouteError && t) { var o = { features: t.response.data }; return n._buildDragRouteFeatures(o, e, { color: 'going' === e ? '#9999d3' : '#d39999' }), { geoJSON: o, parametros: { outrosPontos: ee()(n.waypointsCoordinates.return), pontoDeOrigem: ee()(n.destinationCoordinates), pontoDeDestinoFinal: ee()(n.originCoordinates) } } } }), this._lastRequest[e].request } } }, { key: '_getWaypointsRequest', value: function (e) { var t = this.waypointsCoordinates.going.concat(this._draggedPoints.going), o = this.waypointsCoordinates.return.concat(this._draggedPoints.return), a = ['intermediario', 'embarque', 'paradaIda', 'dragIda']; if (e && e.waypoints instanceof Array) for (var n = 0, r = e.waypoints.length, i; n < r; n++)i = e.waypoints[n], 0 <= a.indexOf(i.type) ? t.push(i) : o.push(i); var l = function (e) { return 'paradaIda' === e.type || 'paradaVolta' === e.type ? { lat: e.lat, lng: e.lng, type: 'parada', _id: e._id } : 'dragIda' === e.type || 'dragVolta' === e.type ? { lat: e.lat, lng: e.lng, type: 'drag', _id: e._id } : { lat: e.lat, lng: e.lng, type: e.type, _id: e._id } }; return { goingWaypoints: t.map(l), returnWaypoints: o.map(l) } } }, { key: '_buildRouteFeatures', value: function (e, t) { var o = this, a = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null, n = 0; this._removeOriginDestinationPoints(); for (var r = function (e) { var t = e.target, a = e.latlng; o._dragMarker.setLatLng(a); var n = 0 <= o.patchLines.going.indexOf(t) ? 'going' : 'return'; o._buildDragRoute(n, { waypoints: [{ lat: a.lat, lng: a.lng, type: 'going' == n ? 'dragIda' : 'dragVolta' }] }) }, i = null; n < e.features.length;)i = this._plotRoute(e.features[n], a, r, function (e) { var t = e.target, a = e.latlng; o._dragMarker.removeFrom(o.map), o._dragMarker = null; var n = 0 <= o.patchLines.going.indexOf(t) ? 'going' : 'return'; o._draggedPoints[n].push({ lat: a.lat, lng: a.lng, type: 'drag', _id: o._getId() }), o._recalculateRoute() }), this.patchLines[t].push(i.stroke), this.patchLines[t].push(i.fill), n += 1; for (n in this.waypointsCoordinates[t]) this._buildWayPoint(this.waypointsCoordinates[t][n]); for (n in this._draggedPoints[t]) this._buildWayPoint(this._draggedPoints[t][n]) } }, { key: '_buildDragRouteFeatures', value: function (e, t) { for (var o = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null, a = 0, n = null; a < e.features.length;)n = this._plotRoute(e.features[a], o, t), n.fill.bringToBack(), n.stroke.bringToBack(), this._draggedRoutes[t].push(n.stroke), this._draggedRoutes[t].push(n.fill), a += 1 } }, { key: '_removeDraggedRoutes', value: function (e) { for (; this._draggedRoutes[e].length;)this._draggedRoutes[e][0].remove(), this._draggedRoutes[e].splice(0, 1) } }, { key: '_buildWayPoint', value: function (e) { var t = oe.a.createMarkerWithPopup([e.lat, e.lng], e.type, { hasPopup: !0, leaflet: { className: 'icon-' + e.type }, icon: this._config.simbology[e.type] || this._config.simbology.temp }, { properties: e }), o = this; t.on('drag', function (t) { var a = { lat: e.lat, lng: e.lng }, n = 'drag' === e.type ? o._draggedPoints : o.waypointsCoordinates, i, r; for (var l in n) for (var s = 0, d = n[l].length; s < d; s++)if (n[l][s]._id && n[l][s]._id === e._id) { n[l][s].lat = t.latlng.lat, n[l][s].lng = t.latlng.lng, i = l, r = n[l][s]; break } o._buildDragRoute(i), r.lat = a.lat, r.lng = a.lng }), t.on('dragend', function (t) { var a = t.target, n = a.getLatLng(); switch (o.map.panTo(new Q.a.LatLng(n.lat, n.lng)), e.type) { case 'origem': o.insertOriginPoint(n.lat, n.lng), o.rebuildRoute(); break; case 'destinoFinal': o.insertDestinationPoint(n.lat, n.lng), o.rebuildRoute(); break; default: var r = !1, l = 'drag' === e.type ? o._draggedPoints : o.waypointsCoordinates; for (var s in l.going) { var i = l.going[s]; if (e._id === i._id) { i.lat = n.lat, i.lng = n.lng, o.rebuildRoute(), r = !0; break } } if (!r) for (var d in l.return) { var p = l.return[d]; if (e._id === p._id) { p.lat = n.lat, p.lng = n.lng, o.rebuildRoute(), r = !0; break } } } }); var a = e._id, n; 'embarque' === e.type || 'paradaIda' === e.type || 'intermediario' === e.type ? this.waypointsMarker.going.push(t) : this.waypointsMarker.return.push(t), t.addTo(this.map); var r = []; r.push(ae.a.create('b', { innerHTML: te.a[e.type], style: { marginBottom: '10px' } })), r.push(ae.a.create('button', { innerHTML: te.a.L0002, className: 'm-btn m-btn-secondary', onClick: function (t) { if (t) { t.remove(); var r = !1; if ('drag' === e.type) { for (n in o._draggedPoints.going) { var l = o._draggedPoints.going[n]; if (l._id && l._id === a) { o._draggedPoints.going.splice(+n, 1), r = !0; break } } if (!r) for (n in o._draggedPoints.return) { var s = o._draggedPoints.return[n]; if (s._id && s._id === a) { o._draggedPoints.return.splice(+n, 1), r = !0; break } } } else { for (n in o.waypointsCoordinates.going) { var d = o.waypointsCoordinates.going[n]; if (d._id && d._id === a) { o.waypointsCoordinates.going.splice(+n, 1), r = !0; break } } if (!r) for (n in o.waypointsCoordinates.return) { var p = o.waypointsCoordinates.return[n]; if (p._id && p._id === a) { o.waypointsCoordinates.return.splice(+n, 1), r = !0; break } } } o._recalculateRoute() } }.bind(this, t) })); var i = ae.a.create('div', { className: 'popup-content-stop', children: r }); t.bindPopup(i) } }, { key: 'clear', value: function () { d(c(t.prototype), 'clear', this).call(this), this.originMarker && (this.originMarker.remove(), this.originCoordinates = null), this.destinationMarker && (this.destinationMarker.remove(), this.destinationCoordinates = null), _e && _e.remove(), this.waypointsMarker.return.length && (this.waypointsMarker.return.forEach(function (e) { e.remove() }), this.waypointsMarker.return = [], this.waypointsCoordinates.return = []), this.waypointsMarker.going.length && (this.waypointsMarker.going.forEach(function (e) { e.remove() }), this.waypointsMarker.going = [], this.waypointsCoordinates.going = []) } }]), t }(ne.a), _e; window.Mapa = me, t.a = me }, function (e, t, o) { var n = o(28), r = o(41); e.exports = function (e) { return function (t, o) { var d = r(t) + '', s = n(o), i = d.length, l, a; return 0 > s || s >= i ? e ? '' : void 0 : (l = d.charCodeAt(s), 55296 > l || 56319 < l || s + 1 === i || 56320 > (a = d.charCodeAt(s + 1)) || 57343 < a ? e ? d.charAt(s) : l : e ? d.slice(s, s + 2) : (l - 55296 << 10) + (a - 56320) + 65536) } } }, function (e, t, o) { 'use strict'; var a = o(26), n = o(66), r = o(50), i = o(25), l = o(62), s = Object.assign; e.exports = !s || o(8)(function () { var e = {}, t = {}, o = Symbol(), a = 'abcdefghijklmnopqrst'; return e[o] = 7, a.split('').forEach(function (e) { t[e] = e }), 7 != s({}, e)[o] || Object.keys(s({}, t)).join('') != a }) ? function (e) { for (var t = i(e), o = arguments.length, s = 1, d = n.f, p = r.f; o > s;)for (var c = l(arguments[s++]), g = d ? a(c).concat(d(c)) : a(c), u = g.length, m = 0, _; u > m;)p.call(c, _ = g[m++]) && (t[_] = c[_]); return t } : s }, function (e, t, o) { var a = o(0); a(a.S, 'Date', { now: function () { return new Date().getTime() } }) }, function (e, t, o) { 'use strict'; var a = o(39), n = o(5), r = o(97), i = [].slice, l = {}, s = function (e, t, o) { if (!(t in l)) { for (var a = [], n = 0; n < t; n++)a[n] = 'a[' + n + ']'; l[t] = Function('F,a', 'return new F(' + a.join(',') + ')') } return l[t](e, o) }; e.exports = Function.bind || function (e) { var t = a(this), o = i.call(arguments, 1), l = function () { var a = o.concat(i.call(arguments)); return this instanceof l ? s(t, a.length, a) : r(t, a, e) }; return n(t.prototype) && (l.prototype = t.prototype), l } }, function (e, t, o) { var a = o(5), n = o(90).set; e.exports = function (e, t, o) { var r = t.constructor, i; return r !== o && 'function' == typeof r && (i = r.prototype) !== o.prototype && a(i) && n && n(e, i), e } }, function (e, t, o) { var a = o(0), n = o(41), r = o(8), i = o(151), l = '[' + i + ']', s = '\u200B\x85', d = RegExp('^' + l + l + '*'), p = RegExp(l + l + '*$'), c = function (e, t, o) { var n = {}, l = r(function () { return !!i[e]() || s[e]() != s }), d = n[e] = l ? t(g) : i[e]; o && (n[o] = d), a(a.P + a.F * l, 'String', n) }, g = c.trim = function (e, t) { return e = n(e) + '', 1 & t && (e = e.replace(d, '')), 2 & t && (e = e.replace(p, '')), e }; e.exports = c }, function (e) { e.exports = '\t\n\x0B\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF' }, function (e, t, o) { var a = o(5), n = o(24), r = o(2)('match'); e.exports = function (e) { var t; return a(e) && ((t = e[r]) === void 0 ? 'RegExp' == n(e) : !!t) } }, function (e, t, o) { var a = o(0), n = o(20), r = o(8); e.exports = function (e, t) { var o = (n.Object || {})[e] || Object[e], i = {}; i[e] = t(o), a(a.S + a.F * r(function () { o(1) }), 'Object', i) } }, function (e, t, o) { var a = o(155); 'string' == typeof a && (a = [[e.i, a, '']]); var n = { hmr: !0 }, r; n.transform = r; o(78)(a, n); a.locals && (e.exports = a.locals), !1 }, function (e, t, o) { t = e.exports = o(77)(void 0), t.push([e.i, 'body {\n  padding: 0;\n  margin: 0;\n}\n\n.message-helper {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  transition: 0.3s;\n  z-index: 10000;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-end;\n  pointer-events: none; }\n  .message-helper.loading {\n    pointer-events: auto; }\n  .message-helper .loading {\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    background: rgba(255, 255, 255, 0.7);\n    display: flex;\n    align-content: center;\n    position: absolute;\n    align-items: center;\n    justify-content: center;\n    transition: 0.3s;\n    opacity: 0; }\n    .message-helper .loading.show {\n      opacity: 1; }\n    .message-helper .loading:before {\n      content: \'Carregando...\';\n      font-size: 24px;\n      font-weight: bold; }\n  .message-helper .message {\n    text-align: center;\n    padding: 10px;\n    border-radius: 5px;\n    border: 1px solid #ddd;\n    transition: 0.3s;\n    opacity: 0;\n    max-width: 250px;\n    min-width: 100px;\n    max-height: 100px;\n    margin: 0 10px 10px 0; }\n    .message-helper .message.show {\n      opacity: 0.8; }\n    .message-helper .message.alert {\n      background: #000;\n      color: #fff; }\n    .message-helper .message.info {\n      background: #069;\n      color: #fff; }\n    .message-helper .message.warn {\n      background: #d9d000;\n      color: #000; }\n    .message-helper .message.error {\n      background: #d93c00;\n      color: #000; }\n\n.mapa .m-btn {\n  padding: 8px;\n  border-radius: 4px;\n  background: #eee;\n  border: 1px solid #ccc;\n  white-space: nowrap;\n  cursor: pointer; }\n  .mapa .m-btn:hover {\n    background: #fff; }\n  .mapa .m-btn.m-btn-primary {\n    background: #069;\n    color: #fff; }\n    .mapa .m-btn.m-btn-primary:hover {\n      background: #007fbc; }\n  .mapa .m-btn.m-btn-secondary {\n    background: #be0600;\n    color: #fff; }\n    .mapa .m-btn.m-btn-secondary:hover {\n      background: #cb0600; }\n\n.mapa .m-icon-override {\n  background: none;\n  border: 0; }\n\n.mapa .icon-temp,\n.mapa .icon-origem,\n.mapa .icon-parada,\n.mapa .icon-embarque,\n.mapa .icon-click,\n.mapa .icon-intermediario,\n.mapa .icon-destino-final {\n  border-radius: 50%;\n  border: 3px solid #000;\n  padding: 9px;\n  margin-top: -10px;\n  margin-left: -10px;\n  position: relative; }\n\n  .mapa .icon-temp:before,\n  .mapa .icon-origem:before,\n  .mapa .icon-parada:before,\n  .mapa .icon-embarque:before,\n  .mapa .icon-click:before,\n  .mapa .icon-intermediario:before,\n  .mapa .icon-destino-final:before {\n    content: \'\';\n    position: absolute;\n    left: 0;\n    bottom: -17px;\n    border-top: 9px solid #000;\n    border-bottom: 9px solid transparent;\n    border-left: 9px solid transparent;\n    border-right: 9px solid transparent; }\n\n.mapa .popup-content-stop {\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  text-align: center;\n  padding: 5px;\n  justify-content: space-around; }\n  .mapa .popup-content-stop button {\n    margin-bottom: 10px; }\n', '']) }, function (e) { e.exports = function (e) { var t = 'undefined' != typeof window && window.location; if (!t) throw new Error('fixUrls requires window.location'); if (!e || 'string' != typeof e) return e; var o = t.protocol + '//' + t.host, a = o + t.pathname.replace(/\/[^\/]*$/, '/'), n = e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function (e, t) { var n = t.trim().replace(/^"(.*)"$/, function (e, t) { return t }).replace(/^'(.*)'$/, function (e, t) { return t }); if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(n)) return e; var r; return r = 0 === n.indexOf('//') ? n : 0 === n.indexOf('/') ? o + n : a + n.replace(/^\.\//, ''), 'url(' + JSON.stringify(r) + ')' }); return n } }, function (e, t, o) { t = e.exports = o(77)(void 0), t.push([e.i, '/* required styles */\r\n\r\n.leaflet-pane,\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-tile-container,\r\n.leaflet-pane > svg,\r\n.leaflet-pane > canvas,\r\n.leaflet-zoom-box,\r\n.leaflet-image-layer,\r\n.leaflet-layer {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\t}\r\n.leaflet-container {\r\n\toverflow: hidden;\r\n\t}\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\t-webkit-user-select: none;\r\n\t   -moz-user-select: none;\r\n\t        user-select: none;\r\n\t  -webkit-user-drag: none;\r\n\t}\r\n/* Safari renders non-retina tile on retina better with this, but Chrome is worse */\r\n.leaflet-safari .leaflet-tile {\r\n\timage-rendering: -webkit-optimize-contrast;\r\n\t}\r\n/* hack that prevents hw layers "stretching" when loading new tiles */\r\n.leaflet-safari .leaflet-tile-container {\r\n\twidth: 1600px;\r\n\theight: 1600px;\r\n\t-webkit-transform-origin: 0 0;\r\n\t}\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\tdisplay: block;\r\n\t}\r\n/* .leaflet-container svg: reset svg max-width decleration shipped in Joomla! (joomla.org) 3.x */\r\n/* .leaflet-container img: map is broken in FF if you have max-width: 100% on tiles */\r\n.leaflet-container .leaflet-overlay-pane svg,\r\n.leaflet-container .leaflet-marker-pane img,\r\n.leaflet-container .leaflet-shadow-pane img,\r\n.leaflet-container .leaflet-tile-pane img,\r\n.leaflet-container img.leaflet-image-layer {\r\n\tmax-width: none !important;\r\n\t}\r\n\r\n.leaflet-container.leaflet-touch-zoom {\r\n\t-ms-touch-action: pan-x pan-y;\r\n\ttouch-action: pan-x pan-y;\r\n\t}\r\n.leaflet-container.leaflet-touch-drag {\r\n\t-ms-touch-action: pinch-zoom;\r\n\t}\r\n.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom {\r\n\t-ms-touch-action: none;\r\n\ttouch-action: none;\r\n}\r\n.leaflet-container {\r\n\t-webkit-tap-highlight-color: transparent;\r\n}\r\n.leaflet-container a {\r\n\t-webkit-tap-highlight-color: rgba(51, 181, 229, 0.4);\r\n}\r\n.leaflet-tile {\r\n\tfilter: inherit;\r\n\tvisibility: hidden;\r\n\t}\r\n.leaflet-tile-loaded {\r\n\tvisibility: inherit;\r\n\t}\r\n.leaflet-zoom-box {\r\n\twidth: 0;\r\n\theight: 0;\r\n\t-moz-box-sizing: border-box;\r\n\t     box-sizing: border-box;\r\n\tz-index: 800;\r\n\t}\r\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\r\n.leaflet-overlay-pane svg {\r\n\t-moz-user-select: none;\r\n\t}\r\n\r\n.leaflet-pane         { z-index: 400; }\r\n\r\n.leaflet-tile-pane    { z-index: 200; }\r\n.leaflet-overlay-pane { z-index: 400; }\r\n.leaflet-shadow-pane  { z-index: 500; }\r\n.leaflet-marker-pane  { z-index: 600; }\r\n.leaflet-tooltip-pane   { z-index: 650; }\r\n.leaflet-popup-pane   { z-index: 700; }\r\n\r\n.leaflet-map-pane canvas { z-index: 100; }\r\n.leaflet-map-pane svg    { z-index: 200; }\r\n\r\n.leaflet-vml-shape {\r\n\twidth: 1px;\r\n\theight: 1px;\r\n\t}\r\n.lvml {\r\n\tbehavior: url(#default#VML);\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\t}\r\n\r\n\r\n/* control positioning */\r\n\r\n.leaflet-control {\r\n\tposition: relative;\r\n\tz-index: 800;\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn\'t have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-top,\r\n.leaflet-bottom {\r\n\tposition: absolute;\r\n\tz-index: 1000;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-top {\r\n\ttop: 0;\r\n\t}\r\n.leaflet-right {\r\n\tright: 0;\r\n\t}\r\n.leaflet-bottom {\r\n\tbottom: 0;\r\n\t}\r\n.leaflet-left {\r\n\tleft: 0;\r\n\t}\r\n.leaflet-control {\r\n\tfloat: left;\r\n\tclear: both;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tfloat: right;\r\n\t}\r\n.leaflet-top .leaflet-control {\r\n\tmargin-top: 10px;\r\n\t}\r\n.leaflet-bottom .leaflet-control {\r\n\tmargin-bottom: 10px;\r\n\t}\r\n.leaflet-left .leaflet-control {\r\n\tmargin-left: 10px;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tmargin-right: 10px;\r\n\t}\r\n\r\n\r\n/* zoom and fade animations */\r\n\r\n.leaflet-fade-anim .leaflet-tile {\r\n\twill-change: opacity;\r\n\t}\r\n.leaflet-fade-anim .leaflet-popup {\r\n\topacity: 0;\r\n\t-webkit-transition: opacity 0.2s linear;\r\n\t   -moz-transition: opacity 0.2s linear;\r\n\t     -o-transition: opacity 0.2s linear;\r\n\t        transition: opacity 0.2s linear;\r\n\t}\r\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\r\n\topacity: 1;\r\n\t}\r\n.leaflet-zoom-animated {\r\n\t-webkit-transform-origin: 0 0;\r\n\t    -ms-transform-origin: 0 0;\r\n\t        transform-origin: 0 0;\r\n\t}\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\twill-change: transform;\r\n\t}\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t   -moz-transition:    -moz-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t     -o-transition:      -o-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t}\r\n.leaflet-zoom-anim .leaflet-tile,\r\n.leaflet-pan-anim .leaflet-tile {\r\n\t-webkit-transition: none;\r\n\t   -moz-transition: none;\r\n\t     -o-transition: none;\r\n\t        transition: none;\r\n\t}\r\n\r\n.leaflet-zoom-anim .leaflet-zoom-hide {\r\n\tvisibility: hidden;\r\n\t}\r\n\r\n\r\n/* cursors */\r\n\r\n.leaflet-interactive {\r\n\tcursor: pointer;\r\n\t}\r\n.leaflet-grab {\r\n\tcursor: -webkit-grab;\r\n\tcursor:    -moz-grab;\r\n\t}\r\n.leaflet-crosshair,\r\n.leaflet-crosshair .leaflet-interactive {\r\n\tcursor: crosshair;\r\n\t}\r\n.leaflet-popup-pane,\r\n.leaflet-control {\r\n\tcursor: auto;\r\n\t}\r\n.leaflet-dragging .leaflet-grab,\r\n.leaflet-dragging .leaflet-grab .leaflet-interactive,\r\n.leaflet-dragging .leaflet-marker-draggable {\r\n\tcursor: move;\r\n\tcursor: -webkit-grabbing;\r\n\tcursor:    -moz-grabbing;\r\n\t}\r\n\r\n/* marker & overlays interactivity */\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-image-layer,\r\n.leaflet-pane > svg path,\r\n.leaflet-tile-container {\r\n\tpointer-events: none;\r\n\t}\r\n\r\n.leaflet-marker-icon.leaflet-interactive,\r\n.leaflet-image-layer.leaflet-interactive,\r\n.leaflet-pane > svg path.leaflet-interactive {\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn\'t have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n\r\n/* visual tweaks */\r\n\r\n.leaflet-container {\r\n\tbackground: #ddd;\r\n\toutline: 0;\r\n\t}\r\n.leaflet-container a {\r\n\tcolor: #0078A8;\r\n\t}\r\n.leaflet-container a.leaflet-active {\r\n\toutline: 2px solid orange;\r\n\t}\r\n.leaflet-zoom-box {\r\n\tborder: 2px dotted #38f;\r\n\tbackground: rgba(255,255,255,0.5);\r\n\t}\r\n\r\n\r\n/* general typography */\r\n.leaflet-container {\r\n\tfont: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\r\n\t}\r\n\r\n\r\n/* general toolbar styles */\r\n\r\n.leaflet-bar {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n\tborder-radius: 4px;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #fff;\r\n\tborder-bottom: 1px solid #ccc;\r\n\twidth: 26px;\r\n\theight: 26px;\r\n\tline-height: 26px;\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\ttext-decoration: none;\r\n\tcolor: black;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-control-layers-toggle {\r\n\tbackground-position: 50% 50%;\r\n\tbackground-repeat: no-repeat;\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #f4f4f4;\r\n\t}\r\n.leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 4px;\r\n\tborder-top-right-radius: 4px;\r\n\t}\r\n.leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 4px;\r\n\tborder-bottom-right-radius: 4px;\r\n\tborder-bottom: none;\r\n\t}\r\n.leaflet-bar a.leaflet-disabled {\r\n\tcursor: default;\r\n\tbackground-color: #f4f4f4;\r\n\tcolor: #bbb;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-bar a {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n\t}\r\n.leaflet-touch .leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 2px;\r\n\tborder-top-right-radius: 2px;\r\n\t}\r\n.leaflet-touch .leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 2px;\r\n\tborder-bottom-right-radius: 2px;\r\n\t}\r\n\r\n/* zoom control */\r\n\r\n.leaflet-control-zoom-in,\r\n.leaflet-control-zoom-out {\r\n\tfont: bold 18px \'Lucida Console\', Monaco, monospace;\r\n\ttext-indent: 1px;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-zoom-in, .leaflet-touch .leaflet-control-zoom-out  {\r\n\tfont-size: 22px;\r\n\t}\r\n\r\n\r\n/* layers control */\r\n\r\n.leaflet-control-layers {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\r\n\tbackground: #fff;\r\n\tborder-radius: 5px;\r\n\t}\r\n.leaflet-control-layers-toggle {\r\n\tbackground-image: url(' + o(158) + ');\r\n\twidth: 36px;\r\n\theight: 36px;\r\n\t}\r\n.leaflet-retina .leaflet-control-layers-toggle {\r\n\tbackground-image: url(' + o(159) + ');\r\n\tbackground-size: 26px 26px;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers-toggle {\r\n\twidth: 44px;\r\n\theight: 44px;\r\n\t}\r\n.leaflet-control-layers .leaflet-control-layers-list,\r\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\r\n\tdisplay: none;\r\n\t}\r\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\r\n\tdisplay: block;\r\n\tposition: relative;\r\n\t}\r\n.leaflet-control-layers-expanded {\r\n\tpadding: 6px 10px 6px 6px;\r\n\tcolor: #333;\r\n\tbackground: #fff;\r\n\t}\r\n.leaflet-control-layers-scrollbar {\r\n\toverflow-y: scroll;\r\n\toverflow-x: hidden;\r\n\tpadding-right: 5px;\r\n\t}\r\n.leaflet-control-layers-selector {\r\n\tmargin-top: 2px;\r\n\tposition: relative;\r\n\ttop: 1px;\r\n\t}\r\n.leaflet-control-layers label {\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-control-layers-separator {\r\n\theight: 0;\r\n\tborder-top: 1px solid #ddd;\r\n\tmargin: 5px -10px 5px -6px;\r\n\t}\r\n\r\n/* Default icon URLs */\r\n.leaflet-default-icon-path {\r\n\tbackground-image: url(' + o(48) + ');\r\n\t}\r\n\r\n\r\n/* attribution and scale controls */\r\n\r\n.leaflet-container .leaflet-control-attribution {\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.7);\r\n\tmargin: 0;\r\n\t}\r\n.leaflet-control-attribution,\r\n.leaflet-control-scale-line {\r\n\tpadding: 0 5px;\r\n\tcolor: #333;\r\n\t}\r\n.leaflet-control-attribution a {\r\n\ttext-decoration: none;\r\n\t}\r\n.leaflet-control-attribution a:hover {\r\n\ttext-decoration: underline;\r\n\t}\r\n.leaflet-container .leaflet-control-attribution,\r\n.leaflet-container .leaflet-control-scale {\r\n\tfont-size: 11px;\r\n\t}\r\n.leaflet-left .leaflet-control-scale {\r\n\tmargin-left: 5px;\r\n\t}\r\n.leaflet-bottom .leaflet-control-scale {\r\n\tmargin-bottom: 5px;\r\n\t}\r\n.leaflet-control-scale-line {\r\n\tborder: 2px solid #777;\r\n\tborder-top: none;\r\n\tline-height: 1.1;\r\n\tpadding: 2px 5px 1px;\r\n\tfont-size: 11px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\t-moz-box-sizing: border-box;\r\n\t     box-sizing: border-box;\r\n\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.5);\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child) {\r\n\tborder-top: 2px solid #777;\r\n\tborder-bottom: none;\r\n\tmargin-top: -2px;\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\r\n\tborder-bottom: 2px solid #777;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-attribution,\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tbox-shadow: none;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tborder: 2px solid rgba(0,0,0,0.2);\r\n\tbackground-clip: padding-box;\r\n\t}\r\n\r\n\r\n/* popup */\r\n\r\n.leaflet-popup {\r\n\tposition: absolute;\r\n\ttext-align: center;\r\n\tmargin-bottom: 20px;\r\n\t}\r\n.leaflet-popup-content-wrapper {\r\n\tpadding: 1px;\r\n\ttext-align: left;\r\n\tborder-radius: 12px;\r\n\t}\r\n.leaflet-popup-content {\r\n\tmargin: 13px 19px;\r\n\tline-height: 1.4;\r\n\t}\r\n.leaflet-popup-content p {\r\n\tmargin: 18px 0;\r\n\t}\r\n.leaflet-popup-tip-container {\r\n\twidth: 40px;\r\n\theight: 20px;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tmargin-left: -20px;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-popup-tip {\r\n\twidth: 17px;\r\n\theight: 17px;\r\n\tpadding: 1px;\r\n\r\n\tmargin: -10px auto 0;\r\n\r\n\t-webkit-transform: rotate(45deg);\r\n\t   -moz-transform: rotate(45deg);\r\n\t    -ms-transform: rotate(45deg);\r\n\t     -o-transform: rotate(45deg);\r\n\t        transform: rotate(45deg);\r\n\t}\r\n.leaflet-popup-content-wrapper,\r\n.leaflet-popup-tip {\r\n\tbackground: white;\r\n\tcolor: #333;\r\n\tbox-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tpadding: 4px 4px 0 0;\r\n\tborder: none;\r\n\ttext-align: center;\r\n\twidth: 18px;\r\n\theight: 14px;\r\n\tfont: 16px/14px Tahoma, Verdana, sans-serif;\r\n\tcolor: #c3c3c3;\r\n\ttext-decoration: none;\r\n\tfont-weight: bold;\r\n\tbackground: transparent;\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button:hover {\r\n\tcolor: #999;\r\n\t}\r\n.leaflet-popup-scrolled {\r\n\toverflow: auto;\r\n\tborder-bottom: 1px solid #ddd;\r\n\tborder-top: 1px solid #ddd;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-popup-content-wrapper {\r\n\tzoom: 1;\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\twidth: 24px;\r\n\tmargin: 0 auto;\r\n\r\n\t-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";\r\n\tfilter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip-container {\r\n\tmargin-top: -1px;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-control-zoom,\r\n.leaflet-oldie .leaflet-control-layers,\r\n.leaflet-oldie .leaflet-popup-content-wrapper,\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\tborder: 1px solid #999;\r\n\t}\r\n\r\n\r\n/* div icon */\r\n\r\n.leaflet-div-icon {\r\n\tbackground: #fff;\r\n\tborder: 1px solid #666;\r\n\t}\r\n\r\n\r\n/* Tooltip */\r\n/* Base styles for the element that has a tooltip */\r\n.leaflet-tooltip {\r\n\tposition: absolute;\r\n\tpadding: 6px;\r\n\tbackground-color: #fff;\r\n\tborder: 1px solid #fff;\r\n\tborder-radius: 3px;\r\n\tcolor: #222;\r\n\twhite-space: nowrap;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\tuser-select: none;\r\n\tpointer-events: none;\r\n\tbox-shadow: 0 1px 3px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-tooltip.leaflet-clickable {\r\n\tcursor: pointer;\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-tooltip-top:before,\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\tposition: absolute;\r\n\tpointer-events: none;\r\n\tborder: 6px solid transparent;\r\n\tbackground: transparent;\r\n\tcontent: "";\r\n\t}\r\n\r\n/* Directions */\r\n\r\n.leaflet-tooltip-bottom {\r\n\tmargin-top: 6px;\r\n}\r\n.leaflet-tooltip-top {\r\n\tmargin-top: -6px;\r\n}\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-top:before {\r\n\tleft: 50%;\r\n\tmargin-left: -6px;\r\n\t}\r\n.leaflet-tooltip-top:before {\r\n\tbottom: 0;\r\n\tmargin-bottom: -12px;\r\n\tborder-top-color: #fff;\r\n\t}\r\n.leaflet-tooltip-bottom:before {\r\n\ttop: 0;\r\n\tmargin-top: -12px;\r\n\tmargin-left: -6px;\r\n\tborder-bottom-color: #fff;\r\n\t}\r\n.leaflet-tooltip-left {\r\n\tmargin-left: -6px;\r\n}\r\n.leaflet-tooltip-right {\r\n\tmargin-left: 6px;\r\n}\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\ttop: 50%;\r\n\tmargin-top: -6px;\r\n\t}\r\n.leaflet-tooltip-left:before {\r\n\tright: 0;\r\n\tmargin-right: -12px;\r\n\tborder-left-color: #fff;\r\n\t}\r\n.leaflet-tooltip-right:before {\r\n\tleft: 0;\r\n\tmargin-left: -12px;\r\n\tborder-right-color: #fff;\r\n\t}\r\n', '']) }, function (e) { e.exports = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC' }, function (e) { e.exports = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=' }, function (e, t, o) { o(107)('replace', 2, function (e, t, o) { return [function (a, n) { 'use strict'; var r = e(this), i = a == void 0 ? void 0 : a[t]; return i === void 0 ? o.call(r + '', a, n) : i.call(a, r, n) }, o] }) }, function (e, t, o) { e.exports = o(162) }, function (e, t, o) { 'use strict'; function a(e) { var t = new i(e), o = r(i.prototype.request, t); return n.extend(o, i.prototype, t), n.extend(o, t), o } var n = o(11), r = o(111), i = o(164), l = o(79), s = a(l); s.Axios = i, s.create = function (e) { return a(n.merge(l, e)) }, s.Cancel = o(115), s.CancelToken = o(178), s.isCancel = o(114), s.all = function (e) { return Promise.all(e) }, s.spread = o(179), e.exports = s, e.exports.default = s }, function (e) { function t(e) { return !!e.constructor && 'function' == typeof e.constructor.isBuffer && e.constructor.isBuffer(e) } function o(e) { return 'function' == typeof e.readFloatLE && 'function' == typeof e.slice && t(e.slice(0, 0)) } e.exports = function (e) { return null != e && (t(e) || o(e) || !!e._isBuffer) } }, function (e, t, o) { 'use strict'; function a(e) { this.defaults = e, this.interceptors = { request: new i, response: new i } } var n = o(79), r = o(11), i = o(173), l = o(174); a.prototype.request = function (e) { 'string' == typeof e && (e = r.merge({ url: arguments[0] }, arguments[1])), e = r.merge(n, this.defaults, { method: 'get' }, e), e.method = e.method.toLowerCase(); var t = [l, void 0], o = Promise.resolve(e); for (this.interceptors.request.forEach(function (e) { t.unshift(e.fulfilled, e.rejected) }), this.interceptors.response.forEach(function (e) { t.push(e.fulfilled, e.rejected) }); t.length;)o = o.then(t.shift(), t.shift()); return o }, r.forEach(['delete', 'get', 'head', 'options'], function (e) { a.prototype[e] = function (t, o) { return this.request(r.merge(o || {}, { method: e, url: t })) } }), r.forEach(['post', 'put', 'patch'], function (e) { a.prototype[e] = function (t, o, a) { return this.request(r.merge(a || {}, { method: e, url: t, data: o })) } }), e.exports = a }, function (e, t, o) { 'use strict'; var a = o(11); e.exports = function (e, t) { a.forEach(e, function (o, a) { a !== t && a.toUpperCase() === t.toUpperCase() && (e[t] = o, delete e[a]) }) } }, function (e, t, o) { 'use strict'; var a = o(113); e.exports = function (e, t, o) { var n = o.config.validateStatus; o.status && n && !n(o.status) ? t(a('Request failed with status code ' + o.status, o.config, null, o.request, o)) : e(o) } }, function (e) { 'use strict'; e.exports = function (e, t, o, a, n) { return e.config = t, o && (e.code = o), e.request = a, e.response = n, e } }, function (e, t, o) { 'use strict'; function a(e) { return encodeURIComponent(e).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']') } var n = o(11); e.exports = function (e, t, o) { if (!t) return e; var r; if (o) r = o(t); else if (n.isURLSearchParams(t)) r = t.toString(); else { var i = []; n.forEach(t, function (e, t) { null === e || 'undefined' == typeof e || (n.isArray(e) && (t += '[]'), !n.isArray(e) && (e = [e]), n.forEach(e, function (e) { n.isDate(e) ? e = e.toISOString() : n.isObject(e) && (e = JSON.stringify(e)), i.push(a(t) + '=' + a(e)) })) }), r = i.join('&') } return r && (e += (-1 === e.indexOf('?') ? '?' : '&') + r), e } }, function (e, t, o) { 'use strict'; var a = o(11), n = ['age', 'authorization', 'content-length', 'content-type', 'etag', 'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since', 'last-modified', 'location', 'max-forwards', 'proxy-authorization', 'referer', 'retry-after', 'user-agent']; e.exports = function (e) { var t = {}, o, r, l; return e ? (a.forEach(e.split('\n'), function (e) { if (l = e.indexOf(':'), o = a.trim(e.substr(0, l)).toLowerCase(), r = a.trim(e.substr(l + 1)), o) { if (t[o] && 0 <= n.indexOf(o)) return; t[o] = 'set-cookie' === o ? (t[o] ? t[o] : []).concat([r]) : t[o] ? t[o] + ', ' + r : r } }), t) : t } }, function (e, t, o) { 'use strict'; var a = o(11); e.exports = a.isStandardBrowserEnv() ? function () { function e(e) { var a = e; return t && (o.setAttribute('href', a), a = o.href), o.setAttribute('href', a), { href: o.href, protocol: o.protocol ? o.protocol.replace(/:$/, '') : '', host: o.host, search: o.search ? o.search.replace(/^\?/, '') : '', hash: o.hash ? o.hash.replace(/^#/, '') : '', hostname: o.hostname, port: o.port, pathname: '/' === o.pathname.charAt(0) ? o.pathname : '/' + o.pathname } } var t = /(msie|trident)/i.test(navigator.userAgent), o = document.createElement('a'), n; return n = e(window.location.href), function (t) { var o = a.isString(t) ? e(t) : t; return o.protocol === n.protocol && o.host === n.host } }() : function () { return function () { return !0 } }() }, function (e) { 'use strict'; function t() { this.message = 'String contains an invalid character' } t.prototype = new Error, t.prototype.code = 5, t.prototype.name = 'InvalidCharacterError', e.exports = function (e) { for (var o = e + '', a = '', n = 0, r = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=', i, l; o.charAt(0 | n) || (r = '=', n % 1); a += r.charAt(63 & i >> 8 - 8 * (n % 1))) { if (l = o.charCodeAt(n += 3 / 4), 255 < l) throw new t; i = i << 8 | l } return a } }, function (e, t, o) { 'use strict'; var a = o(11); e.exports = a.isStandardBrowserEnv() ? function () { return { write: function (e, t, o, n, r, i) { var l = []; l.push(e + '=' + encodeURIComponent(t)), a.isNumber(o) && l.push('expires=' + new Date(o).toGMTString()), a.isString(n) && l.push('path=' + n), a.isString(r) && l.push('domain=' + r), !0 === i && l.push('secure'), document.cookie = l.join('; ') }, read: function (e) { var t = document.cookie.match(new RegExp('(^|;\\s*)(' + e + ')=([^;]*)')); return t ? decodeURIComponent(t[3]) : null }, remove: function (e) { this.write(e, '', Date.now() - 8.64e7) } } }() : function () { return { write: function () { }, read: function () { return null }, remove: function () { } } }() }, function (e, t, o) { 'use strict'; function a() { this.handlers = [] } var n = o(11); a.prototype.use = function (e, t) { return this.handlers.push({ fulfilled: e, rejected: t }), this.handlers.length - 1 }, a.prototype.eject = function (e) { this.handlers[e] && (this.handlers[e] = null) }, a.prototype.forEach = function (e) { n.forEach(this.handlers, function (t) { null !== t && e(t) }) }, e.exports = a }, function (e, t, o) { 'use strict'; function a(e) { e.cancelToken && e.cancelToken.throwIfRequested() } var n = o(11), r = o(175), i = o(114), l = o(79), s = o(176), d = o(177); e.exports = function (e) { a(e), e.baseURL && !s(e.url) && (e.url = d(e.baseURL, e.url)), e.headers = e.headers || {}, e.data = r(e.data, e.headers, e.transformRequest), e.headers = n.merge(e.headers.common || {}, e.headers[e.method] || {}, e.headers || {}), n.forEach(['delete', 'get', 'head', 'post', 'put', 'patch', 'common'], function (t) { delete e.headers[t] }); var t = e.adapter || l.adapter; return t(e).then(function (t) { return a(e), t.data = r(t.data, t.headers, e.transformResponse), t }, function (t) { return i(t) || (a(e), t && t.response && (t.response.data = r(t.response.data, t.response.headers, e.transformResponse))), Promise.reject(t) }) } }, function (e, t, o) { 'use strict'; var a = o(11); e.exports = function (e, t, o) { return a.forEach(o, function (o) { e = o(e, t) }), e } }, function (e) { 'use strict'; e.exports = function (e) { return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e) } }, function (e) { 'use strict'; e.exports = function (e, t) { return t ? e.replace(/\/+$/, '') + '/' + t.replace(/^\/+/, '') : e } }, function (e, t, o) { 'use strict'; function a(e) { if ('function' != typeof e) throw new TypeError('executor must be a function.'); var t; this.promise = new Promise(function (e) { t = e }); var o = this; e(function (e) { o.reason || (o.reason = new n(e), t(o.reason)) }) } var n = o(115); a.prototype.throwIfRequested = function () { if (this.reason) throw this.reason }, a.source = function () { var e = new a(function (e) { t = e }), t; return { token: e, cancel: t } }, e.exports = a }, function (e) { 'use strict'; e.exports = function (e) { return function (t) { return e.apply(null, t) } } }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function r(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function i(e, t, o) { return t && r(e.prototype, t), o && r(e, o), e } function l(e, t) { return t && ('object' === a(t) || 'function' == typeof t) ? t : s(e) } function s(e) { if (void 0 === e) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called'); return e } function d(e, t, o) { return d = 'undefined' != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, o) { var a = p(e, t); if (a) { var n = Object.getOwnPropertyDescriptor(a, t); return n.get ? n.get.call(o) : n.value } }, d(e, t, o || e) } function p(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && (e = c(e), null !== e);); return e } function c(e) { return c = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, c(e) } function g(e, t) { if ('function' != typeof t && null !== t) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && u(e, t) } function u(e, t) { return u = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, u(e, t) } var m = o(4), _ = o.n(m), f = o(6), y = o.n(f), h = o(3), b = o.n(h), v = o(35), x = o.n(v), k = o(13), w = o.n(k), C = o(14), P = o.n(C), I = o(33), T = o.n(I), A = o(34), E = o.n(A), M = o(36), S = o.n(M), D = o(31), O = o.n(D), R = o(104), z = o.n(R), N = o(18), B = o.n(N), Z = o(17), j = o.n(Z), U = o(47), G = o(58), H = o(109), F = o(55), Y = o.n(F), W = o(56), V = o.n(W), q = o(48), K = o.n(q), J = o(57), X = o.n(J), Q = o(29); delete j.a.Icon.Default.prototype._getIconUrl, j.a.Icon.Default.mergeOptions({ iconRetinaUrl: V.a, iconUrl: K.a, shadowUrl: X.a }); var $ = function (e) { function t(e, o) { var a; return n(this, t), a = l(this, c(t).call(this, e, o)), a.firstCoordinateLine = null, a._linesMouse = null, a._listenerMouse = null, a._lineClicked = !1, a._httpHelper = new G.a(o), a._lastCircle = null, a._markerRadius = null, a._markerInfo = null, a._linesOnMap = [], a } return g(t, e), i(t, [{ key: 'buildMap', value: function (e) { var t = this; this.map = j.a.map(this.rootNode).setView([this._config.centerMap.lat, this._config.centerMap.lng], this._config.centerMap.zoom), j.a.tileLayer(this._config.basemap.url, this._config.basemap.options).addTo(this.map), this.map.on('click', this._onClickMap.bind(this)), this.map.on('mousemove', function (e) { return t.emit('mousemove', e) }), this._setMapListeners(!1), 'function' == typeof e && this.map.whenReady(e) } }, { key: '_onClickMap', value: function (e) { this._lineClicked && null === this.firstCoordinateLine || this.emit('click', e), this._lineClicked = !1 } }, { key: 'getCitiesWithinInfluenceRadius', value: function (e, t, o) { var a = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : {}, n = a.circle ? a.circle : {}, r = a.marker ? a.marker : 'pinOnClick'; if ('string' == typeof r && (r = this._config.simbology[r]), !(r instanceof Q.a)) throw new Error('Tipo de marcador invalido \'' + a.marker + '\''); null !== this._lastCircle && this._lastCircle.removeFrom(this.map), null !== this._markerRadius && this._markerRadius.removeFrom(this.map), n.radius = 1e3 * t; var i = j.a.circle(o, n); i.addTo(this.map), this._lastCircle = i; var l = U.a.createMarker(o, { icon: r }); return l.addTo(this.map), this._markerRadius = l, this._httpHelper.post('/v1/api/SGA/getCitiesWithinInfluenceRadius', { type: e, radius: parseInt(t), lat: parseFloat(o[0]), lon: parseFloat(o[1]) }).then(function (e) { return { result: e, circle: i, marker: l } }).catch(function (e) { return Promise.reject(e) }) } }, { key: 'getPointInfo', value: function (e) { var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'pinOnClick', o = t; if ('string' == typeof o && (o = this._config.simbology[o]), !(o instanceof Q.a)) throw new Error('Tipo de marcador invalido \'' + t + '\''); null !== this._markerInfo && this._markerInfo.removeFrom(this.map), this._markerInfo = U.a.createMarker(e, { icon: o }), this._markerInfo.addTo(this.map); var a = this; return this._httpHelper.post('/v1/api/getPointInfo', { lat: parseFloat(e[0]), lon: parseFloat(e[1]) }).then(function (e) { return { result: e, marker: a._markerInfo } }) } }, { key: 'drawLine', value: function (e, t) { 'object' !== a(t) && (t = {}), 'string' != typeof t.dashArray && (t.dashArray = '6, 12'); var o = U.a.createLine(e, t); o.stroke.addTo(this.map), o.fill.addTo(this.map); var n = this; return o.fill.on('click', function () { n._lineClicked = !0 }), this._linesOnMap.push(o.stroke), this._linesOnMap.push(o.fill), o } }, { key: 'addFirstPointLine', value: function (e, t) { this.firstCoordinateLine = e; var o = this; this._listenerMouse = this.on('mousemove', function (e) { o._linesMouse && (o._linesMouse.fill.remove(), o._linesMouse.stroke.remove()), o._linesMouse = o.drawLine([o.firstCoordinateLine, [e.latlng.lat, e.latlng.lng]], t) }) } }, { key: 'addSecondPointLine', value: function (e, t) { if (null === this.firstCoordinateLine) throw new Error('O primeiro ponto da linha n\xE3o foi definido.'); this._listenerMouse && (this._linesMouse.fill.remove(), this._linesMouse.stroke.remove(), this._listenerMouse.remove(), this._listenerMouse = null); var o = this.drawLine([this.firstCoordinateLine, e], t); return this.firstCoordinateLine = null, o } }, { key: 'clear', value: function () { d(c(t.prototype), 'clear', this).call(this), this._markerRadius && (this._markerRadius.remove(), this._markerRadius = null), this._lastCircle && (this._lastCircle.removeFrom(this.map), this._lastCircle = null), this._markerInfo && (this._markerInfo.remove(), this._markerInfo = null), this.clearLines() } }, { key: 'clearLines', value: function () { this._linesOnMap.length && (this._linesOnMap.forEach(function (e) { e.remove() }), this._linesOnMap = []) } }]), t }(H.a); window.Mapa = $, t.a = $ }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function r(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function i(e, t, o) { return t && r(e.prototype, t), o && r(e, o), e } function l(e, t) { return t && ('object' === a(t) || 'function' == typeof t) ? t : s(e) } function s(e) { if (void 0 === e) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called'); return e } function d(e) { return d = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, d(e) } function p(e, t) { if ('function' != typeof t && null !== t) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && c(e, t) } function c(e, t) { return c = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, c(e, t) } var g = o(4), u = o.n(g), m = o(6), _ = o.n(m), f = o(3), y = o.n(f), h = o(13), b = o.n(h), v = o(14), x = o.n(v), k = o(18), w = o.n(k), C = o(17), P = o.n(C), I = o(76), T = o(55), A = o.n(T), E = o(56), M = o.n(E), S = o(48), D = o.n(S), O = o(57), R = o.n(O); delete P.a.Icon.Default.prototype._getIconUrl, P.a.Icon.Default.mergeOptions({ iconRetinaUrl: M.a, iconUrl: D.a, shadowUrl: R.a }); var z = function (e) { function t() { return n(this, t), l(this, d(t).apply(this, arguments)) } return p(t, e), i(t, [{ key: 'buildMap', value: function (e) { var t = this; this.map = P.a.map(this.rootNode).setView([this._config.centerMap.lat, this._config.centerMap.lng], this._config.centerMap.zoom), P.a.tileLayer(this._config.basemap.url, this._config.basemap.options).addTo(this.map), this.map.on('mousemove', function (e) { return t.emit('mousemove', e) }), this._setMapListeners(), 'function' == typeof e && this.map.whenReady(e) } }]), t }(I.a); t.a = z }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function r(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function i(e, t, o) { return t && r(e.prototype, t), o && r(e, o), e } function l(e, t) { return t && ('object' === a(t) || 'function' == typeof t) ? t : s(e) } function s(e) { if (void 0 === e) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called'); return e } function d(e) { return d = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, d(e) } function p(e, t) { if ('function' != typeof t && null !== t) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && c(e, t) } function c(e, t) { return c = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, c(e, t) } var g = o(4), u = o.n(g), m = o(6), _ = o.n(m), f = o(3), y = o.n(f), h = o(13), b = o.n(h), v = o(14), x = o.n(v), k = o(18), w = o.n(k), C = o(17), P = o.n(C), I = o(183), T = o.n(I), A = o(184), E = o.n(A), M = o(185), S = o.n(M), D = o(186), O = o.n(D), R = o(76), z = function (e) { function t() { return n(this, t), l(this, d(t).apply(this, arguments)) } return p(t, e), i(t, [{ key: 'buildMap', value: function (e) { var t = this; this.map = window.L.map(this.rootNode).setView([this._config.centerMap.lat, this._config.centerMap.lng], this._config.centerMap.zoom), P.a.tileLayer(this._config.basemap.url, this._config.basemap.options).addTo(this.map), this.map.on('mousemove', function (e) { return t.emit('mousemove', e) }), this._setMapListeners(), 'function' == typeof e && this.map.whenReady(e) } }]), t }(R.a); t.a = z }, function (e, t, o) { var a = Math.sin, n = Math.cos, r = Math.PI, l = Math.min, i = Math.ceil, s = Math.max, d, p, c; (function (a) { p = [o(17)], d = a, c = 'function' == typeof d ? d.apply(t, p) : d, !(void 0 !== c && (e.exports = c)) })(function (e) { 'use strict'; var t = Math.atan2; return e.Polyline._flat = e.LineUtil.isFlat || e.Polyline._flat || function (t) { return !e.Util.isArray(t[0]) || 'object' != typeof t[0][0] && 'undefined' != typeof t[0][0] }, e.GeometryUtil = e.extend(e.GeometryUtil || {}, { distance: function (e, t, o) { return e.latLngToLayerPoint(t).distanceTo(e.latLngToLayerPoint(o)) }, distanceSegment: function (t, o, a, n) { var r = t.latLngToLayerPoint(o), i = t.latLngToLayerPoint(a), l = t.latLngToLayerPoint(n); return e.LineUtil.pointToSegmentDistance(r, i, l) }, readableDistance: function (e, t) { var o; return 'imperial' !== t ? 1e3 < e ? o = (e / 1e3).toFixed(2) + ' km' : o = i(e) + ' m' : (e *= 1.09361, o = 1760 < e ? (e / 1760).toFixed(2) + ' miles' : i(e) + ' yd'), o }, belongsSegment: function (e, t, o, a) { a = void 0 === a ? 0.2 : a; var n = t.distanceTo(o), r = t.distanceTo(e) + e.distanceTo(o) - n; return r / n < a }, length: function (t) { var o = e.GeometryUtil.accumulatedLengths(t); return 0 < o.length ? o[o.length - 1] : 0 }, accumulatedLengths: function (e) { if ('function' == typeof e.getLatLngs && (e = e.getLatLngs()), 0 === e.length) return []; for (var t = 0, o = [0], a = 0, r = e.length - 1; a < r; a++)t += e[a].distanceTo(e[a + 1]), o.push(t); return o }, closestOnSegment: function (t, o, a, n) { var r = t.getMaxZoom(); r === Infinity && (r = t.getZoom()); var i = t.project(o, r), l = t.project(a, r), s = t.project(n, r), d = e.LineUtil.closestPointOnSegment(i, l, s); return t.unproject(d, r) }, closest: function (t, o, a, r) { var l = Infinity, s = null, d, p, i, n, c; if (o instanceof Array) { if (o[0] instanceof Array && 'number' != typeof o[0][0]) { for (p = 0; p < o.length; p++)c = e.GeometryUtil.closest(t, o[p], a, r), c.distance < l && (l = c.distance, s = c); return s } if (o[0] instanceof e.LatLng || 'number' == typeof o[0][0] || 'number' == typeof o[0].lat) o = e.polyline(o); else return s } if (!(o instanceof e.Polyline)) return s; if (d = JSON.parse(JSON.stringify(o.getLatLngs().slice(0))), o instanceof e.Polygon) { var g = function (t) { if (e.Polyline._flat(t)) t.push(t[0]); else for (var o = 0; o < t.length; o++)g(t[o]) }; g(d) } if (!e.Polyline._flat(d)) { for (p = 0; p < d.length; p++)c = e.GeometryUtil.closest(t, d[p], a, r), c.distance < l && (l = c.distance, s = c); return s } if (r) { for (p = 0, i = d.length; p < i; p++) { var u = d[p]; n = e.GeometryUtil.distance(t, a, u), n < l && (l = n, s = u, s.distance = n) } return s } for (p = 0, i = d.length; p < i - 1; p++) { var m = d[p], _ = d[p + 1]; n = e.GeometryUtil.distanceSegment(t, a, m, _), n <= l && (l = n, s = e.GeometryUtil.closestOnSegment(t, a, m, _), s.distance = n) } return s }, closestLayer: function (t, o, a) { for (var r = Infinity, l = null, s = null, d = Infinity, p = 0, i = o.length, n; p < i; p++)if (n = o[p], n instanceof e.LayerGroup) { var c = e.GeometryUtil.closestLayer(t, n.getLayers(), a); c.distance < r && (r = c.distance, l = c) } else 'function' == typeof n.getLatLng ? (s = n.getLatLng(), d = e.GeometryUtil.distance(t, a, s)) : (s = e.GeometryUtil.closest(t, n, a), s && (d = s.distance)), d < r && (r = d, l = { layer: n, latlng: s, distance: d }); return l }, nClosestLayers: function (t, o, a, r) { if (r = 'number' == typeof r ? r : o.length, 1 > r || 1 > o.length) return null; for (var l = [], s = 0, i = o.length, d, p, c; s < i; s++)if (c = o[s], c instanceof e.LayerGroup) { var g = e.GeometryUtil.closestLayer(t, c.getLayers(), a); l.push(g) } else 'function' == typeof c.getLatLng ? (p = c.getLatLng(), d = e.GeometryUtil.distance(t, a, p)) : (p = e.GeometryUtil.closest(t, c, a), p && (d = p.distance)), l.push({ layer: c, latlng: p, distance: d }); return l.sort(function (e, t) { return e.distance - t.distance }), l.length > r ? l.slice(0, r) : l }, layersWithin: function (t, o, a, r) { r = 'number' == typeof r ? r : Infinity; for (var l = [], s = null, d = 0, p = 0, i = o.length, n; p < i; p++)n = o[p], 'function' == typeof n.getLatLng ? (s = n.getLatLng(), d = e.GeometryUtil.distance(t, a, s)) : (s = e.GeometryUtil.closest(t, n, a), s && (d = s.distance)), s && d < r && l.push({ layer: n, latlng: s, distance: d }); var c = l.sort(function (e, t) { return e.distance - t.distance }); return c }, closestLayerSnap: function (t, o, a, n, r) { n = 'number' == typeof n ? n : Infinity, r = 'boolean' != typeof r || r; var i = e.GeometryUtil.closestLayer(t, o, a); if (!i || i.distance > n) return null; if (r && 'function' == typeof i.layer.getLatLngs) { var l = e.GeometryUtil.closest(t, i.layer, i.latlng, !0); l.distance < n && (i.latlng = l, i.distance = e.GeometryUtil.distance(t, l, a)) } return i }, interpolateOnPointSegment: function (t, o, a) { return e.point(t.x * (1 - a) + a * o.x, t.y * (1 - a) + a * o.y) }, interpolateOnLine: function (t, o, a) { o = o instanceof e.Polyline ? o.getLatLngs() : o; var r = o.length; if (2 > r) return null; if (a = s(l(a, 1), 0), 0 === a) return { latLng: o[0] instanceof e.LatLng ? o[0] : e.latLng(o[0]), predecessor: -1 }; if (1 == a) return { latLng: o[o.length - 1] instanceof e.LatLng ? o[o.length - 1] : e.latLng(o[o.length - 1]), predecessor: o.length - 2 }; var n = t.getMaxZoom(); n === Infinity && (n = t.getZoom()); for (var d = [], p = 0, c = 0; c < r; c++)d[c] = t.project(o[c], n), 0 < c && (p += d[c - 1].distanceTo(d[c])); for (var i = p * a, g = 0, u = 0, c = 0; u < i; c++) { var m = d[c], _ = d[c + 1]; g = u, u += m.distanceTo(_) } if (void 0 == m && void 0 == _) var m = d[0], _ = d[1], c = 1; var f = 0 == u - g ? 0 : (i - g) / (u - g), y = e.GeometryUtil.interpolateOnPointSegment(m, _, f); return { latLng: t.unproject(y, n), predecessor: c - 1 } }, locateOnLine: function (t, o, a) { var r = o.getLatLngs(); if (a.equals(r[0])) return 0; if (a.equals(r[r.length - 1])) return 1; for (var l = e.GeometryUtil.closest(t, o, a, !1), s = e.GeometryUtil.accumulatedLengths(r), d = s[s.length - 1], p = 0, c = !1, g = 0, i = r.length - 1; g < i; g++) { var n = r[g], u = r[g + 1]; if (p = s[g], e.GeometryUtil.belongsSegment(l, n, u)) { p += n.distanceTo(l), c = !0; break } } if (!c) throw 'Could not interpolate ' + a.toString() + ' within ' + o.toString(); return p / d }, reverse: function (t) { return e.polyline(t.getLatLngs().slice(0).reverse()) }, extract: function (t, o, a, n) { if (a > n) return e.GeometryUtil.extract(t, e.GeometryUtil.reverse(o), 1 - a, 1 - n); a = s(l(a, 1), 0), n = s(l(n, 1), 0); var r = o.getLatLngs(), i = e.GeometryUtil.interpolateOnLine(t, o, a), d = e.GeometryUtil.interpolateOnLine(t, o, n); if (a == n) { var p = e.GeometryUtil.interpolateOnLine(t, o, n); return [p.latLng] } -1 == i.predecessor && (i.predecessor = 0), -1 == d.predecessor && (d.predecessor = 0); var c = r.slice(i.predecessor + 1, d.predecessor + 1); return c.unshift(i.latLng), c.push(d.latLng), c }, isBefore: function (e, t) { if (!t) return !1; var o = e.getLatLngs(), a = t.getLatLngs(); return o[o.length - 1].equals(a[0]) }, isAfter: function (e, t) { if (!t) return !1; var o = e.getLatLngs(), a = t.getLatLngs(); return o[0].equals(a[a.length - 1]) }, startsAtExtremity: function (e, t) { if (!t) return !1; var o = e.getLatLngs(), a = t.getLatLngs(), n = o[0]; return n.equals(a[0]) || n.equals(a[a.length - 1]) }, computeAngle: function (e, o) { return 180 * t(o.y - e.y, o.x - e.x) / r }, computeSlope: function (e, t) { var a = (t.y - e.y) / (t.x - e.x), n = e.y - a * e.x; return { a: a, b: n } }, rotatePoint: function (t, o, i, l) { var s = t.getMaxZoom(); s === Infinity && (s = t.getZoom()); var d = i * r / 180, p = t.project(o, s), c = t.project(l, s), g = n(d) * (p.x - c.x) - a(d) * (p.y - c.y) + c.x, u = a(d) * (p.x - c.x) + n(d) * (p.y - c.y) + c.y; return t.unproject(new e.Point(g, u), s) }, bearing: function (e, o) { var i = r / 180, l = e.lat * i, s = o.lat * i, d = e.lng * i, p = o.lng * i, c = a(p - d) * n(s), g = n(l) * a(s) - a(l) * n(s) * n(p - d), u = (180 * t(c, g) / r + 360) % 360; return 180 <= u ? u - 360 : u }, destination: function (o, i, l) { i = (i + 360) % 360; var s = r / 180, d = 180 / r, p = 6378137, c = o.lng * s, g = o.lat * s, u = i * s, m = a(g), _ = n(g), f = n(l / p), y = a(l / p), h = Math.asin(m * f + _ * y * n(u)), b = c + t(a(u) * y * _, f - m * a(h)); return b *= d, b = 180 < b ? b - 360 : -180 > b ? b + 360 : b, e.latLng([h * d, b]) }, angle: function (e, o, a) { var n = e.latLngToContainerPoint(o), i = e.latLngToContainerPoint(a), l = 180 * t(i.y - n.y, i.x - n.x) / r + 90; return l += 0 > l ? 360 : 0, l }, destinationOnSegment: function (t, o, a, n) { var r = e.GeometryUtil.angle(t, o, a), i = e.GeometryUtil.destination(o, r, n); return e.GeometryUtil.closestOnSegment(t, i, o, a) } }), e.GeometryUtil }) }, function () { var r = Math.sin, l = Math.PI, d = Math.abs, p = Math.floor, c = Math.pow; !function (s, a) { function e(o, t) { for (; (o = o.parentElement) && !o.classList.contains(t);); return o } L.drawVersion = '1.0.2', L.Draw = {}, L.drawLocal = { draw: { toolbar: { actions: { title: 'Cancel drawing', text: 'Cancel' }, finish: { title: 'Finish drawing', text: 'Finish' }, undo: { title: 'Delete last point drawn', text: 'Delete last point' }, buttons: { polyline: 'Draw a polyline', polygon: 'Draw a polygon', rectangle: 'Draw a rectangle', circle: 'Draw a circle', marker: 'Draw a marker', circlemarker: 'Draw a circlemarker' } }, handlers: { circle: { tooltip: { start: 'Click and drag to draw circle.' }, radius: 'Radius' }, circlemarker: { tooltip: { start: 'Click map to place circle marker.' } }, marker: { tooltip: { start: 'Click map to place marker.' } }, polygon: { tooltip: { start: 'Click to start drawing shape.', cont: 'Click to continue drawing shape.', end: 'Click first point to close this shape.' } }, polyline: { error: '<strong>Error:</strong> shape edges cannot cross!', tooltip: { start: 'Click to start drawing line.', cont: 'Click to continue drawing line.', end: 'Click last point to finish line.' } }, rectangle: { tooltip: { start: 'Click and drag to draw rectangle.' } }, simpleshape: { tooltip: { end: 'Release mouse to finish drawing.' } } } }, edit: { toolbar: { actions: { save: { title: 'Save changes', text: 'Save' }, cancel: { title: 'Cancel editing, discards all changes', text: 'Cancel' }, clearAll: { title: 'Clear all layers', text: 'Clear All' } }, buttons: { edit: 'Edit layers', editDisabled: 'No layers to edit', remove: 'Delete layers', removeDisabled: 'No layers to delete' } }, handlers: { edit: { tooltip: { text: 'Drag handles or markers to edit features.', subtext: 'Click cancel to undo changes.' } }, remove: { tooltip: { text: 'Click on a feature to remove.' } } } } }, L.Draw.Event = {}, L.Draw.Event.CREATED = 'draw:created', L.Draw.Event.EDITED = 'draw:edited', L.Draw.Event.DELETED = 'draw:deleted', L.Draw.Event.DRAWSTART = 'draw:drawstart', L.Draw.Event.DRAWSTOP = 'draw:drawstop', L.Draw.Event.DRAWVERTEX = 'draw:drawvertex', L.Draw.Event.EDITSTART = 'draw:editstart', L.Draw.Event.EDITMOVE = 'draw:editmove', L.Draw.Event.EDITRESIZE = 'draw:editresize', L.Draw.Event.EDITVERTEX = 'draw:editvertex', L.Draw.Event.EDITSTOP = 'draw:editstop', L.Draw.Event.DELETESTART = 'draw:deletestart', L.Draw.Event.DELETESTOP = 'draw:deletestop', L.Draw.Event.TOOLBAROPENED = 'draw:toolbaropened', L.Draw.Event.TOOLBARCLOSED = 'draw:toolbarclosed', L.Draw.Event.MARKERCONTEXT = 'draw:markercontext', L.Draw = L.Draw || {}, L.Draw.Feature = L.Handler.extend({ initialize: function (o, t) { this._map = o, this._container = o._container, this._overlayPane = o._panes.overlayPane, this._popupPane = o._panes.popupPane, t && t.shapeOptions && (t.shapeOptions = L.Util.extend({}, this.options.shapeOptions, t.shapeOptions)), L.setOptions(this, t); var e = L.version.split('.'); 1 === parseInt(e[0], 10) && 2 <= parseInt(e[1], 10) ? L.Draw.Feature.include(L.Evented.prototype) : L.Draw.Feature.include(L.Mixin.Events) }, enable: function () { this._enabled || (L.Handler.prototype.enable.call(this), this.fire('enabled', { handler: this.type }), this._map.fire(L.Draw.Event.DRAWSTART, { layerType: this.type })) }, disable: function () { this._enabled && (L.Handler.prototype.disable.call(this), this._map.fire(L.Draw.Event.DRAWSTOP, { layerType: this.type }), this.fire('disabled', { handler: this.type })) }, addHooks: function () { var e = this._map; e && (L.DomUtil.disableTextSelection(), e.getContainer().focus(), this._tooltip = new L.Draw.Tooltip(this._map), L.DomEvent.on(this._container, 'keyup', this._cancelDrawing, this)) }, removeHooks: function () { this._map && (L.DomUtil.enableTextSelection(), this._tooltip.dispose(), this._tooltip = null, L.DomEvent.off(this._container, 'keyup', this._cancelDrawing, this)) }, setOptions: function (e) { L.setOptions(this, e) }, _fireCreatedEvent: function (e) { this._map.fire(L.Draw.Event.CREATED, { layer: e, layerType: this.type }) }, _cancelDrawing: function (e) { 27 === e.keyCode && (this._map.fire('draw:canceled', { layerType: this.type }), this.disable()) } }), L.Draw.Polyline = L.Draw.Feature.extend({ statics: { TYPE: 'polyline' }, Poly: L.Polyline, options: { allowIntersection: !0, repeatMode: !1, drawError: { color: '#b00b00', timeout: 2500 }, icon: new L.DivIcon({ iconSize: new L.Point(8, 8), className: 'leaflet-div-icon leaflet-editing-icon' }), touchIcon: new L.DivIcon({ iconSize: new L.Point(20, 20), className: 'leaflet-div-icon leaflet-editing-icon leaflet-touch-icon' }), guidelineDistance: 20, maxGuideLineLength: 4e3, shapeOptions: { stroke: !0, color: '#3388ff', weight: 4, opacity: .5, fill: !1, clickable: !0 }, metric: !0, feet: !0, nautic: !1, showLength: !0, zIndexOffset: 2e3, factor: 1, maxPoints: 0 }, initialize: function (o, t) { L.Browser.touch && (this.options.icon = this.options.touchIcon), this.options.drawError.message = L.drawLocal.draw.handlers.polyline.error, t && t.drawError && (t.drawError = L.Util.extend({}, this.options.drawError, t.drawError)), this.type = L.Draw.Polyline.TYPE, L.Draw.Feature.prototype.initialize.call(this, o, t) }, addHooks: function () { L.Draw.Feature.prototype.addHooks.call(this), this._map && (this._markers = [], this._markerGroup = new L.LayerGroup, this._map.addLayer(this._markerGroup), this._poly = new L.Polyline([], this.options.shapeOptions), this._tooltip.updateContent(this._getTooltipText()), this._mouseMarker || (this._mouseMarker = L.marker(this._map.getCenter(), { icon: L.divIcon({ className: 'leaflet-mouse-marker', iconAnchor: [20, 20], iconSize: [40, 40] }), opacity: 0, zIndexOffset: this.options.zIndexOffset })), this._mouseMarker.on('mouseout', this._onMouseOut, this).on('mousemove', this._onMouseMove, this).on('mousedown', this._onMouseDown, this).on('mouseup', this._onMouseUp, this).addTo(this._map), this._map.on('mouseup', this._onMouseUp, this).on('mousemove', this._onMouseMove, this).on('zoomlevelschange', this._onZoomEnd, this).on('touchstart', this._onTouch, this).on('zoomend', this._onZoomEnd, this)) }, removeHooks: function () { L.Draw.Feature.prototype.removeHooks.call(this), this._clearHideErrorTimeout(), this._cleanUpShape(), this._map.removeLayer(this._markerGroup), delete this._markerGroup, delete this._markers, this._map.removeLayer(this._poly), delete this._poly, this._mouseMarker.off('mousedown', this._onMouseDown, this).off('mouseout', this._onMouseOut, this).off('mouseup', this._onMouseUp, this).off('mousemove', this._onMouseMove, this), this._map.removeLayer(this._mouseMarker), delete this._mouseMarker, this._clearGuides(), this._map.off('mouseup', this._onMouseUp, this).off('mousemove', this._onMouseMove, this).off('zoomlevelschange', this._onZoomEnd, this).off('zoomend', this._onZoomEnd, this).off('touchstart', this._onTouch, this).off('click', this._onTouch, this) }, deleteLastVertex: function () { if (!(1 >= this._markers.length)) { var a = this._markers.pop(), t = this._poly, e = t.getLatLngs(), n = e.splice(-1, 1)[0]; this._poly.setLatLngs(e), this._markerGroup.removeLayer(a), 2 > t.getLatLngs().length && this._map.removeLayer(t), this._vertexChanged(n, !1) } }, addVertex: function (e) { return 2 <= this._markers.length && !this.options.allowIntersection && this._poly.newLatLngIntersects(e) ? void this._showErrorTooltip() : void (this._errorShown && this._hideErrorTooltip(), this._markers.push(this._createMarker(e)), this._poly.addLatLng(e), 2 === this._poly.getLatLngs().length && this._map.addLayer(this._poly), this._vertexChanged(e, !0)) }, completeShape: function () { 1 >= this._markers.length || (this._fireCreatedEvent(), this.disable(), this.options.repeatMode && this.enable()) }, _finishShape: function () { var o = this._poly._defaultShape ? this._poly._defaultShape() : this._poly.getLatLngs(), t = this._poly.newLatLngIntersects(o[o.length - 1]); return (this.options.allowIntersection || !t) && this._shapeIsValid() ? void (this._fireCreatedEvent(), this.disable(), this.options.repeatMode && this.enable()) : void this._showErrorTooltip() }, _shapeIsValid: function () { return !0 }, _onZoomEnd: function () { null !== this._markers && this._updateGuide() }, _onMouseMove: function (o) { var t = this._map.mouseEventToLayerPoint(o.originalEvent), e = this._map.layerPointToLatLng(t); this._currentLatLng = e, this._updateTooltip(e), this._updateGuide(t), this._mouseMarker.setLatLng(e), L.DomEvent.preventDefault(o.originalEvent) }, _vertexChanged: function (o, t) { this._map.fire(L.Draw.Event.DRAWVERTEX, { layers: this._markerGroup }), this._updateFinishHandler(), this._updateRunningMeasure(o, t), this._clearGuides(), this._updateTooltip() }, _onMouseDown: function (a) { if (!this._clickHandled && !this._touchHandled && !this._disableMarkers) { this._onMouseMove(a), this._clickHandled = !0, this._disableNewMarkers(); var t = a.originalEvent, e = t.clientX, n = t.clientY; this._startPoint.call(this, e, n) } }, _startPoint: function (o, t) { this._mouseDownOrigin = L.point(o, t) }, _onMouseUp: function (a) { var t = a.originalEvent, e = t.clientX, n = t.clientY; this._endPoint.call(this, e, n, a), this._clickHandled = null }, _endPoint: function (t, e, r) { if (this._mouseDownOrigin) { var o = L.point(t, e).distanceTo(this._mouseDownOrigin), a = this._calculateFinishDistance(r.latlng); 1 < this.options.maxPoints && this.options.maxPoints == this._markers.length + 1 ? (this.addVertex(r.latlng), this._finishShape()) : 10 > a && L.Browser.touch ? this._finishShape() : d(o) < 9 * (s.devicePixelRatio || 1) && this.addVertex(r.latlng), this._enableNewMarkers() } this._mouseDownOrigin = null }, _onTouch: function (a) { var t = a.originalEvent, o, e; !t.touches || !t.touches[0] || this._clickHandled || this._touchHandled || this._disableMarkers || (o = t.touches[0].clientX, e = t.touches[0].clientY, this._disableNewMarkers(), this._touchHandled = !0, this._startPoint.call(this, o, e), this._endPoint.call(this, o, e, a), this._touchHandled = null), this._clickHandled = null }, _onMouseOut: function () { this._tooltip && this._tooltip._onMouseOut.call(this._tooltip) }, _calculateFinishDistance: function (r) { var t; if (0 < this._markers.length) { var e; if (this.type === L.Draw.Polyline.TYPE) e = this._markers[this._markers.length - 1]; else { if (this.type !== L.Draw.Polygon.TYPE) return 1 / 0; e = this._markers[0] } var i = this._map.latLngToContainerPoint(e.getLatLng()), o = new L.Marker(r, { icon: this.options.icon, zIndexOffset: 2 * this.options.zIndexOffset }), a = this._map.latLngToContainerPoint(o.getLatLng()); t = i.distanceTo(a) } else t = 1 / 0; return t }, _updateFinishHandler: function () { var e = this._markers.length; 1 < e && this._markers[e - 1].on('click', this._finishShape, this), 2 < e && this._markers[e - 2].off('click', this._finishShape, this) }, _createMarker: function (o) { var t = new L.Marker(o, { icon: this.options.icon, zIndexOffset: 2 * this.options.zIndexOffset }); return this._markerGroup.addLayer(t), t }, _updateGuide: function (o) { var t = this._markers ? this._markers.length : 0; 0 < t && (o = o || this._map.latLngToLayerPoint(this._currentLatLng), this._clearGuides(), this._drawGuide(this._map.latLngToLayerPoint(this._markers[t - 1].getLatLng()), o)) }, _updateTooltip: function (o) { var t = this._getTooltipText(); o && this._tooltip.updatePosition(o), this._errorShown || this._tooltip.updateContent(t) }, _drawGuide: function (d, t) { var e = p(Math.sqrt(c(t.x - d.x, 2) + c(t.y - d.y, 2))), n = this.options.guidelineDistance, s = this.options.maxGuideLineLength, r = e > s ? e - s : n, l, i, o; for (this._guidesContainer || (this._guidesContainer = L.DomUtil.create('div', 'leaflet-draw-guides', this._overlayPane)); r < e; r += this.options.guidelineDistance)l = r / e, i = { x: p(d.x * (1 - l) + l * t.x), y: p(d.y * (1 - l) + l * t.y) }, o = L.DomUtil.create('div', 'leaflet-draw-guide-dash', this._guidesContainer), o.style.backgroundColor = this._errorShown ? this.options.drawError.color : this.options.shapeOptions.color, L.DomUtil.setPosition(o, i) }, _updateGuideColor: function (o) { if (this._guidesContainer) for (var t = 0, e = this._guidesContainer.childNodes.length; t < e; t++)this._guidesContainer.childNodes[t].style.backgroundColor = o }, _clearGuides: function () { if (this._guidesContainer) for (; this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild) }, _getTooltipText: function () { var o = this.options.showLength, a, t; return 0 === this._markers.length ? a = { text: L.drawLocal.draw.handlers.polyline.tooltip.start } : (t = o ? this._getMeasurementString() : '', a = 1 === this._markers.length ? { text: L.drawLocal.draw.handlers.polyline.tooltip.cont, subtext: t } : { text: L.drawLocal.draw.handlers.polyline.tooltip.end, subtext: t }), a }, _updateRunningMeasure: function (n, t) { var e = this._markers.length, a, r; 1 === this._markers.length ? this._measurementRunningTotal = 0 : (a = e - (t ? 2 : 1), r = L.GeometryUtil.isVersion07x() ? n.distanceTo(this._markers[a].getLatLng()) * (this.options.factor || 1) : this._map.distance(n, this._markers[a].getLatLng()) * (this.options.factor || 1), this._measurementRunningTotal += r * (t ? 1 : -1)) }, _getMeasurementString: function () { var o = this._currentLatLng, e = this._markers[this._markers.length - 1].getLatLng(), a; return a = L.GeometryUtil.isVersion07x() ? e && o && o.distanceTo ? this._measurementRunningTotal + o.distanceTo(e) * (this.options.factor || 1) : this._measurementRunningTotal || 0 : e && o ? this._measurementRunningTotal + this._map.distance(o, e) * (this.options.factor || 1) : this._measurementRunningTotal || 0, L.GeometryUtil.readableDistance(a, this.options.metric, this.options.feet, this.options.nautic, this.options.precision) }, _showErrorTooltip: function () { this._errorShown = !0, this._tooltip.showAsError().updateContent({ text: this.options.drawError.message }), this._updateGuideColor(this.options.drawError.color), this._poly.setStyle({ color: this.options.drawError.color }), this._clearHideErrorTimeout(), this._hideErrorTimeout = setTimeout(L.Util.bind(this._hideErrorTooltip, this), this.options.drawError.timeout) }, _hideErrorTooltip: function () { this._errorShown = !1, this._clearHideErrorTimeout(), this._tooltip.removeError().updateContent(this._getTooltipText()), this._updateGuideColor(this.options.shapeOptions.color), this._poly.setStyle({ color: this.options.shapeOptions.color }) }, _clearHideErrorTimeout: function () { this._hideErrorTimeout && (clearTimeout(this._hideErrorTimeout), this._hideErrorTimeout = null) }, _disableNewMarkers: function () { this._disableMarkers = !0 }, _enableNewMarkers: function () { setTimeout(function () { this._disableMarkers = !1 }.bind(this), 50) }, _cleanUpShape: function () { 1 < this._markers.length && this._markers[this._markers.length - 1].off('click', this._finishShape, this) }, _fireCreatedEvent: function () { var e = new this.Poly(this._poly.getLatLngs(), this.options.shapeOptions); L.Draw.Feature.prototype._fireCreatedEvent.call(this, e) } }), L.Draw.Polygon = L.Draw.Polyline.extend({ statics: { TYPE: 'polygon' }, Poly: L.Polygon, options: { showArea: !1, showLength: !1, shapeOptions: { stroke: !0, color: '#3388ff', weight: 4, opacity: .5, fill: !0, fillColor: null, fillOpacity: .2, clickable: !0 }, metric: !0, feet: !0, nautic: !1, precision: {} }, initialize: function (o, t) { L.Draw.Polyline.prototype.initialize.call(this, o, t), this.type = L.Draw.Polygon.TYPE }, _updateFinishHandler: function () { var e = this._markers.length; 1 === e && this._markers[0].on('click', this._finishShape, this), 2 < e && (this._markers[e - 1].on('dblclick', this._finishShape, this), 3 < e && this._markers[e - 2].off('dblclick', this._finishShape, this)) }, _getTooltipText: function () { var o, a; return 0 === this._markers.length ? o = L.drawLocal.draw.handlers.polygon.tooltip.start : 3 > this._markers.length ? (o = L.drawLocal.draw.handlers.polygon.tooltip.cont, a = this._getMeasurementString()) : (o = L.drawLocal.draw.handlers.polygon.tooltip.end, a = this._getMeasurementString()), { text: o, subtext: a } }, _getMeasurementString: function () { var o = this._area, t = ''; return o || this.options.showLength ? (this.options.showLength && (t = L.Draw.Polyline.prototype._getMeasurementString.call(this)), o && (t += '<br>' + L.GeometryUtil.readableArea(o, this.options.metric, this.options.precision)), t) : null }, _shapeIsValid: function () { return 3 <= this._markers.length }, _vertexChanged: function (o, t) { var e; !this.options.allowIntersection && this.options.showArea && (e = this._poly.getLatLngs(), this._area = L.GeometryUtil.geodesicArea(e)), L.Draw.Polyline.prototype._vertexChanged.call(this, o, t) }, _cleanUpShape: function () { var e = this._markers.length; 0 < e && (this._markers[0].off('click', this._finishShape, this), 2 < e && this._markers[e - 1].off('dblclick', this._finishShape, this)) } }), L.SimpleShape = {}, L.Draw.SimpleShape = L.Draw.Feature.extend({ options: { repeatMode: !1 }, initialize: function (o, t) { this._endLabelText = L.drawLocal.draw.handlers.simpleshape.tooltip.end, L.Draw.Feature.prototype.initialize.call(this, o, t) }, addHooks: function () { L.Draw.Feature.prototype.addHooks.call(this), this._map && (this._mapDraggable = this._map.dragging.enabled(), this._mapDraggable && this._map.dragging.disable(), this._container.style.cursor = 'crosshair', this._tooltip.updateContent({ text: this._initialLabelText }), this._map.on('mousedown', this._onMouseDown, this).on('mousemove', this._onMouseMove, this).on('touchstart', this._onMouseDown, this).on('touchmove', this._onMouseMove, this), a.addEventListener('touchstart', L.DomEvent.preventDefault, { passive: !1 })) }, removeHooks: function () { L.Draw.Feature.prototype.removeHooks.call(this), this._map && (this._mapDraggable && this._map.dragging.enable(), this._container.style.cursor = '', this._map.off('mousedown', this._onMouseDown, this).off('mousemove', this._onMouseMove, this).off('touchstart', this._onMouseDown, this).off('touchmove', this._onMouseMove, this), L.DomEvent.off(a, 'mouseup', this._onMouseUp, this), L.DomEvent.off(a, 'touchend', this._onMouseUp, this), a.removeEventListener('touchstart', L.DomEvent.preventDefault), this._shape && (this._map.removeLayer(this._shape), delete this._shape)), this._isDrawing = !1 }, _getTooltipText: function () { return { text: this._endLabelText } }, _onMouseDown: function (e) { this._isDrawing = !0, this._startLatLng = e.latlng, L.DomEvent.on(a, 'mouseup', this._onMouseUp, this).on(a, 'touchend', this._onMouseUp, this).preventDefault(e.originalEvent) }, _onMouseMove: function (o) { var t = o.latlng; this._tooltip.updatePosition(t), this._isDrawing && (this._tooltip.updateContent(this._getTooltipText()), this._drawShape(t)) }, _onMouseUp: function () { this._shape && this._fireCreatedEvent(), this.disable(), this.options.repeatMode && this.enable() } }), L.Draw.Rectangle = L.Draw.SimpleShape.extend({ statics: { TYPE: 'rectangle' }, options: { shapeOptions: { stroke: !0, color: '#3388ff', weight: 4, opacity: .5, fill: !0, fillColor: null, fillOpacity: .2, showArea: !0, clickable: !0 }, metric: !0 }, initialize: function (o, t) { this.type = L.Draw.Rectangle.TYPE, this._initialLabelText = L.drawLocal.draw.handlers.rectangle.tooltip.start, L.Draw.SimpleShape.prototype.initialize.call(this, o, t) }, disable: function () { this._enabled && (this._isCurrentlyTwoClickDrawing = !1, L.Draw.SimpleShape.prototype.disable.call(this)) }, _onMouseUp: function (o) { return this._shape || this._isCurrentlyTwoClickDrawing ? void (this._isCurrentlyTwoClickDrawing && !e(o.target, 'leaflet-pane') || L.Draw.SimpleShape.prototype._onMouseUp.call(this)) : void (this._isCurrentlyTwoClickDrawing = !0) }, _drawShape: function (e) { this._shape ? this._shape.setBounds(new L.LatLngBounds(this._startLatLng, e)) : (this._shape = new L.Rectangle(new L.LatLngBounds(this._startLatLng, e), this.options.shapeOptions), this._map.addLayer(this._shape)) }, _fireCreatedEvent: function () { var e = new L.Rectangle(this._shape.getBounds(), this.options.shapeOptions); L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this, e) }, _getTooltipText: function () { var r = L.Draw.SimpleShape.prototype._getTooltipText.call(this), o = this._shape, a = this.options.showArea, n, t, e; return o && (n = this._shape._defaultShape ? this._shape._defaultShape() : this._shape.getLatLngs(), t = L.GeometryUtil.geodesicArea(n), e = a ? L.GeometryUtil.readableArea(t, this.options.metric) : ''), { text: r.text, subtext: e } } }), L.Draw.Marker = L.Draw.Feature.extend({ statics: { TYPE: 'marker' }, options: { icon: new L.Icon.Default, repeatMode: !1, zIndexOffset: 2e3 }, initialize: function (o, t) { this.type = L.Draw.Marker.TYPE, this._initialLabelText = L.drawLocal.draw.handlers.marker.tooltip.start, L.Draw.Feature.prototype.initialize.call(this, o, t) }, addHooks: function () { L.Draw.Feature.prototype.addHooks.call(this), this._map && (this._tooltip.updateContent({ text: this._initialLabelText }), this._mouseMarker || (this._mouseMarker = L.marker(this._map.getCenter(), { icon: L.divIcon({ className: 'leaflet-mouse-marker', iconAnchor: [20, 20], iconSize: [40, 40] }), opacity: 0, zIndexOffset: this.options.zIndexOffset })), this._mouseMarker.on('click', this._onClick, this).addTo(this._map), this._map.on('mousemove', this._onMouseMove, this), this._map.on('click', this._onTouch, this)) }, removeHooks: function () { L.Draw.Feature.prototype.removeHooks.call(this), this._map && (this._map.off('click', this._onClick, this).off('click', this._onTouch, this), this._marker && (this._marker.off('click', this._onClick, this), this._map.removeLayer(this._marker), delete this._marker), this._mouseMarker.off('click', this._onClick, this), this._map.removeLayer(this._mouseMarker), delete this._mouseMarker, this._map.off('mousemove', this._onMouseMove, this)) }, _onMouseMove: function (o) { var t = o.latlng; this._tooltip.updatePosition(t), this._mouseMarker.setLatLng(t), this._marker ? (t = this._mouseMarker.getLatLng(), this._marker.setLatLng(t)) : (this._marker = this._createMarker(t), this._marker.on('click', this._onClick, this), this._map.on('click', this._onClick, this).addLayer(this._marker)) }, _createMarker: function (e) { return new L.Marker(e, { icon: this.options.icon, zIndexOffset: this.options.zIndexOffset }) }, _onClick: function () { this._fireCreatedEvent(), this.disable(), this.options.repeatMode && this.enable() }, _onTouch: function (e) { this._onMouseMove(e), this._onClick() }, _fireCreatedEvent: function () { var e = new L.Marker.Touch(this._marker.getLatLng(), { icon: this.options.icon }); L.Draw.Feature.prototype._fireCreatedEvent.call(this, e) } }), L.Draw.CircleMarker = L.Draw.Marker.extend({ statics: { TYPE: 'circlemarker' }, options: { stroke: !0, color: '#3388ff', weight: 4, opacity: .5, fill: !0, fillColor: null, fillOpacity: .2, clickable: !0, zIndexOffset: 2e3 }, initialize: function (o, t) { this.type = L.Draw.CircleMarker.TYPE, this._initialLabelText = L.drawLocal.draw.handlers.circlemarker.tooltip.start, L.Draw.Feature.prototype.initialize.call(this, o, t) }, _fireCreatedEvent: function () { var e = new L.CircleMarker(this._marker.getLatLng(), this.options); L.Draw.Feature.prototype._fireCreatedEvent.call(this, e) }, _createMarker: function (e) { return new L.CircleMarker(e, this.options) } }), L.Draw.Circle = L.Draw.SimpleShape.extend({ statics: { TYPE: 'circle' }, options: { shapeOptions: { stroke: !0, color: '#3388ff', weight: 4, opacity: .5, fill: !0, fillColor: null, fillOpacity: .2, clickable: !0 }, showRadius: !0, metric: !0, feet: !0, nautic: !1 }, initialize: function (o, t) { this.type = L.Draw.Circle.TYPE, this._initialLabelText = L.drawLocal.draw.handlers.circle.tooltip.start, L.Draw.SimpleShape.prototype.initialize.call(this, o, t) }, _drawShape: function (o) { if (L.GeometryUtil.isVersion07x()) var t = this._startLatLng.distanceTo(o); else var t = this._map.distance(this._startLatLng, o); this._shape ? this._shape.setRadius(t) : (this._shape = new L.Circle(this._startLatLng, t, this.options.shapeOptions), this._map.addLayer(this._shape)) }, _fireCreatedEvent: function () { var e = new L.Circle(this._startLatLng, this._shape.getRadius(), this.options.shapeOptions); L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this, e) }, _onMouseMove: function (r) { var t = r.latlng, i = this.options.showRadius, o = this.options.metric, a; if (this._tooltip.updatePosition(t), this._isDrawing) { this._drawShape(t), a = this._shape.getRadius().toFixed(1); var e = ''; i && (e = L.drawLocal.draw.handlers.circle.radius + ': ' + L.GeometryUtil.readableDistance(a, o, this.options.feet, this.options.nautic)), this._tooltip.updateContent({ text: this._endLabelText, subtext: e }) } } }), L.Edit = L.Edit || {}, L.Edit.Marker = L.Handler.extend({ initialize: function (o, t) { this._marker = o, L.setOptions(this, t) }, addHooks: function () { var e = this._marker; e.dragging.enable(), e.on('dragend', this._onDragEnd, e), this._toggleMarkerHighlight() }, removeHooks: function () { var e = this._marker; e.dragging.disable(), e.off('dragend', this._onDragEnd, e), this._toggleMarkerHighlight() }, _onDragEnd: function (o) { var t = o.target; t.edited = !0, this._map.fire(L.Draw.Event.EDITMOVE, { layer: t }) }, _toggleMarkerHighlight: function () { var e = this._marker._icon; e && (e.style.display = 'none', L.DomUtil.hasClass(e, 'leaflet-edit-marker-selected') ? (L.DomUtil.removeClass(e, 'leaflet-edit-marker-selected'), this._offsetMarker(e, -4)) : (L.DomUtil.addClass(e, 'leaflet-edit-marker-selected'), this._offsetMarker(e, 4)), e.style.display = '') }, _offsetMarker: function (a, t) { var e = parseInt(a.style.marginTop, 10) - t, n = parseInt(a.style.marginLeft, 10) - t; a.style.marginTop = e + 'px', a.style.marginLeft = n + 'px' } }), L.Marker.addInitHook(function () { L.Edit.Marker && (this.editing = new L.Edit.Marker(this), this.options.editable && this.editing.enable()) }), L.Edit = L.Edit || {}, L.Edit.Poly = L.Handler.extend({ initialize: function (e) { this.latlngs = [e._latlngs], e._holes && (this.latlngs = this.latlngs.concat(e._holes)), this._poly = e, this._poly.on('revert-edited', this._updateLatLngs, this) }, _defaultShape: function () { return L.Polyline._flat ? L.Polyline._flat(this._poly._latlngs) ? this._poly._latlngs : this._poly._latlngs[0] : this._poly._latlngs }, _eachVertexHandler: function (o) { for (var t = 0; t < this._verticesHandlers.length; t++)o(this._verticesHandlers[t]) }, addHooks: function () { this._initHandlers(), this._eachVertexHandler(function (e) { e.addHooks() }) }, removeHooks: function () { this._eachVertexHandler(function (e) { e.removeHooks() }) }, updateMarkers: function () { this._eachVertexHandler(function (e) { e.updateMarkers() }) }, _initHandlers: function () { this._verticesHandlers = []; for (var e = 0; e < this.latlngs.length; e++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly, this.latlngs[e], this._poly.options.poly)) }, _updateLatLngs: function (e) { this.latlngs = [e.layer._latlngs], e.layer._holes && (this.latlngs = this.latlngs.concat(e.layer._holes)) } }), L.Edit.PolyVerticesEdit = L.Handler.extend({ options: { icon: new L.DivIcon({ iconSize: new L.Point(8, 8), className: 'leaflet-div-icon leaflet-editing-icon' }), touchIcon: new L.DivIcon({ iconSize: new L.Point(20, 20), className: 'leaflet-div-icon leaflet-editing-icon leaflet-touch-icon' }), drawError: { color: '#b00b00', timeout: 1e3 } }, initialize: function (o, t, e) { L.Browser.touch && (this.options.icon = this.options.touchIcon), this._poly = o, e && e.drawError && (e.drawError = L.Util.extend({}, this.options.drawError, e.drawError)), this._latlngs = t, L.setOptions(this, e) }, _defaultShape: function () { return L.Polyline._flat ? L.Polyline._flat(this._latlngs) ? this._latlngs : this._latlngs[0] : this._latlngs }, addHooks: function () { var o = this._poly, a = o._path; o instanceof L.Polygon || (o.options.fill = !1, o.options.editing && (o.options.editing.fill = !1)), a && o.options.editing.className && (o.options.original.className && o.options.original.className.split(' ').forEach(function (e) { L.DomUtil.removeClass(a, e) }), o.options.editing.className.split(' ').forEach(function (e) { L.DomUtil.addClass(a, e) })), o.setStyle(o.options.editing), this._poly._map && (this._map = this._poly._map, this._markerGroup || this._initMarkers(), this._poly._map.addLayer(this._markerGroup)) }, removeHooks: function () { var o = this._poly, a = o._path; a && o.options.editing.className && (o.options.editing.className.split(' ').forEach(function (e) { L.DomUtil.removeClass(a, e) }), o.options.original.className && o.options.original.className.split(' ').forEach(function (e) { L.DomUtil.addClass(a, e) })), o.setStyle(o.options.original), o._map && (o._map.removeLayer(this._markerGroup), delete this._markerGroup, delete this._markers) }, updateMarkers: function () { this._markerGroup.clearLayers(), this._initMarkers() }, _initMarkers: function () { this._markerGroup || (this._markerGroup = new L.LayerGroup), this._markers = []; var r = this._defaultShape(), a, t, e, i; for (a = 0, e = r.length; a < e; a++)i = this._createMarker(r[a], a), i.on('click', this._onMarkerClick, this), i.on('contextmenu', this._onContextMenu, this), this._markers.push(i); var o, n; for (a = 0, t = e - 1; a < e; t = a++)(0 !== a || L.Polygon && this._poly instanceof L.Polygon) && (o = this._markers[t], n = this._markers[a], this._createMiddleMarker(o, n), this._updatePrevNext(o, n)) }, _createMarker: function (o, t) { var e = new L.Marker.Touch(o, { draggable: !0, icon: this.options.icon }); return e._origLatLng = o, e._index = t, e.on('dragstart', this._onMarkerDragStart, this).on('drag', this._onMarkerDrag, this).on('dragend', this._fireEdit, this).on('touchmove', this._onTouchMove, this).on('touchend', this._fireEdit, this).on('MSPointerMove', this._onTouchMove, this).on('MSPointerUp', this._fireEdit, this), this._markerGroup.addLayer(e), e }, _onMarkerDragStart: function () { this._poly.fire('editstart') }, _spliceLatLngs: function () { var o = this._defaultShape(), t = [].splice.apply(o, arguments); return this._poly._convertLatLngs(o, !0), this._poly.redraw(), t }, _removeMarker: function (o) { var t = o._index; this._markerGroup.removeLayer(o), this._markers.splice(t, 1), this._spliceLatLngs(t, 1), this._updateIndexes(t, -1), o.off('dragstart', this._onMarkerDragStart, this).off('drag', this._onMarkerDrag, this).off('dragend', this._fireEdit, this).off('touchmove', this._onMarkerDrag, this).off('touchend', this._fireEdit, this).off('click', this._onMarkerClick, this).off('MSPointerMove', this._onTouchMove, this).off('MSPointerUp', this._fireEdit, this) }, _fireEdit: function () { this._poly.edited = !0, this._poly.fire('edit'), this._poly._map.fire(L.Draw.Event.EDITVERTEX, { layers: this._markerGroup, poly: this._poly }) }, _onMarkerDrag: function (r) { var t = r.target, e = this._poly; if (L.extend(t._origLatLng, t._latlng), t._middleLeft && t._middleLeft.setLatLng(this._getMiddleLatLng(t._prev, t)), t._middleRight && t._middleRight.setLatLng(this._getMiddleLatLng(t, t._next)), e.options.poly) { var i = e._map._editTooltip; if (!e.options.poly.allowIntersection && e.intersects()) { var o = e.options.color; e.setStyle({ color: this.options.drawError.color }), 0 !== L.version.indexOf('0.7') && t.dragging._draggable._onUp(r), this._onMarkerClick(r), i && i.updateContent({ text: L.drawLocal.draw.handlers.polyline.error }), setTimeout(function () { e.setStyle({ color: o }), i && i.updateContent({ text: L.drawLocal.edit.handlers.edit.tooltip.text, subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext }) }, 1e3) } } this._poly._bounds._southWest = L.latLng(1 / 0, 1 / 0), this._poly._bounds._northEast = L.latLng(-1 / 0, -1 / 0); var l = this._poly.getLatLngs(); this._poly._convertLatLngs(l, !0), this._poly.redraw(), this._poly.fire('editdrag') }, _onMarkerClick: function (o) { var t = L.Polygon && this._poly instanceof L.Polygon ? 4 : 3, e = o.target; this._defaultShape().length < t || (this._removeMarker(e), this._updatePrevNext(e._prev, e._next), e._middleLeft && this._markerGroup.removeLayer(e._middleLeft), e._middleRight && this._markerGroup.removeLayer(e._middleRight), e._prev && e._next ? this._createMiddleMarker(e._prev, e._next) : e._prev ? e._next || (e._prev._middleRight = null) : e._next._middleLeft = null, this._fireEdit()) }, _onContextMenu: function (o) { var t = o.target; this._poly, this._poly._map.fire(L.Draw.Event.MARKERCONTEXT, { marker: t, layers: this._markerGroup, poly: this._poly }), L.DomEvent.stopPropagation }, _onTouchMove: function (a) { var t = this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]), e = this._map.layerPointToLatLng(t), n = a.target; L.extend(n._origLatLng, e), n._middleLeft && n._middleLeft.setLatLng(this._getMiddleLatLng(n._prev, n)), n._middleRight && n._middleRight.setLatLng(this._getMiddleLatLng(n, n._next)), this._poly.redraw(), this.updateMarkers() }, _updateIndexes: function (o, t) { this._markerGroup.eachLayer(function (e) { e._index > o && (e._index += t) }) }, _createMiddleMarker: function (r, t) { var e = this._getMiddleLatLng(r, t), n = this._createMarker(e), l, i, o; n.setOpacity(.6), r._middleRight = t._middleLeft = n, i = function () { n.off('touchmove', i, this); var o = t._index; n._index = o, n.off('click', l, this).on('click', this._onMarkerClick, this), e.lat = n.getLatLng().lat, e.lng = n.getLatLng().lng, this._spliceLatLngs(o, 0, e), this._markers.splice(o, 0, n), n.setOpacity(1), this._updateIndexes(o, 1), t._index++, this._updatePrevNext(r, n), this._updatePrevNext(n, t), this._poly.fire('editstart') }, o = function () { n.off('dragstart', i, this), n.off('dragend', o, this), n.off('touchmove', i, this), this._createMiddleMarker(r, n), this._createMiddleMarker(n, t) }, l = function () { i.call(this), o.call(this), this._fireEdit() }, n.on('click', l, this).on('dragstart', i, this).on('dragend', o, this).on('touchmove', i, this), this._markerGroup.addLayer(n) }, _updatePrevNext: function (o, t) { o && (o._next = t), t && (t._prev = o) }, _getMiddleLatLng: function (n, t) { var e = this._poly._map, r = e.project(n.getLatLng()), o = e.project(t.getLatLng()); return e.unproject(r._add(o)._divideBy(2)) } }), L.Polyline.addInitHook(function () { this.editing || (L.Edit.Poly && (this.editing = new L.Edit.Poly(this), this.options.editable && this.editing.enable()), this.on('add', function () { this.editing && this.editing.enabled() && this.editing.addHooks() }), this.on('remove', function () { this.editing && this.editing.enabled() && this.editing.removeHooks() })) }), L.Edit = L.Edit || {}, L.Edit.SimpleShape = L.Handler.extend({ options: { moveIcon: new L.DivIcon({ iconSize: new L.Point(8, 8), className: 'leaflet-div-icon leaflet-editing-icon leaflet-edit-move' }), resizeIcon: new L.DivIcon({ iconSize: new L.Point(8, 8), className: 'leaflet-div-icon leaflet-editing-icon leaflet-edit-resize' }), touchMoveIcon: new L.DivIcon({ iconSize: new L.Point(20, 20), className: 'leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon' }), touchResizeIcon: new L.DivIcon({ iconSize: new L.Point(20, 20), className: 'leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon' }) }, initialize: function (o, t) { L.Browser.touch && (this.options.moveIcon = this.options.touchMoveIcon, this.options.resizeIcon = this.options.touchResizeIcon), this._shape = o, L.Util.setOptions(this, t) }, addHooks: function () { var e = this._shape; this._shape._map && (this._map = this._shape._map, e.setStyle(e.options.editing), e._map && (this._map = e._map, this._markerGroup || this._initMarkers(), this._map.addLayer(this._markerGroup))) }, removeHooks: function () { var o = this._shape; if (o.setStyle(o.options.original), o._map) { this._unbindMarker(this._moveMarker); for (var t = 0, e = this._resizeMarkers.length; t < e; t++)this._unbindMarker(this._resizeMarkers[t]); this._resizeMarkers = null, this._map.removeLayer(this._markerGroup), delete this._markerGroup } this._map = null }, updateMarkers: function () { this._markerGroup.clearLayers(), this._initMarkers() }, _initMarkers: function () { this._markerGroup || (this._markerGroup = new L.LayerGroup), this._createMoveMarker(), this._createResizeMarker() }, _createMoveMarker: function () { }, _createResizeMarker: function () { }, _createMarker: function (o, t) { var a = new L.Marker.Touch(o, { draggable: !0, icon: t, zIndexOffset: 10 }); return this._bindMarker(a), this._markerGroup.addLayer(a), a }, _bindMarker: function (e) { e.on('dragstart', this._onMarkerDragStart, this).on('drag', this._onMarkerDrag, this).on('dragend', this._onMarkerDragEnd, this).on('touchstart', this._onTouchStart, this).on('touchmove', this._onTouchMove, this).on('MSPointerMove', this._onTouchMove, this).on('touchend', this._onTouchEnd, this).on('MSPointerUp', this._onTouchEnd, this) }, _unbindMarker: function (e) { e.off('dragstart', this._onMarkerDragStart, this).off('drag', this._onMarkerDrag, this).off('dragend', this._onMarkerDragEnd, this).off('touchstart', this._onTouchStart, this).off('touchmove', this._onTouchMove, this).off('MSPointerMove', this._onTouchMove, this).off('touchend', this._onTouchEnd, this).off('MSPointerUp', this._onTouchEnd, this) }, _onMarkerDragStart: function (e) { e.target.setOpacity(0), this._shape.fire('editstart') }, _fireEdit: function () { this._shape.edited = !0, this._shape.fire('edit') }, _onMarkerDrag: function (o) { var t = o.target, e = t.getLatLng(); t === this._moveMarker ? this._move(e) : this._resize(e), this._shape.redraw(), this._shape.fire('editdrag') }, _onMarkerDragEnd: function (e) { e.target.setOpacity(1), this._fireEdit() }, _onTouchStart: function (a) { if (L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this, a), 'function' == typeof this._getCorners) { var t = this._getCorners(), e = a.target, n = e._cornerIndex; e.setOpacity(0), this._oppositeCorner = t[(n + 2) % 4], this._toggleCornerMarkers(0, n) } this._shape.fire('editstart') }, _onTouchMove: function (o) { var t = this._map.mouseEventToLayerPoint(o.originalEvent.touches[0]), e = this._map.layerPointToLatLng(t); return o.target === this._moveMarker ? this._move(e) : this._resize(e), this._shape.redraw(), !1 }, _onTouchEnd: function (e) { e.target.setOpacity(1), this.updateMarkers(), this._fireEdit() }, _move: function () { }, _resize: function () { } }), L.Edit = L.Edit || {}, L.Edit.Rectangle = L.Edit.SimpleShape.extend({ _createMoveMarker: function () { var o = this._shape.getBounds(), t = o.getCenter(); this._moveMarker = this._createMarker(t, this.options.moveIcon) }, _createResizeMarker: function () { var o = this._getCorners(); this._resizeMarkers = []; for (var t = 0, e = o.length; t < e; t++)this._resizeMarkers.push(this._createMarker(o[t], this.options.resizeIcon)), this._resizeMarkers[t]._cornerIndex = t }, _onMarkerDragStart: function (a) { L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this, a); var t = this._getCorners(), e = a.target, n = e._cornerIndex; this._oppositeCorner = t[(n + 2) % 4], this._toggleCornerMarkers(0, n) }, _onMarkerDragEnd: function (a) { var t = a.target, o, e; t === this._moveMarker && (o = this._shape.getBounds(), e = o.getCenter(), t.setLatLng(e)), this._toggleCornerMarkers(1), this._repositionCornerMarkers(), L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this, a) }, _move: function (l) { for (var t = this._shape._defaultShape ? this._shape._defaultShape() : this._shape.getLatLngs(), i = this._shape.getBounds(), o = i.getCenter(), a = [], n = 0, s = t.length, r; n < s; n++)r = [t[n].lat - o.lat, t[n].lng - o.lng], a.push([l.lat + r[0], l.lng + r[1]]); this._shape.setLatLngs(a), this._repositionCornerMarkers(), this._map.fire(L.Draw.Event.EDITMOVE, { layer: this._shape }) }, _resize: function (o) { var t; this._shape.setBounds(L.latLngBounds(o, this._oppositeCorner)), t = this._shape.getBounds(), this._moveMarker.setLatLng(t.getCenter()), this._map.fire(L.Draw.Event.EDITRESIZE, { layer: this._shape }) }, _getCorners: function () { var e = this._shape.getBounds(); return [e.getNorthWest(), e.getNorthEast(), e.getSouthEast(), e.getSouthWest()] }, _toggleCornerMarkers: function (o) { for (var t = 0, e = this._resizeMarkers.length; t < e; t++)this._resizeMarkers[t].setOpacity(o) }, _repositionCornerMarkers: function () { for (var o = this._getCorners(), t = 0, e = this._resizeMarkers.length; t < e; t++)this._resizeMarkers[t].setLatLng(o[t]) } }), L.Rectangle.addInitHook(function () { L.Edit.Rectangle && (this.editing = new L.Edit.Rectangle(this), this.options.editable && this.editing.enable()) }), L.Edit = L.Edit || {}, L.Edit.CircleMarker = L.Edit.SimpleShape.extend({ _createMoveMarker: function () { var e = this._shape.getLatLng(); this._moveMarker = this._createMarker(e, this.options.moveIcon) }, _createResizeMarker: function () { this._resizeMarkers = [] }, _move: function (o) { if (this._resizeMarkers.length) { var t = this._getResizeMarkerPoint(o); this._resizeMarkers[0].setLatLng(t) } this._shape.setLatLng(o), this._map.fire(L.Draw.Event.EDITMOVE, { layer: this._shape }) } }), L.CircleMarker.addInitHook(function () { L.Edit.CircleMarker && (this.editing = new L.Edit.CircleMarker(this), this.options.editable && this.editing.enable()), this.on('add', function () { this.editing && this.editing.enabled() && this.editing.addHooks() }), this.on('remove', function () { this.editing && this.editing.enabled() && this.editing.removeHooks() }) }), L.Edit = L.Edit || {}, L.Edit.Circle = L.Edit.CircleMarker.extend({ _createResizeMarker: function () { var o = this._shape.getLatLng(), t = this._getResizeMarkerPoint(o); this._resizeMarkers = [], this._resizeMarkers.push(this._createMarker(t, this.options.resizeIcon)) }, _getResizeMarkerPoint: function (o) { var t = this._shape._radius * Math.cos(l / 4), e = this._map.project(o); return this._map.unproject([e.x + t, e.y - t]) }, _resize: function (o) { var t = this._moveMarker.getLatLng(); radius = L.GeometryUtil.isVersion07x() ? t.distanceTo(o) : this._map.distance(t, o), this._shape.setRadius(radius), this._map.editTooltip && this._map._editTooltip.updateContent({ text: L.drawLocal.edit.handlers.edit.tooltip.subtext + '<br />' + L.drawLocal.edit.handlers.edit.tooltip.text, subtext: L.drawLocal.draw.handlers.circle.radius + ': ' + L.GeometryUtil.readableDistance(radius, !0, this.options.feet, this.options.nautic) }), this._shape.setRadius(radius), this._map.fire(L.Draw.Event.EDITRESIZE, { layer: this._shape }) } }), L.Circle.addInitHook(function () { L.Edit.Circle && (this.editing = new L.Edit.Circle(this), this.options.editable && this.editing.enable()), this.on('add', function () { this.editing && this.editing.enabled() && this.editing.addHooks() }), this.on('remove', function () { this.editing && this.editing.enabled() && this.editing.removeHooks() }) }), L.Map.mergeOptions({ touchExtend: !0 }), L.Map.TouchExtend = L.Handler.extend({ initialize: function (e) { this._map = e, this._container = e._container, this._pane = e._panes.overlayPane }, addHooks: function () { L.DomEvent.on(this._container, 'touchstart', this._onTouchStart, this), L.DomEvent.on(this._container, 'touchend', this._onTouchEnd, this), L.DomEvent.on(this._container, 'touchmove', this._onTouchMove, this), this._detectIE() ? (L.DomEvent.on(this._container, 'MSPointerDown', this._onTouchStart, this), L.DomEvent.on(this._container, 'MSPointerUp', this._onTouchEnd, this), L.DomEvent.on(this._container, 'MSPointerMove', this._onTouchMove, this), L.DomEvent.on(this._container, 'MSPointerCancel', this._onTouchCancel, this)) : (L.DomEvent.on(this._container, 'touchcancel', this._onTouchCancel, this), L.DomEvent.on(this._container, 'touchleave', this._onTouchLeave, this)) }, removeHooks: function () { L.DomEvent.off(this._container, 'touchstart', this._onTouchStart), L.DomEvent.off(this._container, 'touchend', this._onTouchEnd), L.DomEvent.off(this._container, 'touchmove', this._onTouchMove), this._detectIE() ? (L.DomEvent.off(this._container, 'MSPointerDowm', this._onTouchStart), L.DomEvent.off(this._container, 'MSPointerUp', this._onTouchEnd), L.DomEvent.off(this._container, 'MSPointerMove', this._onTouchMove), L.DomEvent.off(this._container, 'MSPointerCancel', this._onTouchCancel)) : (L.DomEvent.off(this._container, 'touchcancel', this._onTouchCancel), L.DomEvent.off(this._container, 'touchleave', this._onTouchLeave)) }, _touchEvent: function (r, l) { var e = {}; if (void 0 !== r.touches) { if (!r.touches.length) return; e = r.touches[0] } else { if ('touch' !== r.pointerType) return; if (e = r, !this._filterClick(r)) return } var i = this._map.mouseEventToContainerPoint(e), s = this._map.mouseEventToLayerPoint(e), d = this._map.layerPointToLatLng(s); this._map.fire(l, { latlng: d, layerPoint: s, containerPoint: i, pageX: e.pageX, pageY: e.pageY, originalEvent: r }) }, _filterClick: function (o) { var t = o.timeStamp || o.originalEvent.timeStamp, e = L.DomEvent._lastClick && t - L.DomEvent._lastClick; return e && 100 < e && 500 > e || o.target._simulatedClick && !o._simulated ? (L.DomEvent.stop(o), !1) : (L.DomEvent._lastClick = t, !0) }, _onTouchStart: function (e) { this._map._loaded && this._touchEvent(e, 'touchstart') }, _onTouchEnd: function (e) { this._map._loaded && this._touchEvent(e, 'touchend') }, _onTouchCancel: function (o) { if (this._map._loaded) { var t = 'touchcancel'; this._detectIE() && (t = 'pointercancel'), this._touchEvent(o, t) } }, _onTouchLeave: function (e) { this._map._loaded && this._touchEvent(e, 'touchleave') }, _onTouchMove: function (e) { this._map._loaded && this._touchEvent(e, 'touchmove') }, _detectIE: function () { var t = s.navigator.userAgent, e = t.indexOf('MSIE '); if (0 < e) return parseInt(t.substring(e + 5, t.indexOf('.', e)), 10); if (0 < t.indexOf('Trident/')) { var n = t.indexOf('rv:'); return parseInt(t.substring(n + 3, t.indexOf('.', n)), 10) } var o = t.indexOf('Edge/'); return 0 < o && parseInt(t.substring(o + 5, t.indexOf('.', o)), 10) } }), L.Map.addInitHook('addHandler', 'touchExtend', L.Map.TouchExtend), L.Marker.Touch = L.Marker.extend({ _initInteraction: function () { return this.addInteractiveTarget ? L.Marker.prototype._initInteraction.apply(this) : this._initInteractionLegacy() }, _initInteractionLegacy: function () { if (this.options.clickable) { var o = this._icon, t = ['dblclick', 'mousedown', 'mouseover', 'mouseout', 'contextmenu', 'touchstart', 'touchend', 'touchmove']; this._detectIE ? t.concat(['MSPointerDown', 'MSPointerUp', 'MSPointerMove', 'MSPointerCancel']) : t.concat(['touchcancel']), L.DomUtil.addClass(o, 'leaflet-clickable'), L.DomEvent.on(o, 'click', this._onMouseClick, this), L.DomEvent.on(o, 'keypress', this._onKeyPress, this); for (var e = 0; e < t.length; e++)L.DomEvent.on(o, t[e], this._fireMouseEvent, this); L.Handler.MarkerDrag && (this.dragging = new L.Handler.MarkerDrag(this), this.options.draggable && this.dragging.enable()) } }, _detectIE: function () { var t = s.navigator.userAgent, e = t.indexOf('MSIE '); if (0 < e) return parseInt(t.substring(e + 5, t.indexOf('.', e)), 10); if (0 < t.indexOf('Trident/')) { var n = t.indexOf('rv:'); return parseInt(t.substring(n + 3, t.indexOf('.', n)), 10) } var o = t.indexOf('Edge/'); return 0 < o && parseInt(t.substring(o + 5, t.indexOf('.', o)), 10) } }), L.LatLngUtil = { cloneLatLngs: function (a) { for (var t = [], e = 0, n = a.length; e < n; e++)Array.isArray(a[e]) ? t.push(L.LatLngUtil.cloneLatLngs(a[e])) : t.push(this.cloneLatLng(a[e])); return t }, cloneLatLng: function (e) { return L.latLng(e.lat, e.lng) } }, function () { var p = { km: 2, ha: 2, m: 0, mi: 2, ac: 2, yd: 0, ft: 0, nm: 2 }; L.GeometryUtil = L.extend(L.GeometryUtil || {}, { geodesicArea: function (p) { var t = p.length, o = 0, a = l / 180, n, e; if (2 < t) { for (var i = 0; i < t; i++)n = p[i], e = p[(i + 1) % t], o += (e.lng - n.lng) * a * (2 + r(n.lat * a) + r(e.lat * a)); o = 6378137 * (6378137 * o) / 2 } return d(o) }, formattedNumber: function (l, t) { var e = parseFloat(l).toFixed(t), i = L.drawLocal.format && L.drawLocal.format.numeric, o = i && i.delimiters, a = o && o.thousands, n = o && o.decimal; if (a || n) { var s = e.split('.'); e = a ? s[0].replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1' + a) : s[0], n = n || '.', 1 < s.length && (e = e + n + s[1]) } return e }, readableArea: function (t, e, r) { var r = L.Util.extend({}, p, r), o, a; return e ? (a = ['ha', 'm'], type = typeof e, 'string' === type ? a = [e] : 'boolean' !== type && (a = e), o = 1e6 <= t && -1 !== a.indexOf('km') ? L.GeometryUtil.formattedNumber(1e-6 * t, r.km) + ' km\xB2' : 1e4 <= t && -1 !== a.indexOf('ha') ? L.GeometryUtil.formattedNumber(1e-4 * t, r.ha) + ' ha' : L.GeometryUtil.formattedNumber(t, r.m) + ' m\xB2') : (t /= .836127, o = 3097600 <= t ? L.GeometryUtil.formattedNumber(t / 3097600, r.mi) + ' mi\xB2' : 4840 <= t ? L.GeometryUtil.formattedNumber(t / 4840, r.ac) + ' acres' : L.GeometryUtil.formattedNumber(t, r.yd) + ' yd\xB2'), o }, readableDistance: function (t, e, r, o, a) { var a = L.Util.extend({}, p, a), n; switch (e ? 'string' == typeof e ? e : 'metric' : r ? 'feet' : o ? 'nauticalMile' : 'yards') { case 'metric': n = 1e3 < t ? L.GeometryUtil.formattedNumber(t / 1e3, a.km) + ' km' : L.GeometryUtil.formattedNumber(t, a.m) + ' m'; break; case 'feet': t *= 3.28083, n = L.GeometryUtil.formattedNumber(t, a.ft) + ' ft'; break; case 'nauticalMile': t *= .53996, n = L.GeometryUtil.formattedNumber(t / 1e3, a.nm) + ' nm'; break; case 'yards': default: t *= 1.09361, n = 1760 < t ? L.GeometryUtil.formattedNumber(t / 1760, a.mi) + ' miles' : L.GeometryUtil.formattedNumber(t, a.yd) + ' yd'; }return n }, isVersion07x: function () { var e = L.version.split('.'); return 0 === parseInt(e[0], 10) && 7 === parseInt(e[1], 10) } }) }(), L.Util.extend(L.LineUtil, { segmentsIntersect: function (a, t, e, n) { return this._checkCounterclockwise(a, e, n) !== this._checkCounterclockwise(t, e, n) && this._checkCounterclockwise(a, t, e) !== this._checkCounterclockwise(a, t, n) }, _checkCounterclockwise: function (o, t, e) { return (e.y - o.y) * (t.x - o.x) > (t.y - o.y) * (e.x - o.x) } }), L.Polyline.include({ intersects: function () { var n = this._getProjectedPoints(), o = n ? n.length : 0, a, t, e; if (this._tooFewPointsForIntersection()) return !1; for (a = o - 1; 3 <= a; a--)if (t = n[a - 1], e = n[a], this._lineSegmentsIntersectsRange(t, e, a - 2)) return !0; return !1 }, newLatLngIntersects: function (o, t) { return !!this._map && this.newPointIntersects(this._map.latLngToLayerPoint(o), t) }, newPointIntersects: function (n, t) { var e = this._getProjectedPoints(), r = e ? e.length : 0, o = e ? e[r - 1] : null; return !this._tooFewPointsForIntersection(1) && this._lineSegmentsIntersectsRange(o, n, r - 2, t ? 1 : 0) }, _tooFewPointsForIntersection: function (o) { var t = this._getProjectedPoints(), a = t ? t.length : 0; return a += o || 0, !t || 3 >= a }, _lineSegmentsIntersectsRange: function (l, t, e, i) { var o = this._getProjectedPoints(), s, a; i = i || 0; for (var n = e; n > i; n--)if (s = o[n - 1], a = o[n], L.LineUtil.segmentsIntersect(l, t, s, a)) return !0; return !1 }, _getProjectedPoints: function () { if (!this._defaultShape) return this._originalPoints; for (var o = [], t = this._defaultShape(), e = 0; e < t.length; e++)o.push(this._map.latLngToLayerPoint(t[e])); return o } }), L.Polygon.include({ intersects: function () { var n = this._getProjectedPoints(), a, t, e, r; return !this._tooFewPointsForIntersection() && (!!L.Polyline.prototype.intersects.call(this) || (a = n.length, t = n[0], e = n[a - 1], r = a - 2, this._lineSegmentsIntersectsRange(e, t, r, 1))) } }), L.Control.Draw = L.Control.extend({ options: { position: 'topleft', draw: {}, edit: !1 }, initialize: function (o) { if ('0.7' > L.version) throw new Error('Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/'); L.Control.prototype.initialize.call(this, o); var t; this._toolbars = {}, L.DrawToolbar && this.options.draw && (t = new L.DrawToolbar(this.options.draw), this._toolbars[L.DrawToolbar.TYPE] = t, this._toolbars[L.DrawToolbar.TYPE].on('enable', this._toolbarEnabled, this)), L.EditToolbar && this.options.edit && (t = new L.EditToolbar(this.options.edit), this._toolbars[L.EditToolbar.TYPE] = t, this._toolbars[L.EditToolbar.TYPE].on('enable', this._toolbarEnabled, this)), L.toolbar = this }, onAdd: function (n) { var t = L.DomUtil.create('div', 'leaflet-draw'), r = !1, o; for (var e in this._toolbars) this._toolbars.hasOwnProperty(e) && (o = this._toolbars[e].addToolbar(n)) && (r || (L.DomUtil.hasClass(o, 'leaflet-draw-toolbar-top') || L.DomUtil.addClass(o.childNodes[0], 'leaflet-draw-toolbar-top'), r = !0), t.appendChild(o)); return t }, onRemove: function () { for (var e in this._toolbars) this._toolbars.hasOwnProperty(e) && this._toolbars[e].removeToolbar() }, setDrawingOptions: function (o) { for (var t in this._toolbars) this._toolbars[t] instanceof L.DrawToolbar && this._toolbars[t].setOptions(o) }, _toolbarEnabled: function (o) { var t = o.target; for (var e in this._toolbars) this._toolbars[e] !== t && this._toolbars[e].disable() } }), L.Map.mergeOptions({ drawControlTooltips: !0, drawControl: !1 }), L.Map.addInitHook(function () { this.options.drawControl && (this.drawControl = new L.Control.Draw, this.addControl(this.drawControl)) }), L.Toolbar = L.Class.extend({ initialize: function (o) { L.setOptions(this, o), this._modes = {}, this._actionButtons = [], this._activeMode = null; var t = L.version.split('.'); 1 === parseInt(t[0], 10) && 2 <= parseInt(t[1], 10) ? L.Toolbar.include(L.Evented.prototype) : L.Toolbar.include(L.Mixin.Events) }, enabled: function () { return null !== this._activeMode }, disable: function () { this.enabled() && this._activeMode.handler.disable() }, addToolbar: function (r) { var t = L.DomUtil.create('div', 'leaflet-draw-section'), i = 0, o = this._toolbarClass || '', a = this.getModeHandlers(r), n; for (this._toolbarContainer = L.DomUtil.create('div', 'leaflet-draw-toolbar leaflet-bar'), this._map = r, n = 0; n < a.length; n++)a[n].enabled && this._initModeHandler(a[n].handler, this._toolbarContainer, i++, o, a[n].title); if (i) return this._lastButtonIndex = --i, this._actionsContainer = L.DomUtil.create('ul', 'leaflet-draw-actions'), t.appendChild(this._toolbarContainer), t.appendChild(this._actionsContainer), t }, removeToolbar: function () { for (var o in this._modes) this._modes.hasOwnProperty(o) && (this._disposeButton(this._modes[o].button, this._modes[o].handler.enable, this._modes[o].handler), this._modes[o].handler.disable(), this._modes[o].handler.off('enabled', this._handlerActivated, this).off('disabled', this._handlerDeactivated, this)); this._modes = {}; for (var t = 0, e = this._actionButtons.length; t < e; t++)this._disposeButton(this._actionButtons[t].button, this._actionButtons[t].callback, this); this._actionButtons = [], this._actionsContainer = null }, _initModeHandler: function (r, t, l, i, o) { var s = r.type; this._modes[s] = {}, this._modes[s].handler = r, this._modes[s].button = this._createButton({ type: s, title: o, className: i + '-' + s, container: t, callback: this._modes[s].handler.enable, context: this._modes[s].handler }), this._modes[s].buttonIndex = l, this._modes[s].handler.on('enabled', this._handlerActivated, this).on('disabled', this._handlerDeactivated, this) }, _detectIOS: function () { return /iPad|iPhone|iPod/.test(navigator.userAgent) && !s.MSStream }, _createButton: function (a) { var t = L.DomUtil.create('a', a.className || '', a.container), e = L.DomUtil.create('span', 'sr-only', a.container); t.href = '#', t.appendChild(e), a.title && (t.title = a.title, e.innerHTML = a.title), a.text && (t.innerHTML = a.text, e.innerHTML = a.text); var n = this._detectIOS() ? 'touchstart' : 'click'; return L.DomEvent.on(t, 'click', L.DomEvent.stopPropagation).on(t, 'mousedown', L.DomEvent.stopPropagation).on(t, 'dblclick', L.DomEvent.stopPropagation).on(t, 'touchstart', L.DomEvent.stopPropagation).on(t, 'click', L.DomEvent.preventDefault).on(t, n, a.callback, a.context), t }, _disposeButton: function (o, t) { var e = this._detectIOS() ? 'touchstart' : 'click'; L.DomEvent.off(o, 'click', L.DomEvent.stopPropagation).off(o, 'mousedown', L.DomEvent.stopPropagation).off(o, 'dblclick', L.DomEvent.stopPropagation).off(o, 'touchstart', L.DomEvent.stopPropagation).off(o, 'click', L.DomEvent.preventDefault).off(o, e, t) }, _handlerActivated: function (e) { this.disable(), this._activeMode = this._modes[e.handler], L.DomUtil.addClass(this._activeMode.button, 'leaflet-draw-toolbar-button-enabled'), this._showActionsToolbar(), this.fire('enable') }, _handlerDeactivated: function () { this._hideActionsToolbar(), L.DomUtil.removeClass(this._activeMode.button, 'leaflet-draw-toolbar-button-enabled'), this._activeMode = null, this.fire('disable') }, _createActions: function (d) { var t = this._actionsContainer, n = this.getActions(d), s = n.length, r, p, i, o; for (p = 0, i = this._actionButtons.length; p < i; p++)this._disposeButton(this._actionButtons[p].button, this._actionButtons[p].callback); for (this._actionButtons = []; t.firstChild;)t.removeChild(t.firstChild); for (var c = 0; c < s; c++)'enabled' in n[c] && !n[c].enabled || (r = L.DomUtil.create('li', '', t), o = this._createButton({ title: n[c].title, text: n[c].text, container: r, callback: n[c].callback, context: n[c].context }), this._actionButtons.push({ button: o, callback: n[c].callback })) }, _showActionsToolbar: function () { var o = this._activeMode.buttonIndex, t = this._lastButtonIndex, e = this._activeMode.button.offsetTop - 1; this._createActions(this._activeMode.handler), this._actionsContainer.style.top = e + 'px', 0 === o && (L.DomUtil.addClass(this._toolbarContainer, 'leaflet-draw-toolbar-notop'), L.DomUtil.addClass(this._actionsContainer, 'leaflet-draw-actions-top')), o === t && (L.DomUtil.addClass(this._toolbarContainer, 'leaflet-draw-toolbar-nobottom'), L.DomUtil.addClass(this._actionsContainer, 'leaflet-draw-actions-bottom')), this._actionsContainer.style.display = 'block', this._map.fire(L.Draw.Event.TOOLBAROPENED) }, _hideActionsToolbar: function () { this._actionsContainer.style.display = 'none', L.DomUtil.removeClass(this._toolbarContainer, 'leaflet-draw-toolbar-notop'), L.DomUtil.removeClass(this._toolbarContainer, 'leaflet-draw-toolbar-nobottom'), L.DomUtil.removeClass(this._actionsContainer, 'leaflet-draw-actions-top'), L.DomUtil.removeClass(this._actionsContainer, 'leaflet-draw-actions-bottom'), this._map.fire(L.Draw.Event.TOOLBARCLOSED) } }), L.Draw = L.Draw || {}, L.Draw.Tooltip = L.Class.extend({ initialize: function (e) { this._map = e, this._popupPane = e._panes.popupPane, this._visible = !1, this._container = e.options.drawControlTooltips ? L.DomUtil.create('div', 'leaflet-draw-tooltip', this._popupPane) : null, this._singleLineLabel = !1, this._map.on('mouseout', this._onMouseOut, this) }, dispose: function () { this._map.off('mouseout', this._onMouseOut, this), this._container && (this._popupPane.removeChild(this._container), this._container = null) }, updateContent: function (e) { return this._container ? (e.subtext = e.subtext || '', 0 !== e.subtext.length || this._singleLineLabel ? 0 < e.subtext.length && this._singleLineLabel && (L.DomUtil.removeClass(this._container, 'leaflet-draw-tooltip-single'), this._singleLineLabel = !1) : (L.DomUtil.addClass(this._container, 'leaflet-draw-tooltip-single'), this._singleLineLabel = !0), this._container.innerHTML = (0 < e.subtext.length ? '<span class="leaflet-draw-tooltip-subtext">' + e.subtext + '</span><br />' : '') + '<span>' + e.text + '</span>', e.text || e.subtext ? (this._visible = !0, this._container.style.visibility = 'inherit') : (this._visible = !1, this._container.style.visibility = 'hidden'), this) : this }, updatePosition: function (o) { var t = this._map.latLngToLayerPoint(o), e = this._container; return this._container && (this._visible && (e.style.visibility = 'inherit'), L.DomUtil.setPosition(e, t)), this }, showAsError: function () { return this._container && L.DomUtil.addClass(this._container, 'leaflet-error-draw-tooltip'), this }, removeError: function () { return this._container && L.DomUtil.removeClass(this._container, 'leaflet-error-draw-tooltip'), this }, _onMouseOut: function () { this._container && (this._container.style.visibility = 'hidden') } }), L.DrawToolbar = L.Toolbar.extend({ statics: { TYPE: 'draw' }, options: { polyline: {}, polygon: {}, rectangle: {}, circle: {}, marker: {}, circlemarker: {} }, initialize: function (o) { for (var t in this.options) this.options.hasOwnProperty(t) && o[t] && (o[t] = L.extend({}, this.options[t], o[t])); this._toolbarClass = 'leaflet-draw-draw', L.Toolbar.prototype.initialize.call(this, o) }, getModeHandlers: function (e) { return [{ enabled: this.options.polyline, handler: new L.Draw.Polyline(e, this.options.polyline), title: L.drawLocal.draw.toolbar.buttons.polyline }, { enabled: this.options.polygon, handler: new L.Draw.Polygon(e, this.options.polygon), title: L.drawLocal.draw.toolbar.buttons.polygon }, { enabled: this.options.rectangle, handler: new L.Draw.Rectangle(e, this.options.rectangle), title: L.drawLocal.draw.toolbar.buttons.rectangle }, { enabled: this.options.circle, handler: new L.Draw.Circle(e, this.options.circle), title: L.drawLocal.draw.toolbar.buttons.circle }, { enabled: this.options.marker, handler: new L.Draw.Marker(e, this.options.marker), title: L.drawLocal.draw.toolbar.buttons.marker }, { enabled: this.options.circlemarker, handler: new L.Draw.CircleMarker(e, this.options.circlemarker), title: L.drawLocal.draw.toolbar.buttons.circlemarker }] }, getActions: function (e) { return [{ enabled: e.completeShape, title: L.drawLocal.draw.toolbar.finish.title, text: L.drawLocal.draw.toolbar.finish.text, callback: e.completeShape, context: e }, { enabled: e.deleteLastVertex, title: L.drawLocal.draw.toolbar.undo.title, text: L.drawLocal.draw.toolbar.undo.text, callback: e.deleteLastVertex, context: e }, { title: L.drawLocal.draw.toolbar.actions.title, text: L.drawLocal.draw.toolbar.actions.text, callback: this.disable, context: this }] }, setOptions: function (o) { for (var t in L.setOptions(this, o), this._modes) this._modes.hasOwnProperty(t) && o.hasOwnProperty(t) && this._modes[t].handler.setOptions(o[t]) } }), L.EditToolbar = L.Toolbar.extend({ statics: { TYPE: 'edit' }, options: { edit: { selectedPathOptions: { dashArray: '10, 10', fill: !0, fillColor: '#fe57a1', fillOpacity: .1, maintainColor: !1 } }, remove: {}, poly: null, featureGroup: null }, initialize: function (e) { e.edit && (void 0 === e.edit.selectedPathOptions && (e.edit.selectedPathOptions = this.options.edit.selectedPathOptions), e.edit.selectedPathOptions = L.extend({}, this.options.edit.selectedPathOptions, e.edit.selectedPathOptions)), e.remove && (e.remove = L.extend({}, this.options.remove, e.remove)), e.poly && (e.poly = L.extend({}, this.options.poly, e.poly)), this._toolbarClass = 'leaflet-draw-edit', L.Toolbar.prototype.initialize.call(this, e), this._selectedFeatureCount = 0 }, getModeHandlers: function (o) { var t = this.options.featureGroup; return [{ enabled: this.options.edit, handler: new L.EditToolbar.Edit(o, { featureGroup: t, selectedPathOptions: this.options.edit.selectedPathOptions, poly: this.options.poly }), title: L.drawLocal.edit.toolbar.buttons.edit }, { enabled: this.options.remove, handler: new L.EditToolbar.Delete(o, { featureGroup: t }), title: L.drawLocal.edit.toolbar.buttons.remove }] }, getActions: function (o) { var t = [{ title: L.drawLocal.edit.toolbar.actions.save.title, text: L.drawLocal.edit.toolbar.actions.save.text, callback: this._save, context: this }, { title: L.drawLocal.edit.toolbar.actions.cancel.title, text: L.drawLocal.edit.toolbar.actions.cancel.text, callback: this.disable, context: this }]; return o.removeAllLayers && t.push({ title: L.drawLocal.edit.toolbar.actions.clearAll.title, text: L.drawLocal.edit.toolbar.actions.clearAll.text, callback: this._clearAllLayers, context: this }), t }, addToolbar: function (o) { var t = L.Toolbar.prototype.addToolbar.call(this, o); return this._checkDisabled(), this.options.featureGroup.on('layeradd layerremove', this._checkDisabled, this), t }, removeToolbar: function () { this.options.featureGroup.off('layeradd layerremove', this._checkDisabled, this), L.Toolbar.prototype.removeToolbar.call(this) }, disable: function () { this.enabled() && (this._activeMode.handler.revertLayers(), L.Toolbar.prototype.disable.call(this)) }, _save: function () { this._activeMode.handler.save(), this._activeMode && this._activeMode.handler.disable() }, _clearAllLayers: function () { this._activeMode.handler.removeAllLayers(), this._activeMode && this._activeMode.handler.disable() }, _checkDisabled: function () { var o = this.options.featureGroup, e = 0 !== o.getLayers().length, a; this.options.edit && (a = this._modes[L.EditToolbar.Edit.TYPE].button, e ? L.DomUtil.removeClass(a, 'leaflet-disabled') : L.DomUtil.addClass(a, 'leaflet-disabled'), a.setAttribute('title', e ? L.drawLocal.edit.toolbar.buttons.edit : L.drawLocal.edit.toolbar.buttons.editDisabled)), this.options.remove && (a = this._modes[L.EditToolbar.Delete.TYPE].button, e ? L.DomUtil.removeClass(a, 'leaflet-disabled') : L.DomUtil.addClass(a, 'leaflet-disabled'), a.setAttribute('title', e ? L.drawLocal.edit.toolbar.buttons.remove : L.drawLocal.edit.toolbar.buttons.removeDisabled)) } }), L.EditToolbar.Edit = L.Handler.extend({ statics: { TYPE: 'edit' }, initialize: function (o, t) { if (L.Handler.prototype.initialize.call(this, o), L.setOptions(this, t), this._featureGroup = t.featureGroup, !(this._featureGroup instanceof L.FeatureGroup)) throw new Error('options.featureGroup must be a L.FeatureGroup'); this._uneditedLayerProps = {}, this.type = L.EditToolbar.Edit.TYPE; var e = L.version.split('.'); 1 === parseInt(e[0], 10) && 2 <= parseInt(e[1], 10) ? L.EditToolbar.Edit.include(L.Evented.prototype) : L.EditToolbar.Edit.include(L.Mixin.Events) }, enable: function () { !this._enabled && this._hasAvailableLayers() && (this.fire('enabled', { handler: this.type }), this._map.fire(L.Draw.Event.EDITSTART, { handler: this.type }), L.Handler.prototype.enable.call(this), this._featureGroup.on('layeradd', this._enableLayerEdit, this).on('layerremove', this._disableLayerEdit, this)) }, disable: function () { this._enabled && (this._featureGroup.off('layeradd', this._enableLayerEdit, this).off('layerremove', this._disableLayerEdit, this), L.Handler.prototype.disable.call(this), this._map.fire(L.Draw.Event.EDITSTOP, { handler: this.type }), this.fire('disabled', { handler: this.type })) }, addHooks: function () { var e = this._map; e && (e.getContainer().focus(), this._featureGroup.eachLayer(this._enableLayerEdit, this), this._tooltip = new L.Draw.Tooltip(this._map), this._tooltip.updateContent({ text: L.drawLocal.edit.handlers.edit.tooltip.text, subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext }), e._editTooltip = this._tooltip, this._updateTooltip(), this._map.on('mousemove', this._onMouseMove, this).on('touchmove', this._onMouseMove, this).on('MSPointerMove', this._onMouseMove, this).on(L.Draw.Event.EDITVERTEX, this._updateTooltip, this)) }, removeHooks: function () { this._map && (this._featureGroup.eachLayer(this._disableLayerEdit, this), this._uneditedLayerProps = {}, this._tooltip.dispose(), this._tooltip = null, this._map.off('mousemove', this._onMouseMove, this).off('touchmove', this._onMouseMove, this).off('MSPointerMove', this._onMouseMove, this).off(L.Draw.Event.EDITVERTEX, this._updateTooltip, this)) }, revertLayers: function () { this._featureGroup.eachLayer(function (e) { this._revertLayer(e) }, this) }, save: function () { var o = new L.LayerGroup; this._featureGroup.eachLayer(function (t) { t.edited && (o.addLayer(t), t.edited = !1) }), this._map.fire(L.Draw.Event.EDITED, { layers: o }) }, _backupLayer: function (o) { var t = L.Util.stamp(o); this._uneditedLayerProps[t] || (o instanceof L.Polyline || o instanceof L.Polygon || o instanceof L.Rectangle ? this._uneditedLayerProps[t] = { latlngs: L.LatLngUtil.cloneLatLngs(o.getLatLngs()) } : o instanceof L.Circle ? this._uneditedLayerProps[t] = { latlng: L.LatLngUtil.cloneLatLng(o.getLatLng()), radius: o.getRadius() } : (o instanceof L.Marker || o instanceof L.CircleMarker) && (this._uneditedLayerProps[t] = { latlng: L.LatLngUtil.cloneLatLng(o.getLatLng()) })) }, _getTooltipText: function () { return { text: L.drawLocal.edit.handlers.edit.tooltip.text, subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext } }, _updateTooltip: function () { this._tooltip.updateContent(this._getTooltipText()) }, _revertLayer: function (o) { var a = L.Util.stamp(o); o.edited = !1, this._uneditedLayerProps.hasOwnProperty(a) && (o instanceof L.Polyline || o instanceof L.Polygon || o instanceof L.Rectangle ? o.setLatLngs(this._uneditedLayerProps[a].latlngs) : o instanceof L.Circle ? (o.setLatLng(this._uneditedLayerProps[a].latlng), o.setRadius(this._uneditedLayerProps[a].radius)) : (o instanceof L.Marker || o instanceof L.CircleMarker) && o.setLatLng(this._uneditedLayerProps[a].latlng), o.fire('revert-edited', { layer: o })) }, _enableLayerEdit: function (a) { var t = a.layer || a.target || a, o, e; this._backupLayer(t), this.options.poly && (e = L.Util.extend({}, this.options.poly), t.options.poly = e), this.options.selectedPathOptions && (o = L.Util.extend({}, this.options.selectedPathOptions), o.maintainColor && (o.color = t.options.color, o.fillColor = t.options.fillColor), t.options.original = L.extend({}, t.options), t.options.editing = o), t instanceof L.Marker ? (t.editing && t.editing.enable(), t.dragging.enable(), t.on('dragend', this._onMarkerDragEnd).on('touchmove', this._onTouchMove, this).on('MSPointerMove', this._onTouchMove, this).on('touchend', this._onMarkerDragEnd, this).on('MSPointerUp', this._onMarkerDragEnd, this)) : t.editing.enable() }, _disableLayerEdit: function (o) { var t = o.layer || o.target || o; t.edited = !1, t.editing && t.editing.disable(), delete t.options.editing, delete t.options.original, this._selectedPathOptions && (t instanceof L.Marker ? this._toggleMarkerHighlight(t) : (t.setStyle(t.options.previousOptions), delete t.options.previousOptions)), t instanceof L.Marker ? (t.dragging.disable(), t.off('dragend', this._onMarkerDragEnd, this).off('touchmove', this._onTouchMove, this).off('MSPointerMove', this._onTouchMove, this).off('touchend', this._onMarkerDragEnd, this).off('MSPointerUp', this._onMarkerDragEnd, this)) : t.editing.disable() }, _onMouseMove: function (e) { this._tooltip.updatePosition(e.latlng) }, _onMarkerDragEnd: function (o) { var t = o.target; t.edited = !0, this._map.fire(L.Draw.Event.EDITMOVE, { layer: t }) }, _onTouchMove: function (a) { var t = a.originalEvent.changedTouches[0], e = this._map.mouseEventToLayerPoint(t), n = this._map.layerPointToLatLng(e); a.target.setLatLng(n) }, _hasAvailableLayers: function () { return 0 !== this._featureGroup.getLayers().length } }), L.EditToolbar.Delete = L.Handler.extend({ statics: { TYPE: 'remove' }, initialize: function (o, t) { if (L.Handler.prototype.initialize.call(this, o), L.Util.setOptions(this, t), this._deletableLayers = this.options.featureGroup, !(this._deletableLayers instanceof L.FeatureGroup)) throw new Error('options.featureGroup must be a L.FeatureGroup'); this.type = L.EditToolbar.Delete.TYPE; var e = L.version.split('.'); 1 === parseInt(e[0], 10) && 2 <= parseInt(e[1], 10) ? L.EditToolbar.Delete.include(L.Evented.prototype) : L.EditToolbar.Delete.include(L.Mixin.Events) }, enable: function () { !this._enabled && this._hasAvailableLayers() && (this.fire('enabled', { handler: this.type }), this._map.fire(L.Draw.Event.DELETESTART, { handler: this.type }), L.Handler.prototype.enable.call(this), this._deletableLayers.on('layeradd', this._enableLayerDelete, this).on('layerremove', this._disableLayerDelete, this)) }, disable: function () { this._enabled && (this._deletableLayers.off('layeradd', this._enableLayerDelete, this).off('layerremove', this._disableLayerDelete, this), L.Handler.prototype.disable.call(this), this._map.fire(L.Draw.Event.DELETESTOP, { handler: this.type }), this.fire('disabled', { handler: this.type })) }, addHooks: function () { var e = this._map; e && (e.getContainer().focus(), this._deletableLayers.eachLayer(this._enableLayerDelete, this), this._deletedLayers = new L.LayerGroup, this._tooltip = new L.Draw.Tooltip(this._map), this._tooltip.updateContent({ text: L.drawLocal.edit.handlers.remove.tooltip.text }), this._map.on('mousemove', this._onMouseMove, this)) }, removeHooks: function () { this._map && (this._deletableLayers.eachLayer(this._disableLayerDelete, this), this._deletedLayers = null, this._tooltip.dispose(), this._tooltip = null, this._map.off('mousemove', this._onMouseMove, this)) }, revertLayers: function () { this._deletedLayers.eachLayer(function (e) { this._deletableLayers.addLayer(e), e.fire('revert-deleted', { layer: e }) }, this) }, save: function () { this._map.fire(L.Draw.Event.DELETED, { layers: this._deletedLayers }) }, removeAllLayers: function () { this._deletableLayers.eachLayer(function (e) { this._removeLayer({ layer: e }) }, this), this.save() }, _enableLayerDelete: function (e) { (e.layer || e.target || e).on('click', this._removeLayer, this) }, _disableLayerDelete: function (o) { var t = o.layer || o.target || o; t.off('click', this._removeLayer, this), this._deletedLayers.removeLayer(t) }, _removeLayer: function (o) { var t = o.layer || o.target || o; this._deletableLayers.removeLayer(t), this._deletedLayers.addLayer(t), t.fire('deleted') }, _onMouseMove: function (e) { this._tooltip.updatePosition(e.latlng) }, _hasAvailableLayers: function () { return 0 !== this._deletableLayers.getLayers().length } }) }(window, document) }, function () { (function () { L.Handler.MarkerSnap = L.Handler.extend({ options: { snapDistance: 15, snapVertices: !0 }, initialize: function (e, t, o) { function a() { this._buffer = e.layerPointToLatLng(new L.Point(0, 0)).lat - e.layerPointToLatLng(new L.Point(this.options.snapDistance, 0)).lat } L.Handler.prototype.initialize.call(this, e), this._markers = [], this._guides = [], 2 != arguments.length || t instanceof L.Class || (o = t, t = null), L.Util.setOptions(this, o || {}), t && (!t.dragging && (t.dragging = new L.Handler.MarkerDrag(t)), t.dragging.enable(), this.watchMarker(t)), e.on('zoomend', a, this), e.whenReady(a, this), a.call(this) }, enable: function () { this.disable(); for (var e = 0; e < this._markers.length; e++)this.watchMarker(this._markers[e]) }, disable: function () { for (var e = 0; e < this._markers.length; e++)this.unwatchMarker(this._markers[e]) }, watchMarker: function (e) { -1 == this._markers.indexOf(e) && this._markers.push(e), e.on('move', this._snapMarker, this) }, unwatchMarker: function (e) { e.off('move', this._snapMarker, this), delete e.snap }, addGuideLayer: function (e) { for (var t = 0, o = this._guides.length; t < o; t++)if (L.stamp(e) === L.stamp(this._guides[t])) return; this._guides.push(e) }, _snapMarker: function (t) { function e(e) { if (e.getLatLng) return L.stamp(a) !== L.stamp(e); if (e.editing && e.editing._enabled) for (var t = e.editing._verticesHandlers[0]._markerGroup.getLayers(), o = 0, r = t.length; o < r; o++)if (L.stamp(t[o]) === L.stamp(a)) return !1; return !0 } function o(t) { if (t._layers !== void 0 && 'function' != typeof t.searchBuffer) for (var a in t._layers) o(t._layers[a]); else if ('function' == typeof t.searchBuffer) { var n = t.searchBuffer(r, this._buffer); l = l.concat(n.filter(function (t) { return e(t) })) } else e(t) && l.push(t) } for (var a = t.target, r = a.getLatLng(), l = [], s = 0, i = this._guides.length, n; s < i; s++)n = this._guides[s], o.call(this, n); var d = this._findClosestLayerSnap(this._map, l, r, this.options.snapDistance, this.options.snapVertices); d = d || { layer: null, latlng: null }, this._updateSnap(a, d.layer, d.latlng) }, _findClosestLayerSnap: function (e, t, o, a, n) { return L.GeometryUtil.closestLayerSnap(e, t, o, a, n) }, _updateSnap: function (e, t, o) { t && o ? (e._latlng = L.latLng(o), e.update(), e.snap != t && (e.snap = t, e._icon && L.DomUtil.addClass(e._icon, 'marker-snapped'), e.fire('snap', { layer: t, latlng: o }))) : (e.snap && (e._icon && L.DomUtil.removeClass(e._icon, 'marker-snapped'), e.fire('unsnap', { layer: e.snap })), delete e.snap) } }); L.Edit && (L.Handler.PolylineSnap = L.Edit.Poly.extend({ initialize: function (e, t, o) { var a = this; L.Edit.Poly.prototype.initialize.call(this, t, o), this._snapper = new L.Handler.MarkerSnap(e, o), t.on('remove', function () { a.disable() }) }, addGuideLayer: function (e) { this._snapper.addGuideLayer(e) }, _initHandlers: function () { this._verticesHandlers = []; for (var e = 0; e < this.latlngs.length; e++)this._verticesHandlers.push(new L.Edit.PolyVerticesEditSnap(this._poly, this.latlngs[e], this.options)) } }), L.Edit.PolyVerticesEditSnap = L.Edit.PolyVerticesEdit.extend({ _createMarker: function (e, t) { var o = L.Edit.PolyVerticesEdit.prototype._createMarker.call(this, e, t); return void 0 === t ? o.on('dragstart', function () { this._poly.snapediting._snapper.watchMarker(o) }, this) : this._poly.snapediting._snapper.watchMarker(o), o } }), L.EditToolbar.SnapEdit = L.EditToolbar.Edit.extend({ snapOptions: { snapDistance: 15, snapVertices: !0 }, initialize: function (e, t) { L.EditToolbar.Edit.prototype.initialize.call(this, e, t), t.snapOptions && L.Util.extend(this.snapOptions, t.snapOptions), this._guideLayers = Array.isArray(this.snapOptions.guideLayers) ? this.snapOptions.guideLayers : t.guideLayers instanceof L.LayerGroup ? this.snapOptions.guideLayers.getLayers() : [] }, addGuideLayer: function (e) { var t = this._guideLayers.findIndex(function (t) { return L.stamp(e) === L.stamp(t) }); -1 === t && (this._guideLayers.push(e), this._featureGroup.eachLayer(function (e) { e.snapediting && e.snapediting._guides.push(e) })) }, removeGuideLayer: function (e) { var t = this._guideLayers.findIndex(function (t) { return L.stamp(e) === L.stamp(t) }); -1 !== t && (this._guideLayers.splice(t, 1), this._featureGroup.eachLayer(function (e) { e.snapediting && e.snapediting._guides.splice(t, 1) })) }, clearGuideLayers: function () { this._guideLayers = [], this._featureGroup.eachLayer(function (e) { e.snapediting && (e.snapediting._guides = []) }) }, _enableLayerEdit: function (t) { L.EditToolbar.Edit.prototype._enableLayerEdit.call(this, t); var e = t.layer || t.target || t; if (!e.snapediting) { e.getLatLng ? e.snapediting = new L.Handler.MarkerSnap(e._map, e, this.snapOptions) : (e.editing && (e.editing._verticesHandlers[0]._markerGroup.clearLayers(), delete e.editing), e.editing = e.snapediting = new L.Handler.PolylineSnap(e._map, e, this.snapOptions)); for (var o = 0, a = this._guideLayers.length; o < a; o++)e.snapediting.addGuideLayer(this._guideLayers[o]) } e.snapediting.enable() } }), L.Draw.Feature.SnapMixin = { _snap_initialize: function () { this.on('enabled', this._snap_on_enabled, this), this.on('disabled', this._snap_on_disabled, this) }, _snap_on_enabled: function () { if (this.options.guideLayers) { if (!this._mouseMarker) return void this._map.on('layeradd', this._snap_on_enabled, this); this._map.off('layeradd', this._snap_on_enabled, this), this._snapper || (this._snapper = new L.Handler.MarkerSnap(this._map), this.options.snapDistance && (this._snapper.options.snapDistance = this.options.snapDistance), this.options.snapVertices && (this._snapper.options.snapVertices = this.options.snapVertices)); for (var e = 0, t = this.options.guideLayers.length; e < t; e++)this._snapper.addGuideLayer(this.options.guideLayers[e]); var o = this._mouseMarker; this._snapper.watchMarker(o); var a = o.options.icon; o.on('snap', function () { o.setIcon(this.options.icon), o.setOpacity(1) }, this).on('unsnap', function () { o.setIcon(a), o.setOpacity(0) }, this), o.on('click', this._snap_on_click, this) } }, _snap_on_click: function (t) { if (this._markers) { var e = this._markers.length, o = this._markers[e - 1]; if (this._mouseMarker.snap) { if (t && (o.setLatLng(t.target._latlng), this._poly)) { var a = this._poly._latlngs.length; this._poly._latlngs[a - 1] = t.target._latlng, this._poly.redraw() } L.DomUtil.addClass(o._icon, 'marker-snapped') } } }, _snap_on_disabled: function () { delete this._snapper } }, L.Draw.Feature.include(L.Draw.Feature.SnapMixin), L.Draw.Feature.addInitHook('_snap_initialize')) })() }, function (e, t, o) { var a = o(187); 'string' == typeof a && (a = [[e.i, a, '']]); var n = { hmr: !0 }, r; n.transform = r; o(78)(a, n); a.locals && (e.exports = a.locals), !1 }, function (e, t, o) { t = e.exports = o(77)(void 0), t.push([e.i, '.leaflet-draw-section{position:relative}.leaflet-draw-toolbar{margin-top:12px}.leaflet-draw-toolbar-top{margin-top:0}.leaflet-draw-toolbar-notop a:first-child{border-top-right-radius:0}.leaflet-draw-toolbar-nobottom a:last-child{border-bottom-right-radius:0}.leaflet-draw-toolbar a{background-image:url(' + o(188) + ');background-image:linear-gradient(transparent,transparent),url(' + o(116) + ');background-repeat:no-repeat;background-size:300px 30px;background-clip:padding-box}.leaflet-retina .leaflet-draw-toolbar a{background-image:url(' + o(189) + ');background-image:linear-gradient(transparent,transparent),url(' + o(116) + ')}\n.leaflet-draw a{display:block;text-align:center;text-decoration:none}.leaflet-draw a .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.leaflet-draw-actions{display:none;list-style:none;margin:0;padding:0;position:absolute;left:26px;top:0;white-space:nowrap}.leaflet-touch .leaflet-draw-actions{left:32px}.leaflet-right .leaflet-draw-actions{right:26px;left:auto}.leaflet-touch .leaflet-right .leaflet-draw-actions{right:32px;left:auto}.leaflet-draw-actions li{display:inline-block}\n.leaflet-draw-actions li:first-child a{border-left:0}.leaflet-draw-actions li:last-child a{-webkit-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0}.leaflet-right .leaflet-draw-actions li:last-child a{-webkit-border-radius:0;border-radius:0}.leaflet-right .leaflet-draw-actions li:first-child a{-webkit-border-radius:4px 0 0 4px;border-radius:4px 0 0 4px}.leaflet-draw-actions a{background-color:#919187;border-left:1px solid #AAA;color:#FFF;font:11px/19px "Helvetica Neue",Arial,Helvetica,sans-serif;line-height:28px;text-decoration:none;padding-left:10px;padding-right:10px;height:28px}\n.leaflet-touch .leaflet-draw-actions a{font-size:12px;line-height:30px;height:30px}.leaflet-draw-actions-bottom{margin-top:0}.leaflet-draw-actions-top{margin-top:1px}.leaflet-draw-actions-top a,.leaflet-draw-actions-bottom a{height:27px;line-height:27px}.leaflet-draw-actions a:hover{background-color:#a0a098}.leaflet-draw-actions-top.leaflet-draw-actions-bottom a{height:26px;line-height:26px}.leaflet-draw-toolbar .leaflet-draw-draw-polyline{background-position:-2px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-polyline{background-position:0 -1px}\n.leaflet-draw-toolbar .leaflet-draw-draw-polygon{background-position:-31px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-polygon{background-position:-29px -1px}.leaflet-draw-toolbar .leaflet-draw-draw-rectangle{background-position:-62px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-rectangle{background-position:-60px -1px}.leaflet-draw-toolbar .leaflet-draw-draw-circle{background-position:-92px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-circle{background-position:-90px -1px}\n.leaflet-draw-toolbar .leaflet-draw-draw-marker{background-position:-122px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-marker{background-position:-120px -1px}.leaflet-draw-toolbar .leaflet-draw-draw-circlemarker{background-position:-273px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-circlemarker{background-position:-271px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-edit{background-position:-152px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-edit{background-position:-150px -1px}\n.leaflet-draw-toolbar .leaflet-draw-edit-remove{background-position:-182px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-remove{background-position:-180px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-edit.leaflet-disabled{background-position:-212px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-edit.leaflet-disabled{background-position:-210px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-remove.leaflet-disabled{background-position:-242px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-remove.leaflet-disabled{background-position:-240px -2px}\n.leaflet-mouse-marker{background-color:#fff;cursor:crosshair}.leaflet-draw-tooltip{background:#363636;background:rgba(0,0,0,0.5);border:1px solid transparent;-webkit-border-radius:4px;border-radius:4px;color:#fff;font:12px/18px "Helvetica Neue",Arial,Helvetica,sans-serif;margin-left:20px;margin-top:-21px;padding:4px 8px;position:absolute;visibility:hidden;white-space:nowrap;z-index:6}.leaflet-draw-tooltip:before{border-right:6px solid black;border-right-color:rgba(0,0,0,0.5);border-top:6px solid transparent;border-bottom:6px solid transparent;content:"";position:absolute;top:7px;left:-7px}\n.leaflet-error-draw-tooltip{background-color:#f2dede;border:1px solid #e6b6bd;color:#b94a48}.leaflet-error-draw-tooltip:before{border-right-color:#e6b6bd}.leaflet-draw-tooltip-single{margin-top:-12px}.leaflet-draw-tooltip-subtext{color:#f8d5e4}.leaflet-draw-guide-dash{font-size:1%;opacity:.6;position:absolute;width:5px;height:5px}.leaflet-edit-marker-selected{background-color:rgba(254,87,161,0.1);border:4px dashed rgba(254,87,161,0.6);-webkit-border-radius:4px;border-radius:4px;box-sizing:content-box}\n.leaflet-edit-move{cursor:move}.leaflet-edit-resize{cursor:pointer}.leaflet-oldie .leaflet-draw-toolbar{border:1px solid #999}', '']) }, function (e) { e.exports = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAAeCAYAAACWuCNnAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAG7AAABuwBHnU4NQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAbvSURBVHic7dtdbBxXFQfw/9nZ3SRKwAP7UFFUQOoHqGnUoEAoNghX9tyxVcpD1X0J+WgiUQmpfUB5ACSgG1qJIKASqBIUIauqAbWseIlqb+bOWHVR6y0FKZBEqdIUQROIREGRx3FFvR/38ODZst3a3nE8Ywfv+T2t7hzdM3fle/bOnWtACCGEEEIIIYQQQgghhBBCCCGEEEIIIcRa0EbfgBDdFItFKwzDAa3175LuWylVAvBIR/MxrXUp6Vxx9dp4VyObVEdKKW591lonXgiVUg6AHzPzk9ls9meVSmUh6RzXkz179uQKhcIgM+8CACI6U6vVnp+enm6knXt4ePiuTCbzWQAwxlSDIHg57ZwroDAMnwKwz3XdBzzPG08hxzsTNprQG2lTjtd13WFmfghAP4A+AJcATFiW9YNKpfL3uP0kUliiX4SG1pqUUpx0wXJd9/PMXAGwPWq6yMyPz8/P/7xarf4nyVwt7QV4JWkU52i8YwBu6bh0wRhzJAiCF5POCQCDg4N2Pp//NYDRjkuTxph9QRCESeYrFov5ubm5R5n5AIAPtV1aYOb7BgYGTpZKJeO67lFmPsbM9/i+/8Ja8y6zylhOYquPXhsvAJRKpczMzMwTAIaJ6LFGo+HNzs5eKRQKNxPRAWb+CoAjWuvn4vS35skWFasxAAdbbUlOYqVUPwAPwI4lLr8J4KeWZT1eqVTmksoZ5d2QghUVKx/AlmVCFph5yPf9l5LMCwBKqUksFqszRHQcAJj5GwB2MfOE7/tfTDKf4zjHiejrAE4CuNhqZ+bf2rY9FYbhGBH92/O8o47j3Oj7/uUk86+3XhsvACilHmPmgW3btn3pxIkTVzuvj4yMfNoY85wxZiQIglPd+lvTZIuq5xiAQwCe6evr218ul5tr6bNd9GiiAbyvS+hFrfVHk8oLbEzBih4Dz+G9K6t3IaLXFhYWdib5eBh911UA8wBu1lq/CQBDQ0M3WJb1OoAdRPQZz/NeSSqnUuofAKpa6/vb26MfwacA7AdwFcCdWuu/JpU3yl1C91VHoquNXhvvyMjIx4wxr1iWtbNSqfxruTjHcR4AcMj3/bu79XnNe1hpFyvHcXYT0QS6FysASHR1tVEKhcIguhQrAGDm23K53BcATCWV27KsAWYGgPOtYgUAU1NT/1RKnQewxxjzOQCJFSwANwI4297QtmLfD+AtZr43m83OJ5iz3bGU+l1OT43XGFNk5mdXKlYAYNv2eBiG31dK3aS1vrRSbOZabqRYLFppFisAIKJxAB+MGf56krk30O64gZlMJnZsHMxsoo8fHxoauqHVHn3+BAAQUaxV57Xq2F54i5nvIaJXm81mYoX5etID491JRH/sFlQul5tEdMoYc3u32FUXrLYvObViBQDM/MQqwi8knX8jEJHpHrXIGJNo8WDm1spph2VZgeu6+5RSX7YsK8D/Xnb8Psmcnebm5h7G4uS9ysxutOH8VQC70sy7UTb7eImImTnWlgkzUyaT6fr3v6qC1fGL8EytVjuQRrECANu2fwHg1TixzPyXNO5hvTHz6VWE/znJ3L7vzxBRa9PzDmb+FYBfArgjajvd39+f9vGGKwACZh5te6mwmc8KburxMvO5TCbzqW5xxWLRArDbsqyu8z32HtZSxSrNM0Hlcrnpum6JmZ+NEb4pHglrtdrz+Xz+AoBbu4Ser9fra37d3YEBfBvAkq+XmfmbpVIp9grwWnie9zSAp9PMcT3Z7OPNZrO/aTQaf1BKfbd9X7RTGIaHmPlcnPNYsVZYSikOw7AB4CAzj/f19e1fjwOMnueVEeMxJJfLbYqCNT093TDGHAGw0qHYBQBH0vj+Pc+bYOb3HFRk5nHf9yeTzgfgMhF9uEvMTQD+71/vR3pqvJOTk28AeBJAeXR09P1LxbiuuxfA9wB8LU6fsVdYrUOhtm0fTusxcAlMRN+KziUt5SqAM3v37r00OZnGfFp/QRC86DjOUCaTGWPm2zoun8fiIbuZtPLX6/UH8/n8rQDuippertfrD6aRKyqOR5VS81ji8Z+IbmfmgwB+mEb+9dZr4wWA/v7+R6rV6k+azeYpx3EezeVyJ7dv335lfn7+lkajcZCZDzPzYd/3/xSnv9gFq3UuaR2LFQDA87xAKVUB8BEAZ6N9nrNEdEZr/TcArLVOPG8aJ9jj8n3/pcHBwZ1btmx5519zmPl0vV5/Ie2V7fT09Nujo6Nus9kcA4CtW7ce1lq/nUYu27a/Mzs7CyI6gMVX/u/CzJeZ+Ue2bcc9pb1aXc8lJZms18YLANE2wkOu694N4OFGo3E8DMMPAHiDiCaY+ZOb4YCsEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhEjYfwGO+b5dFNs4OgAAAABJRU5ErkJggg==' }, function (e) { e.exports = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAA8CAYAAAC6nMS5AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA16SURBVHic7d1/jBxneQfw7zNzvotdn+9sVQkxoRKoammBqqpbk6uT5mLfvHPn42yn1VFRVCEhoFH5IYpoSaUCKi1NcGkcfrbCVRFKEwG2aHLn83pmLvY2CTqT1AmCOBE0EOT4B0nBPw/snb2dp3/sLr6s77i923dud/a+H8ny7tzMo8f3eud99p133gGIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiFYGaXYCRETUPMYYrWe/MAzZX2QQ27d5OpqdABFROxgZGVlz5cqVrzuOc18QBJPNzofsYvvSYrVcgTVftZ2l6npgYODXHMc5oKoHHcfZHQTB2WbnRETpGRkZWVMoFA6IyO2qutX3/R1Z64TnO8fWOwLSzti+mSKDg4M3l0qlnSJyG4CbAFwP4ByAlwE8paoPX3fddcH4+PjP00yk5QqsrDPGvAZAHsBrReRNqvpeY8x/iMg9QRCcaXJ6ZIHv+xtUdReAHQBej/IHGABOAnhORMY6OjoempiYONe0JC3zPM84jjOqqrfi6r/3RQCPAdgXhmHUvOyaa3R01L1w4cJBALdVNq1W1THP87woir7ZzNyocWzf7PA8b4uI7E6S5A9Frqknb6j8eZOIvKNQKPzU9/1/dhznvlwuV0gjn5YbFapW09Vqu/Z9K9u2bdsNruvmUe50axUAfMV13X/I5XInlzcze2x/28lCu1b19fWt7u7u/hCAvwGwboHdL6jq7unp6T1TU1OXlyG9VAwODv5mkiR7Ady6wK6Plkqldz/yyCPfX468bBkaGuqamZm5E8DbReQNANYscMiLIrI1CILnZ280xrwHwL+hck4VkacBDLTS6HVaIxWt/Blm+zauldu3atOmTas2bNjwWRG5s7LplKp+VUQOuq77/bVr17589uzZ9SKy0XGcAVUdFZE/qOx7zHXdXWn0yy31i6sMw/4MyF6BZYy5XlWPiMhvL7BrrKpfcxznE7Uf4ixYqQWW53kbATw060NZr28nSbJzcnLyRBp5pcnzvNtE5CEAvXUecg7ArjAMH00xLWuGhoZuKpVKEwB+p85DXnRd9/ZcLvcDAOjv778un88XAChwtRMWkW+jxTpfYOV1wGxfO1q1fav6+vpWr1u3blxVtwH4uar+/fT09OcW+mJrjBkBcC+AXwdwBoAJw/AZm7m1zC+uUlyNA9g6189buZH7+/t/tbOz8wiANy7isKKqftV13U8eOnToe2nlZttKLLAqJ+qjAF69xBAnZ2Zmbj58+PApm3mlqTJydRTXFldHAUxVXvcBuLnm5+dU9c1RFP1v2jk2YmhoqKtUKj2B+jvfE0mS3D45OflD4OqcHADPh2H4F6h0wp7nva1YLOby+fz5dDKnerB9Vwzxff8BVX0bgFMAdoZheKzeg4eHh9cXi8WvAfAAvOC67ptzudz/WUvOVqBGVO7OmBCR/vn2adWOuL+/v7ezs3MSwKYlhkgAHBSRjwdB8JTF1FKx0gqsymXBxwH8XoOh/ieO41vz+fwVG3mlzRjzKF55WfA8gD8LwzA3ez/P87aLyIMAeqrbVDUfRdHty5Pp0hhjPgDgM9X3qnq/iNwPYM5RCdd1T1RPvLM63+q/ce/sTpiaj+27Mvi+f6eq/iuAi67r9uVyuWcXG6NSjB8B0KeqE1EUvcVWfk3v3OYZuXosjuPt+Xx+ull51WNgYKBHRKIlXDaaS6Kq+6Mo+lMLsVKz0gosz/M+KiKfsBTub8MwvMdSrNQYYzwAYc3m7bXFVZXv+8OqemD2NlUdiKLokbRybJQx5lsANlfefi4Mww/UedyvADgI4I9mbxeRDwdB8C92s0yHrc9wK3922b6Na+X2BYD+/v61nZ2dz6M8cX00DMP9S421ffv2V83MzDwHoNfmucuxEWSpslxcjYyMrHEcZ8xScQUAjoj8vqVYZIHv+xtE5MMWQ941PDy83mK8VIjIW2s2HZ2vuAKAIAgmADyxQIxWM3uu5J56DhgZGVkDYBw1nS+ApwB82VJeZAfbt82tWrXqPSgXV481UlwBwMGDB3+sqncDgIh81EZ+QBMLrKwXV5Uh5NoPYqMyN+m9nanqHVj4bsHF6InjeKfFeKmoLMUw+/2Ct6KLyOM1m2x/NmxbW30RhuGPFtp5jstGVU+JiNdqE57rEYahzB6lWOz7Fsf2be/2hYj8SeXlvTbiFYvFLwK4DOAWY8z1NmI2pcDKcnE1OjraWSgU9uPaD2LDRKSlJwavQCO2A4rIDtsxU7BxsQeoau2Jeak3BDTDL72kUm/n63neaFoJUkPYvm3G9/0NKN9gc7mrq6t2OsOSVGqPSQCuiAzaiLnsBVaWiysAuHDhwn4AQ2nEVtUfpBGXluwNKcRcaBmPVpDMfiMiW+o4pnafZM69MmYxnW9lsj9lCNs3m1T1tSjXL89aXo39WCX+62wEW9YCK+vFVcXLKcbmJcLW8qoUYmZhZOfFmvc3e563fb6djTFvwdUJxfPFyJx6O1/f999a6Xz5ZIwMYftm2o2Vv60+HUVETldeLnoUfy7LVmC1SXEFVf0YgFSeX5QkCQus9tfyIzsicnSObQ/6vj9cu71SXP1nPTGyplAo5FDT+arqk3Ecb5s9J0dV2flmENs3u0REgTmnJjRkVjwrd2Iuy3+adimuACCKotPGmC8A+GvLoZOZmZkXLMekBojIaVX9DcthTy+8S3MlSTIuIu+q2dyjqgeMMU8A+CYAUdUtAOa8izZJkvG081wG19xN5jjO4ByLTLrLlRBZxfbNrjMAICI3LrTjIlVHrqyMjKU+gtVOxVVVHMf/hHkWrGvAiawsQrlSqOqiF61rRkzbOjo6AsxfCG4G8FcAPvhLlih5qVgsWpl42kIyezcZ1YXtmy0/QvlqwG9V1i6zZRMAiIiV+dCpFljtWFwBQOUbzqcth+XlwdZjfRRGRMZsx7St8mT5zzcQ4r52+LKgqp9S1U8B+GTtZSPKPrZvdlXaagrAalU1NmJWCrVtAEqO4xyyETO1S4TtWlxVXbp06b7u7u6/BHCTjXiqygKrxYjIQ6p6L2Y9BqZB51etWtXyBRYAuK77hVKp9H5cnUxarzOu634xjZyWWxRFdzU7B0oP2zfbVPUbIrLFcZwPAfivRuOJyPtUdbWq5m09jzCVEax2L64AYGpq6rKq/qOteI7jsMBqMUEQnFXV3bbiqerdExMT52zFS1Mul7soIovugETkI7lc7mIaORERVRWLxS8BeElVb/F9v6EnR/i+f6Oq3gUAjuPYejSavQLLGKPVP4VC4Wd4ZXF1pKura7Bdiquq3t7efwfwnKVwLLBa0PT09B5U1kZp0BPFYvGzFuIsmyAI7kf5uWz1OhgEwTV3FLaoX5yLKosWLknNsZcayohsYvu2uUo98TEAUNW9vu8vad3CoaGhLlX9BoBeAONBEByxleNyLNPwWBzHOywvBtYS9u3bV1LVj1sKxwKrBU1NTV12XXcXgFMNhDmpqndkcF6SisifAzhRx76n4jh+Byzd3rwMjldfqOqSV+xPkmT2yvzH592RlhvbdwUIw3AvgAcArFPVcHBwcFHPBvZ9f0OpVDqA8qrwL8Rx/E6b+VkvsGqfZ9ROlwXnEkXRfgDfajCMXrx48Yc28iH7crncSVXdrKpPLvZYEXk6SZItURS1/PIMcwmC4KzjOCMAam9dn+0SgJ35fP4ny5SWDQ/Mer3HGLPoTtgYMyIiv3gOmqpmZfRuJWD7rgwax/G7UH7EzcYkSf7bGHNXX1/f6oUO9H1/Z+WcPoDysgw7bJ/DUl8Hq52LqwoVkb9T1WiRx8UoX158RlWfnJqaupxCbmRJFEWn+/r6buvu7v4ggI9g4Ynv50XknkKh8JkMjly9wqFDh77j+/6oqo4BqD1xXRaRPw6CwMZl1GXjuu6XSqXSOwH8LoD1AMaMMecA1PtF53WV4wCUC+menp699jOlpWD7rhz5fP5Kf3//UFdX132q+l4Ad3d3d7/fGPN1EZlQ1e/19PS8dPbs2fWu694kIgOqOqqqm4Dy4rKlUumOw4cPN3KVYk7WVkE1xsx5aSBLT+duhDEmQrkSnssZlIeXnxWRY6p6PI7j41nveFeq4eHh9XEc7xSRnQBej6t3kp5EuWh+OI7jh+dYsDDTfN/frKrjAKpPmv9pkiS7JicnH29mXku1devWV3d0dBxAuRNeMhF5ulgsjqRxgk7DfOfqxWr1czvbtzGt3r5zGRwc7FPV3ap6y0L7ishPAHx63bp1e/bt2xenkQ8LLEuMMZtE5JCqfhfAMwCeSZLkO2vWrDk+NjbGyZHUFjzP2yginwcAVX1fVi99Vo2OjnaeP3/+3SLydgBvBNBd56GXAHxXVR/s7e3dm9YJOg0rqQNm+y5dFtp3HmKM2QxgF8qr9b8GwA0AzgH4MYBjIjJ28eLFkFeOiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIhWgv8Hnffz4dmwY9cAAAAASUVORK5CYII=' }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function r(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function i(e, t, o) { return t && r(e.prototype, t), o && r(e, o), e } function l(e, t) { return t && ('object' === a(t) || 'function' == typeof t) ? t : s(e) } function s(e) { if (void 0 === e) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called'); return e } function d(e, t, o) { return d = 'undefined' != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, o) { var a = p(e, t); if (a) { var n = Object.getOwnPropertyDescriptor(a, t); return n.get ? n.get.call(o) : n.value } }, d(e, t, o || e) } function p(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && (e = c(e), null !== e);); return e } function c(e) { return c = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, c(e) } function g(e, t) { if ('function' != typeof t && null !== t) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && u(e, t) } function u(e, t) { return u = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, u(e, t) } var m = o(4), _ = o.n(m), f = o(6), y = o.n(f), h = o(3), b = o.n(h), v = o(35), x = o.n(v), k = o(13), w = o.n(k), C = o(14), P = o.n(C), I = o(30), T = o.n(I), A = o(36), E = o.n(A), M = o(31), S = o.n(M), D = o(46), O = o.n(D), R = o(18), z = o.n(R), N = o(53), B = o(58), Z = o(52), j = o.n(Z), U = o(80), G = function (e) { function t(e, o, a) { var r; return n(this, t), r = l(this, c(t).call(this, e, o, a)), r.originPoint = null, r.destinationPoint = null, r.routes = [], r.dragroutes = [], r._httpHelper = new B.a(o), r._draggedMarkers = [], r._lastRouteCancel = null, r._msgHelper = new U.a(r.mapa.rootNode), r._dragMarker = null, r } return g(t, e), i(t, [{ key: 'insertOriginPoint', value: function (e) { var t = this, o = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'origemVermelho'; return null !== this.originPoint && this.originPoint.removeFrom(this.mapa.map), this.originPoint = this.putMarker(e, o, { draggable: !0 }), this.originPoint.on('dragend', function (e) { null !== t.destinationPoint && t.mapa.emit('changeroute', e) }), this.originPoint } }, { key: 'insertDestinationPoint', value: function (e) { var t = this, o = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'destinoFinal'; return null !== this.destinationPoint && this.destinationPoint.removeFrom(this.mapa.map), this.destinationPoint = this.putMarker(e, o, { draggable: !0 }), this.destinationPoint.on('dragend', function (e) { return t.mapa.emit('changeroute', e) }), this.destinationPoint } }, { key: 'insertWayPoint', value: function (e) { var t = this, o = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'temp', a = this.putMarker(e, o, { draggable: !0 }), n = this._draggedMarkers.push(a) - 1; return a.on('dragend', function (e) { return t.mapa.emit('changeroute', e) }), a.on('click', function (e) { t.removeMarker(a), t._draggedMarkers.splice(n, 1), t.mapa.emit('changeroute', e) }), a } }, { key: 'removePoint', value: function (e) { if ('string' == typeof e) if ('origem' === e) e = this.originPoint, this.originPoint = null, this.mapa.originCoordinates = null; else if ('destinoFinal' === e) e = this.destinationPoint, this.destinationPoint = null, this.mapa.destinationCoordinates = null; else { if ('waypoints' === e) return void this.removeWayPoints(); throw new Error('N\xE3o \xE9 possivel remover esse ponto, marcador invalido.') } null !== e && void 0 !== e && this.removeMarker(e) } }, { key: 'removeWayPoints', value: function () { for (var e = 0, t = this._draggedMarkers.length; e < t; e++)this.removeMarker(this._draggedMarkers[e]); this._draggedMarkers = [] } }, { key: 'removePoints', value: function () { this.removePoint('origem'), this.removePoint('destinoFinal'), this.removeWayPoints() } }, { key: 'buildRoute', value: function () { var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}, t = this._msgHelper.loading(); this._lastRouteCancel && this._lastRouteCancel(); var o = this; this.mapa.originCoordinates = this.originPoint.getLatLng(), this.mapa.destinationCoordinates = this.destinationPoint.getLatLng(); var a = Object.assign({ waypoints: [] }, e); delete a.lineOptions, delete a.dragLineOptions, a.waypoints = this._draggedMarkers.map(function (e) { return e.getLatLng() }).concat(a.waypoints); var n = this.mapa._sendRouteRequest('/v1/api/directions', a); return this._lastRouteCancel = n.cancelRequest, n.request.then(function (a) { if (o.removeDragRoutes(), void 0 !== a) { var n = { features: a.response.data }; return o.removeRoutes(), o._plotFeatureRoute(n, { lineOptions: e.lineOptions, dragLineOptions: e.dragLineOptions }), t.remove(), o._resultRoute = { geoJSON: n, parametros: { pontoDeOrigem: j()(a.requestParams.origin), pontoDeDestinoFinal: j()(a.requestParams.destination) } }, o._resultRoute } }).catch(function (e) { return t.remove(), Promise.reject(e) }) } }, { key: '_buildDragRoute', value: function () { var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; this._lastRouteCancel && this._lastRouteCancel(); var t = this; this.mapa.originCoordinates = this.originPoint.getLatLng(), this.mapa.destinationCoordinates = this.destinationPoint.getLatLng(); var o = Object.assign({}, e); delete o.dragLineOptions, o.waypoints = this._draggedMarkers.map(function (e) { return e.getLatLng() }).concat(o.waypoints); var a = this.mapa._sendDragRouteRequest('/v1/api/directions', o); return this._lastRouteCancel = a.cancelRequest, a.request.then(function (o) { if (t.removeDragRoutes(), void 0 !== o) { var a = { features: o.response.data }; return t._plotFeatureDragRoute(a, Object.assign({ color: '#999' }, e.dragLineOptions)), { geoJSON: a, parametros: { pontoDeOrigem: j()(o.requestParams.origin), pontoDeDestinoFinal: j()(o.requestParams.destination) } } } }).catch(function (e) { return Promise.reject(e) }) } }, { key: '_plotFeatureRoute', value: function (e, t) { for (var o = this, a = Object.assign({ opacity: 0.65, weight: 6, hoverColor: '#1a0165', hoverOpacity: 1 }, t.lineOptions), n = function (e) { null !== o.mapa._dragMarker && o.mapa._dragMarker.setLatLng(e.latlng), o._buildDragRoute({ waypoints: [e.latlng], dragLineOptions: t.dragLineOptions }) }, r = 0, i = e.features.length, l; r < i; r++)l = this.mapa._plotRoute(e.features[r], a, n, function (e) { var t = e.latlng; o.mapa._dragMarker.removeFrom(o.mapa.map), o.mapa._dragMarker = null, o.insertWayPoint([t.lat, t.lng]).on('drag', function (e) { n({ latlng: e.target.getLatLng() }) }), o.buildRoute() }), this.routes.push(l.stroke), this.routes.push(l.fill) } }, { key: '_plotFeatureDragRoute', value: function (e, t) { for (var o = 0, a = e.features.length, n; o < a; o++)n = this.mapa._plotRoute(e.features[o], t), this.dragroutes.push(n.stroke), this.dragroutes.push(n.fill), n.fill.bringToBack(), n.stroke.bringToBack() } }, { key: 'removeRoute', value: function (e) { var t = this.routes.indexOf(e); 0 <= t && (e.removeFrom(this.mapa.map), this.routes.splice(t, 1)) } }, { key: 'removeRoutes', value: function () { for (; 0 < this.routes.length;)this.removeRoute(this.routes[0]) } }, { key: 'removeDragRoutes', value: function () { for (; 0 < this.dragroutes.length;)this.dragroutes[0].removeFrom(this.mapa.map), this.dragroutes.splice(0, 1) } }, { key: 'onRouteMapChange', value: function (e) { return this.mapa.on('changeroute', e) } }, { key: 'clearMap', value: function () { d(c(t.prototype), 'clearMap', this).call(this), this.removePoints() } }]), t }(N.a); t.a = G }, function (e, t, o) { 'use strict'; function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function r(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function i(e, t, o) { return t && r(e.prototype, t), o && r(e, o), e } function l(e, t) { return t && ('object' === a(t) || 'function' == typeof t) ? t : s(e) } function s(e) { if (void 0 === e) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called'); return e } function d(e, t, o) { return d = 'undefined' != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, o) { var a = p(e, t); if (a) { var n = Object.getOwnPropertyDescriptor(a, t); return n.get ? n.get.call(o) : n.value } }, d(e, t, o || e) } function p(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && (e = c(e), null !== e);); return e } function c(e) { return c = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, c(e) } function g(e, t) { if ('function' != typeof t && null !== t) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && u(e, t) } function u(e, t) { return u = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, u(e, t) } var m = o(4), _ = o.n(m), f = o(6), y = o.n(f), h = o(3), b = o.n(h), v = o(35), x = o.n(v), k = o(13), w = o.n(k), C = o(14), P = o.n(C), I = o(33), T = o.n(I), A = o(34), E = o.n(A), M = o(53), S = o(192), D = o(29), O = function (e) { function t(e, o, a) { var r; return n(this, t), r = l(this, c(t).call(this, e, o, a)), r._lines = [], r } return g(t, e), i(t, [{ key: 'getCitiesWithinInfluenceRadius', value: function (e, t, o) { return this.mapa.getCitiesWithinInfluenceRadius(e, t, o) } }, { key: 'getPointInfo', value: function (e) { return this.mapa.getPointInfo(e) } }, { key: 'drawLine', value: function (e, t) { var o = [t.initialIcon instanceof D.a ? t.initialIcon : this._config.simbology.origem, t.finalIcon instanceof D.a ? t.finalIcon : this._config.simbology.destinoFinal], a = []; a.push(this.putMarker(e[0], o[0])), a.push(this.putMarker(e[1], o[1])); var n = this.mapa.drawLine(e, t.leaflet), r = new S.a(n, a); return this._lines.push(r), r } }, { key: 'startLineDrawing', value: function (e, t) { return this.mapa.addFirstPointLine(e, t.leaflet), this.putMarker(e, t.initialIcon instanceof D.a ? t.initialIcon : this._config.simbology.origem) } }, { key: 'endLineDrawing', value: function (e, t) { var o = this.putMarker(e, t.finalIcon instanceof D.a ? t.finalIcon : this._config.simbology.destinoFinal), a = this.mapa.addSecondPointLine(e, t.leaflet); return new S.a(a, [o]) } }, { key: 'clearMap', value: function () { d(c(t.prototype), 'clearMap', this).call(this), this._lines.forEach(function (e) { e.removeAll() }), this._lines = [] } }]), t }(M.a); t.a = O }, function (e, t, o) { 'use strict'; function a(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function n(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function r(e, t, o) { return t && n(e.prototype, t), o && n(e, o), e } var i = o(3), l = o.n(i), s = o(36), d = o.n(s), p = function () { function e(t, o) { a(this, e), this.lines = t, this.markers = o } return r(e, [{ key: 'removeMarkers', value: function () { for (var e in this.markers) this.markers[e].remove() } }, { key: 'removeLine', value: function () { this.lines.stroke.remove(), this.lines.fill.remove() } }, { key: 'removeAll', value: function () { this.removeMarkers(), this.removeLine() } }]), e }(); t.a = p }, function (e, t, o) { 'use strict'; (function (e) { function a(e) { return a = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, a(e) } function n(e) { for (var t = 1; t < arguments.length; t++) { var o = null == arguments[t] ? {} : arguments[t], a = Object.keys(o); 'function' == typeof Object.getOwnPropertySymbols && (a = a.concat(Object.getOwnPropertySymbols(o).filter(function (e) { return Object.getOwnPropertyDescriptor(o, e).enumerable }))), a.forEach(function (t) { r(e, t, o[t]) }) } return e } function r(e, t, o) { return t in e ? Object.defineProperty(e, t, { value: o, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = o, e } function i(e, t, o, a, n, r, i) { try { var l = e[r](i), s = l.value } catch (e) { return void o(e) } l.done ? t(s) : Promise.resolve(s).then(a, n) } function l(e) { return function () { var t = this, o = arguments; return new Promise(function (a, n) { function r(e) { i(s, a, n, r, l, 'next', e) } function l(e) { i(s, a, n, r, l, 'throw', e) } var s = e.apply(t, o); r(void 0) }) } } function s(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function d(e, t) { for (var o = 0, a; o < t.length; o++)a = t[o], a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } function p(e, t, o) { return t && d(e.prototype, t), o && d(e, o), e } function c(e, t) { return t && ('object' === a(t) || 'function' == typeof t) ? t : g(e) } function g(e) { if (void 0 === e) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called'); return e } function u(e, t, o) { return u = 'undefined' != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, o) { var a = m(e, t); if (a) { var n = Object.getOwnPropertyDescriptor(a, t); return n.get ? n.get.call(o) : n.value } }, u(e, t, o || e) } function m(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && (e = _(e), null !== e);); return e } function _(e) { return _ = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, _(e) } function f(e, t) { if ('function' != typeof t && null !== t) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && y(e, t) } function y(e, t) { return y = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, y(e, t) } var h = o(4), b = o.n(h), v = o(6), x = o.n(v), k = o(194), w = o.n(k), C = o(108), P = o.n(C), I = o(3), T = o.n(I), A = o(35), E = o.n(A), M = o(13), S = o.n(M), D = o(14), O = o.n(D), R = o(106), z = o.n(R), N = o(36), B = o.n(N), Z = o(105), j = o.n(Z), U = o(195), G = o.n(U), H = o(196), F = o.n(H), Y = o(198), W = o.n(Y), V = o(199), q = o.n(V), K = o(34), J = o.n(K), X = o(30), Q = o.n(X), $ = o(31), ee = o.n($), te = o(33), oe = o.n(te), ae = o(45), ne = o.n(ae), re = o(103), ie = o.n(re), le = o(46), se = o.n(le), de = o(203), pe = o.n(de), ce = o(18), ge = o.n(ce), ue = o(17), me = o.n(ue), _e = o(53), fe = o(58), ye = o(80), he = o(110), be = o(52), ve = o.n(be), xe = o(47), Le = function (t) { function o(e, t, a) { var n; return s(this, o), n = c(this, _(o).call(this, e, t, a)), n.originPoint = null, n.destinationPoint = null, n.waypoints = { going: [], return: [] }, n.routesLines = { going: [], return: [] }, n.dragRoutesLines = [], n.stackRoutes = [], n._routesForEdit = { going: [], return: [] }, n._lastRouteCancel = { going: null, return: null, drag: null }, n._msgHelper = new ye.a(n.mapa.rootNode), n._httpHelper = new fe.a(t), n._dragMarker = null, n._resultRoute = { going: null, return: null }, n._polylineDrawer = null, n._initSegment = null, n._linesEditing = null, n._dragOptions = {}, n._funcDragRoute = function (e) { n.getManualEditing() ? n.mapa._dragMarker && (n.mapa._dragMarker.removeFrom(n.mapa.map), n.mapa._dragMarker = null) : (null !== n.mapa._dragMarker && n.mapa._dragMarker.setLatLng(e.latlng), n._lastRouteCancel.drag && n._lastRouteCancel.drag(), n.removeDragRoutes(), n._buildDragRoute({ waypoints: [e.latlng], dragLineOptions: n._dragOptions })) }, n._manualEditing = null, n._linePopupReturn = null, n._linePopupGoing = null, n._callbacksDrawed = [], n.handlerLoading = null, n } return f(o, t), p(o, [{ key: 'insertOriginPoint', value: function (e) { var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'origemAzul'; if (!this.getManualEditing()) return this._insertOriginPoint(e, t) } }, { key: 'insertDestinationPoint', value: function (e) { var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'destinoAzul'; if (!this.getManualEditing()) return this._insertDestinationPoint(e, t) } }, { key: 'insertWayPoint', value: function (e) { var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : !0, o = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 'temp'; if (!this.getManualEditing()) return this._insertWayPoint(e, t ? 'going' : 'return', o) } }, { key: 'removePoint', value: function (e) { if (!this.getManualEditing()) return this._removePoint(e) } }, { key: 'removeWayPoints', value: function () { this.getManualEditing() || this._removeWayPoints() } }, { key: 'removeWayPoint', value: function (e) { var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : !0; this.getManualEditing() || this._removeWayPoint(e, t ? 'going' : 'return') } }, { key: 'removePoints', value: function () { this.getManualEditing() || this._removePoints() } }, { key: 'buildRoute', value: function () { var e = l(regeneratorRuntime.mark(function e() { var t = arguments, o, a, n, r, i, l, s, d, p, c, g; return regeneratorRuntime.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (o = 0 < t.length && void 0 !== t[0] ? t[0] : {}, this.getManualEditing()) { e.next = 37; break } if (this.originPoint) { e.next = 5; break } return this._msgHelper.error(he.a.M0006), e.abrupt('return'); case 5: if (this.destinationPoint) { e.next = 8; break } return this._msgHelper.error(he.a.M0007), e.abrupt('return'); case 8: return this.handlerLoading || (this.handlerLoading = this._msgHelper.loading()), a = !o.hasOwnProperty('oneWay') || !o.oneWay, n = [], this._lastRouteCancel.going && this._lastRouteCancel.going(), a && this._lastRouteCancel.return && this._lastRouteCancel.return(), this._lastRouteCancel.drag && this._lastRouteCancel.drag(), r = Object.assign({ waypoints: { going: [], return: [] } }, o), delete r.lineOptions, delete r.dragLineOptions, delete r.oneWay, r.waypoints = this.waypoints.going.map(function (e) { return e.getLatLng() }).concat(r.waypoints.going), i = this.mapa._sendRouteRequest('/v1/api/SEMIURBANO/directions', r), i && (this._lastRouteCancel.going = i.cancelRequest, n.push(i.request)), a && (l = Object.assign({ waypoints: { going: [], return: [] } }, o), delete l.lineOptions, delete l.dragLineOptions, delete l.oneWay, l.waypoints = this.waypoints.return.map(function (e) { return e.getLatLng() }).concat(l.waypoints.return), l.destination = this.originPoint.getLatLng(), l.origin = this.destinationPoint.getLatLng(), s = this.mapa._sendRouteRequest('/v1/api/SEMIURBANO/directions', l), s && (this._lastRouteCancel.return = s.cancelRequest, n.push(s.request))), e.prev = 22, e.next = 25, Promise.all(n); case 25: d = e.sent, this.removeDragRoutes(), this.removeRoutes(), p = d.map(function (e, t) { if (!e) return null; var a = 0 === t ? 'going' : 'return', n = e.response.data, r = { lineOptions: 0 === t ? o.goingLineOptions : o.returnLineOptions, dragLineOptions: o.dragLineOptions }; n.properties.routeType = a; var i = { parameters: { pontoDeOrigem: ve()(e.requestParams.origin), pontoDeDestinoFinal: ve()(e.requestParams.destination), waypoints: ve()(e.requestParams.waypoints), type: a }, geoJSON: n, options: r }; return i }), p[0] && (c = { going: p[0] }, p[1] && (c.return = p[1]), this.putRoute(c, !0, { insertPoints: !1 })), this.handlerLoading && (this.handlerLoading.remove(), this.handlerLoading = null), e.next = 37; break; case 33: e.prev = 33, e.t0 = e['catch'](22); try { g = e.t0.message, e.t0.response && e.t0.response.data && e.t0.response.data.descricao && (g = e.t0.response.data.descricao), this._msgHelper.error(g) } catch (e) { this._msgHelper.error(e.message) } finally { this.handlerLoading && (this.handlerLoading.remove(), this.handlerLoading = null) } throw e.t0; case 37: case 'end': return e.stop(); } }, e, this, [[22, 33]]) })); return function () { return e.apply(this, arguments) } }() }, { key: 'removeRoute', value: function (e) { var t = 'going', o = this.routesLines[t].indexOf(e); if (0 > o && (t = 'return', o = this.routesLines[t].indexOf(e)), 0 <= o) { for (var a = this.routesLines[t][o], n = 0, r = this._routesForEdit[t].length; n < r; n++)this._routesForEdit[t][n] === a && this._routesForEdit[t].splice(n, 1); a.removeFrom(this.mapa.map), this.routesLines[t].splice(o, 1) } } }, { key: 'removeRoutes', value: function () { var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : null; if (!e || 'going' === e) for (; 0 < this.routesLines.going.length;)this.removeRoute(this.routesLines.going[0]); if (!e || 'return' === e) for (; 0 < this.routesLines.return.length;)this.removeRoute(this.routesLines.return[0]) } }, { key: 'removeDragRoutes', value: function () { for (; 0 < this.dragRoutesLines.length;)this.dragRoutesLines[0].removeFrom(this.mapa.map), this.dragRoutesLines.splice(0, 1) } }, { key: 'onRouteMapChange', value: function (e) { return this.mapa.on('changeroute', e) } }, { key: 'onRouteDrawEdited', value: function (e) { var t = this, o = this._callbacksDrawed.push(e); return function () { t._callbacksDrawed.splice(o, 1) } } }, { key: 'clearMap', value: function () { this._removePoints(), u(_(o.prototype), 'clearMap', this).call(this), this._manualEditing && (this.mapa.map.off('mousemove', this._manualEditing.mouseMoveFunc), this._manualEditing.markerOnMap && (this._manualEditing.marker.removeFrom(this.mapa.map), this._manualEditing.markerOnMap = !1)) } }, { key: 'getManualEditing', value: function () { return !!this._manualEditing } }, { key: 'setManualEditing', value: function (e) { return e ? this._turnOnManualEditing() : this._turnOffManualEditing() } }, { key: 'toggleManualEditing', value: function () { return this.setManualEditing(!this.getManualEditing()) } }, { key: 'undoRoute', value: function () { var e = this.stackRoutes.pop(); e ? (this._removePoints(), this.removeRoutes(), this.putRoute(e, !1)) : this.clearMap() } }, { key: 'putRoute', value: function (e) { var t = this, o = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : !0, a = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}, r = n({ insertPoints: !0 }, a); if (e.going || e.return) { var i = !1; o && (this._resultRoute.going || this._resultRoute.return) && (this.stackRoutes.push(this._resultRoute), this._resultRoute = { going: null, return: null }), e.going && (r.insertPoints && (i = !0, this._insertOriginPoint(e.going.parameters.pontoDeOrigem), this._insertDestinationPoint(e.going.parameters.pontoDeDestinoFinal), e.going.parameters.waypoints.forEach(function (e) { var o = t._insertWayPoint([e.lat, e.lng], 'going'); o.routeType = 'going', o && o.on('drag', function (e) { return t._funcDragRoute({ latlng: e.target.getLatLng() }) }) })), this._resultRoute.going = e.going, this._plotFeatureRoute(e.going.geoJSON, e.going.parameters.type, e.going.options)), e.return && (r.insertPoints && (!i && (this._insertOriginPoint(e.return.parameters.pontoDeOrigem), this._insertDestinationPoint(e.return.parameters.pontoDeDestinoFinal)), e.return.parameters.waypoints.forEach(function (e) { var o = t._insertWayPoint([e.lat, e.lng], 'return'); o.routeType = 'return', o && o.on('drag', function (e) { return t._funcDragRoute({ latlng: e.target.getLatLng() }) }) })), this._resultRoute.return = e.return, this._plotFeatureRoute(e.return.geoJSON, e.return.parameters.type, e.return.options)) } } }, { key: 'getRoute', value: function () { return this._resultRoute } }, { key: 'exportShapeFileRoute', value: function () { var t = l(regeneratorRuntime.mark(function t() { var o = arguments, n, r, l, s, d, p, i, c; return regeneratorRuntime.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (n = 0 < o.length && void 0 !== o[0] ? o[0] : 'download.zip', this._resultRoute.going || this._resultRoute.return) { t.next = 5; break } throw new Error(he.a.M0005); case 5: return t.prev = 5, t.next = 8, this._sendExportRequest('/v1/api/exportRoute', { geoJSON: this.geoJsonRoute, format: 'shp' }); case 8: for (r = t.sent, l = e.from(r), s = new ArrayBuffer(r.data.length), d = new Uint8Array(s), p = 0; p < r.data.length; p++)d[p] = r.data[p]; window.navigator && window.navigator.msSaveOrOpenBlob ? (i = new Blob([s], { type: 'application/octet-stream' }), window.navigator.msSaveOrOpenBlob(i, n)) : (c = document.createElement('a'), c.download = n, c.href = 'data:application/zip;base64,' + l.toString('base64'), document.body.appendChild(c), c.click()), t.next = 19; break; case 16: t.prev = 16, t.t0 = t['catch'](5); try { this._msgHelper[t.t0.error ? 'error' : 'info'](t.t0.descricao) } catch (e) { this._msgHelper.error(e.message) } case 19: case 'end': return t.stop(); } }, t, this, [[5, 16]]) })); return function () { return t.apply(this, arguments) } }() }, { key: 'exportKMLRoute', value: function () { var e = l(regeneratorRuntime.mark(function e() { var t = arguments, o, n, r, l, s, i, d; return regeneratorRuntime.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (o = 0 < t.length && void 0 !== t[0] ? t[0] : 'download.kml', this._resultRoute.going || this._resultRoute.return) { e.next = 5; break } throw new Error(he.a.M0005); case 5: return e.prev = 5, e.next = 8, this._sendExportRequest('/v1/api/exportRoute', { geoJSON: this.geoJsonRoute, format: 'kml' }); case 8: if (n = e.sent, window.navigator && window.navigator.msSaveOrOpenBlob) { for (r = new ArrayBuffer(n.length), l = new Uint8Array(r), s = 0; s < n.length; s++)l[s] = 255 & n.charCodeAt(s); i = new Blob([r], { type: 'application/octet-stream' }), window.navigator.msSaveOrOpenBlob(i, o) } else d = document.createElement('a'), d.download = o, d.href = 'data:application/vnd.google-earth.kml+xml;charset=utf-8,' + encodeURIComponent(n), d.style.display = 'none', document.body.appendChild(d), d.click(); e.next = 15; break; case 12: e.prev = 12, e.t0 = e['catch'](5); try { this._msgHelper[e.t0.error ? 'error' : 'info'](e.t0.descricao) } catch (e) { this._msgHelper.error(e.message) } case 15: case 'end': return e.stop(); } }, e, this, [[5, 12]]) })); return function () { return e.apply(this, arguments) } }() }, { key: 'selectAndImportFIle', value: function (e) { var t = this; return new Promise(function (o, a) { (function () { var n = document.createElement('input'); n.type = 'file', n.addEventListener('change', function () { var r = l(regeneratorRuntime.mark(function r() { var i; return regeneratorRuntime.wrap(function (r) { for (; ;)switch (r.prev = r.next) { case 0: return i = event.target.files[0], r.prev = 1, r.next = 4, t.import(i, e); case 4: n.remove(), o(), r.next = 11; break; case 8: r.prev = 8, r.t0 = r['catch'](1), a(r.t0); case 11: case 'end': return r.stop(); } }, r, this, [[1, 8]]) })); return function () { return r.apply(this, arguments) } }()), n.click() })() }) } }, { key: 'import', value: function () { var e = l(regeneratorRuntime.mark(function e(t, o) { var a; return regeneratorRuntime.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, this._sendImportRequest('/v1/api/importRoute', { format: o, file: t }); case 2: a = e.sent, this._plotGeoJSONFromFile(a); case 4: case 'end': return e.stop(); } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: '_spliceCoordinates', value: function (e, t, o) { for (var a = [], n = 0; n <= t[0]; n++)a.push(e[n]); for (var r = 0, i = o.length; r < i; r++)a.push(o[r]); for (var l = t[1] + 1, s = e.length; l < s; l++)a.push(e[l]); return a } }, { key: '_turnOffManualEditing', value: function () { var e = this; if (this._manualEditing) { for (var t = 0, o = this._routesForEdit.going.length; t < o; t++)this._routesForEdit.going[t].off('click', this._manualEditing.drawStartGoing); for (var a = 0, n = this._routesForEdit.return.length; a < n; a++)this._routesForEdit.return[a].off('click', this._manualEditing.drawStartReturn); this.mapa.map.off('mousemove', this._manualEditing.mouseMoveFunc), this.mapa.map.off(me.a.Draw.Event.CREATED, this._manualEditing.drawendFunc), this.mapa.setClickEnabled(!0), this._manualEditing.markerOnMap && (this._manualEditing.marker.removeFrom(this.mapa.map), this._manualEditing.markerOnMap = !1) } this._linePopupReturn && (this.routesLines.return.forEach(function (t) { return t.bindPopup(e._linePopupReturn) }), this._linePopupReturn = null), this._linePopupGoing && (this.routesLines.going.forEach(function (t) { return t.bindPopup(e._linePopupGoing) }), this._linePopupGoing = null), this._manualEditing = null, this.originPoint && this.originPoint.dragging && this.originPoint.dragging.enable(), this.destinationPoint && this.destinationPoint.dragging && this.destinationPoint.dragging.enable(), this.waypoints.going.forEach(function (e) { return e.dragging.enable() }), this.waypoints.return.forEach(function (e) { return e.dragging.enable() }) } }, { key: '_turnOnManualEditing', value: function () { var e = Number.MAX_SAFE_INTEGER, t = this, o = me.a.divIcon({ className: 'editing-div-icon' }); this._manualEditing = { marker: me.a.marker([0, 0], { icons: o }), markerOnMap: !1, snapDistance: 10, drawStartGoing: function (e) { return t._manualEditing.drawstartFunc(e, 'going') }, drawStartReturn: function (e) { return t._manualEditing.drawstartFunc(e, 'return') }, mouseMoveFunc: function (e) { if (t._linesEditing) { var o = me.a.GeometryUtil.closestLayerSnap(t.mapa.map, t._routesForEdit[t._linesEditing.routeType], e.latlng, t._manualEditing.snapDistance, !1); o ? (t._manualEditing.marker.setLatLng(new me.a.LatLng(o.latlng.lat, o.latlng.lng)), !t._manualEditing.markerOnMap && (t._manualEditing.marker.addTo(t.mapa.map), t._manualEditing.markerOnMap = !0)) : t._manualEditing.markerOnMap && (t._manualEditing.marker.removeFrom(t.mapa.map), t._manualEditing.markerOnMap = !1) } else t._manualEditing.markerOnMap && (t._manualEditing.marker.removeFrom(t.mapa.map), t._manualEditing.markerOnMap = !1) }, drawstartFunc: function (o, a) { if (o.originalEvent.stopPropagation(), o.originalEvent.preventDefault(), t.getManualEditing()) { t._linesEditing = { line: o.target, routeType: a }; var n = o.target.getLatLngs(); t._initSegment = null; for (var r = { i: -1, d: e }, l = 0, i = n.length - 1, s; l < i; l++)s = me.a.GeometryUtil.distanceSegment(t.mapa.map, o.latlng, n[l], n[l + 1]), s < r.d && (r.d = s, r.i = l); 0 <= r.i && (t._initSegment = { i: r.i, d: t.mapa.map.distance(o.latlng, n[r.i]) }, t._polylineDrawer = new me.a.Draw.Polyline(t.mapa.map, {}), t._polylineDrawer.enable(), t._polylineDrawer.addVertex(o.latlng)) } }, drawendFunc: function (o) { function a(e, t, o) { var a = Math.abs(t.distanceTo(e)); return a <= o } if (t._linesEditing) { var n = t.mapa.map.getSize().y, l = t.mapa.map.getSize().x, s = t.mapa.map.containerPointToLatLng([0, n]).distanceTo(t.mapa.map.containerPointToLatLng([l, n])), p = t._linesEditing.line.getLatLngs(), c = o.layer.getLatLngs(); if (1 < c.length) { var g = c[c.length - 1], u = me.a.GeometryUtil.closestLayerSnap(t.mapa.map, t._routesForEdit[t._linesEditing.routeType], g, t._manualEditing.snapDistance, !1); if (null !== u) { var m = t._linesEditing.routeType, _ = ve()(t._resultRoute[m]), f; _.parameters.type = m; for (var y = new me.a.LatLng(u.latlng.lat, u.latlng.lng), h = null, b = { i: -1, d: e }, v = 0, i = p.length - 1, x; v < i; v++)x = me.a.GeometryUtil.distanceSegment(t.mapa.map, y, p[v], p[v + 1]), x < b.d && (b.d = x, b.i = v); 0 <= b.i && (h = { i: b.i, d: t.mapa.map.distance(y, p[b.i]) }); var d = t._resultRoute[m].geoJSON.geometry.coordinates, w = []; if (t._initSegment.i > h.i || t._initSegment.i === h.i && t._initSegment.d > h.d) { var C = t._initSegment; t._initSegment = h, h = C; for (var P = c.length - 1; P >= 0; P--)w.push([c[P].lng, c[P].lat]) } else for (var I = 0, T = c.length; I < T; I++)w.push([c[I].lng, c[I].lat]); for (var A = t._initSegment.i + 1, E = h.i; A < E; A++)for (var M = 0, S = _.parameters.waypoints.length; M < S; M++)if (a(p[A], _.parameters.waypoints[M], 5 * (s / l))) { S--; for (var D = 0, k = t.waypoints[m].length; D < k; D++)if (t.waypoints[m][D].getLatLng().equals(_.parameters.waypoints[M])) { t._removePoint(t.waypoints[m][D]), t.waypoints[m].splice(D, 1); break } _.parameters.waypoints.splice(M, 1) } for (var O = 0, R = [], z = 0, N = _.geoJSON.steps.length; z < N; z++)if (O += _.geoJSON.steps[z].geometry.coordinates.length, 0 === R.length && O >= t._initSegment.i) R.push(z); else if (1 === R.length && O >= h.i) { R.push(z); break } for (var B = _.geoJSON.steps.slice(0, R[0]), Z = 0, j = w.length - 1; Z < j; Z++)B.push({ distance: { text: '', value: 0 }, duration: { text: '', value: 0 }, end_location: { lat: w[Z + 1][1], lng: w[Z + 1][0] }, geometry: { type: 'LineString', coordinates: [w[Z], w[Z + 1]] }, html_instructions: '', start_location: { lat: w[Z][1], lng: w[Z][0] }, travel_mode: '' }); 1 === R.length && R.push(R[0]), B = B.concat(_.geoJSON.steps.slice(R[1], _.geoJSON.steps.length)); var U = 0; for (var G in B) { if (0 === B[G].distance.value) { var H = t.mapa.map.distance(me.a.latLng(B[G].start_location), me.a.latLng(B[G].end_location)); B[G].distance.value = Math.ceil(H), B[G].distance.text = (B[G].distance.value / 1e3).toFixed(2) + 'km' } U += B[G].distance.value / 1e3 } _.geoJSON.geometry.coordinates = t._spliceCoordinates(d, [t._initSegment.i, h.i], w), _.geoJSON.steps = B; var F = 'going' === m ? 'return' : 'going', Y = { coordinates: { startIndex: t._initSegment.i + 1, endIndex: t._initSegment.i + w.length, coordinates: _.geoJSON.geometry.coordinates, newCoordinates: _.geoJSON.geometry.coordinates.slice(t._initSegment.i + 1, t._initSegment.i + w.length) }, steps: { startIndex: R[0], endIndex: R[0] + w.length - 2, steps: _.geoJSON.steps, newSteps: _.geoJSON.steps.slice(R[0] + 1, R[0] + w.length) }, route: (f = {}, r(f, m, _), r(f, F, ve()(t._resultRoute[F])), f), routeType: m }; Y.route[Y.routeType].geoJSON.properties.distance = U.toFixed(2) + ' km'; var W = xe.a.createPopupContentLineRoute(Y.route[Y.routeType].geoJSON); 'return' === Y.routeType ? t._linePopupReturn.setContent(W) : t._linePopupGoing.setContent(W), t._lastRouteCancel.drag && t._lastRouteCancel.drag(), t.removeDragRoutes(), t._linesEditing = null, t._callbacksDrawed.forEach(function (e) { return e(Y) }) } else t._msgHelper.info(he.a.M0004) } } } }; for (var a = 0, n = this._routesForEdit.going.length; a < n; a++)this._routesForEdit.going[a].on('click', this._manualEditing.drawStartGoing); for (var i = 0, l = this._routesForEdit.return.length; i < l; i++)this._routesForEdit.return[i].on('click', this._manualEditing.drawStartReturn); this._routesForEdit.going.length && (this._linePopupGoing = this._routesForEdit.going[0].getPopup()), this._routesForEdit.return.length && (this._linePopupReturn = this._routesForEdit.return[0].getPopup()), this.routesLines.going.forEach(function (e) { e.closePopup(), e.unbindPopup() }), this.routesLines.return.forEach(function (e) { e.closePopup(), e.unbindPopup() }), this.mapa.map.on('mousemove', this._manualEditing.mouseMoveFunc), this.mapa.map.on(me.a.Draw.Event.CREATED, this._manualEditing.drawendFunc), this.mapa.setClickEnabled(!1), this.originPoint && this.originPoint.dragging && this.originPoint.dragging.disable(), this.destinationPoint && this.destinationPoint.dragging && this.destinationPoint.dragging.disable(), this.waypoints.going.forEach(function (e) { return e.dragging.disable() }), this.waypoints.return.forEach(function (e) { return e.dragging.disable() }) } }, { key: '_insertOriginPoint', value: function (e) { var t = this, o = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'origemAzul'; return null !== this.originPoint && (this.removeMarker(this.originPoint), this.originPoint = null), this.originPoint = this.putMarker(e, o, { draggable: !this.getManualEditing() }), this.mapa.originCoordinates = this.originPoint.getLatLng(), this.originPoint.on('dragend', function (e) { if (t.mapa.originCoordinates = e.target.getLatLng(), null !== t.destinationPoint) return t.mapa.emit('changeroute', e) }), this.originPoint } }, { key: '_insertDestinationPoint', value: function (e) { var t = this, o = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'destinoAzul'; return null !== this.destinationPoint && (this.removeMarker(this.destinationPoint), this.destinationPoint = null), this.destinationPoint = this.putMarker(e, o, { draggable: !this.getManualEditing() }), this.mapa.destinationCoordinates = this.destinationPoint.getLatLng(), this.destinationPoint.on('dragend', function (e) { return t.mapa.destinationCoordinates = e.target.getLatLng(), t.mapa.emit('changeroute', e) }), this.destinationPoint } }, { key: '_insertWayPoint', value: function (e) { var t = this, o = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'going', a = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null, n = this.putMarker(e, a || ('going' === o ? 'paradaIdaClaro' : 'paradaVoltaClaro'), { draggable: !this.getManualEditing() }), r = this.waypoints[o].push(n) - 1; return n.on('dragend', function () { var e = ve()(t._resultRoute[o]); t.mapa.emit('changeroute', e) }), n.on('click', function () { t.removeMarker(n), t.waypoints[o].splice(r, 1); var e = ve()(t._resultRoute[o]); e.parameters.waypoints = t.waypoints, t.mapa.emit('changeroute', e) }), n } }, { key: '_removeWayPoints', value: function () { for (; this.waypoints.going.length;)this._removeWayPoint(0); for (; this.waypoints.return.length;)this._removeWayPoint(0, 'return') } }, { key: '_removeWayPoint', value: function (e) { var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'going', o = e; if ('object' === a(o) && (o = this.waypoints[t].indexOf(o)), 'number' != typeof o || 0 > o || o >= this.waypoints[t].length) throw new Error('O valor \'' + o + '\' n\xE3o \xE9 um waypoint v\xE1lido.'); var n = this.waypoints[t][o]; return this.waypoints[t].splice(o, 1), this.removeMarker(n), n } }, { key: '_removePoint', value: function (e) { if ('string' == typeof e) if ('origem' === e) e = this.originPoint, this.originPoint = null, this.mapa.originCoordinates = null; else if ('destinoFinal' === e) e = this.destinationPoint, this.destinationPoint = null, this.mapa.destinationCoordinates = null; else { if ('waypoints' === e) return void this._removeWayPoints(); throw new Error(he.a.M0003) } null !== e && void 0 !== e && this.removeMarker(e) } }, { key: '_buildDragRoute', value: function () { var e = l(regeneratorRuntime.mark(function e() { var t = arguments, o, a, n, r, i; return regeneratorRuntime.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return o = 0 < t.length && void 0 !== t[0] ? t[0] : {}, this._lastRouteCancel.drag && this._lastRouteCancel.drag(), a = Object.assign({}, o), delete a.dragLineOptions, delete a.oneWay, a.waypoints = this.waypoints.going.map(function (e) { return e.getLatLng() }).concat(a.waypoints), n = this.mapa._sendDragRouteRequest('/v1/api/SEMIURBANO/directions', a), this._lastRouteCancel.drag = n.cancelRequest, e.next = 10, n.request; case 10: if (r = e.sent, this.removeDragRoutes(), void 0 === r) { e.next = 16; break } return i = r.response.data, this._plotFeatureDragRoute(i, Object.assign({ color: '#999' }, o.dragLineOptions)), e.abrupt('return', { geoJSON: i, parametros: { pontoDeOrigem: ve()(r.requestParams.origin), pontoDeDestinoFinal: ve()(r.requestParams.destination) } }); case 16: case 'end': return e.stop(); } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: '_plotFeatureRoute', value: function (e, t) { var o = this, a = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}, r = Object.assign(n({}, 'return' === t ? { color: 'white', fillColor: '#b8322e', fillOpacity: 1, fillHoverColor: '#ffb3b3', hoverColor: 'red' } : { color: 'white', fillColor: '#007acc', fillHoverColor: '#b3e0ff', fillOpacity: 1, hoverColor: '#0059b3' }, { opacity: 0.65, weight: 6, fillHoverOpacity: 1, popup: !this.getManualEditing() }), a.lineOptions), i; this._dragOptions = a.dragLineOptions, i = this.mapa._plotRoute(e, r, this._funcDragRoute, function (e) { var a = e.latlng; if (o.mapa._dragMarker && (o.mapa._dragMarker.removeFrom(o.mapa.map), o.mapa._dragMarker = null), !o._manualEditing) { o._insertWayPoint(a, t); var n = ve()(o._resultRoute[t]); o.mapa.emit('changeroute', n) } }), i.fill.routeType = t, i.fill.on('click', function (e) { o._manualEditing && o._manualEditing.drawstartFunc(e, t) }), this._routesForEdit[t].push(i.fill), this.routesLines[t].push(i.stroke), this.routesLines[t].push(i.fill) } }, { key: '_plotFeatureDragRoute', value: function (e, t) { var o; t.popup = !1, o = this.mapa._plotRoute(e, t), this.dragRoutesLines.push(o.stroke), this.dragRoutesLines.push(o.fill), o.fill.bringToBack(), o.stroke.bringToBack() } }, { key: '_removePoints', value: function () { this._removePoint('origem'), this._removePoint('destinoFinal'), this._removeWayPoints() } }, { key: '_sendExportRequest', value: function () { var e = l(regeneratorRuntime.mark(function e(t, o) { var a; return regeneratorRuntime.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, this._httpHelper.post(t, o, { responseType: 'arrayBuffer' }); case 2: return a = e.sent, e.abrupt('return', a.data); case 4: case 'end': return e.stop(); } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: '_sendImportRequest', value: function () { var e = l(regeneratorRuntime.mark(function e(t, o) { var a, n, r; return regeneratorRuntime.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: for (n in a = new FormData, o) a.append(n, o[n]); return e.next = 4, this._httpHelper.post(t, a, { responseType: 'object' }); case 4: return r = e.sent, e.abrupt('return', r.data); case 6: case 'end': return e.stop(); } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: '_plotGeoJSONFromFile', value: function (e) { if (0 < e.features.length) { for (var t = { going: [], return: [] }, o = { going: null, return: null }, a = null, n = null, r = 0, i = e.features.length, l; r < i; r++)if (l = e.features[r], l.properties.type && 'waypoint' === l.properties.type || 'point' === l.geometry.type) { var s = l.geometry.coordinates; t[l.properties.routeType].push({ lat: s[1], lng: s[0] }) } else 'LineString' === l.geometry.type && (l.properties.routeType && 'going' === l.properties.routeType.split('     ')[0] && (a = l), l.properties.routeType && 'return' === l.properties.routeType.split('     ')[0] && (n = l)); if (a || n || (a = e.features[0]), a) { var d = a.geometry.coordinates, p = { parameters: { pontoDeOrigem: { lat: d[0][1], lng: d[0][0] }, pontoDeDestinoFinal: { lat: d[d.length - 1][1], lng: d[d.length - 1][0] }, waypoints: t.going, type: a.properties.routeType && a.properties.routeType.split('     ')[0] || 'going' }, geoJSON: a, options: { lineOptions: null, dragLineOptions: null } }; o.going = p } if (n) { var c = n.geometry.coordinates, g = { parameters: { pontoDeOrigem: { lat: c[0][1], lng: c[0][0] }, pontoDeDestinoFinal: { lat: c[c.length - 1][1], lng: c[c.length - 1][0] }, waypoints: t.return, type: n.properties.routeType.split('     ')[0] || 'return' }, geoJSON: n, options: { lineOptions: null, dragLineOptions: null } }; o.return = g } this.putRoute(o) } } }, { key: 'geoJsonRoute', get: function () { var e = []; return this._resultRoute.going && e.push(this._resultRoute.going.geoJSON), this._resultRoute.return && e.push(this._resultRoute.return.geoJSON), this.waypoints.going.length && this.waypoints.going.forEach(function (t) { var o = t.getLatLng(); e.push({ geometry: { type: 'Point', coordinates: [o.lng, o.lat] }, properties: { type: 'waypoint', routeType: 'going' }, type: 'Feature' }) }), this.waypoints.return.length && this.waypoints.return.forEach(function (t) { var o = t.getLatLng(); e.push({ geometry: { type: 'Point', coordinates: [o.lng, o.lat] }, properties: { type: 'waypoint', routeType: 'return' }, type: 'Feature' }) }), { type: 'FeatureCollection', features: e } } }]), o }(_e.a); t.a = Le }).call(t, o(92).Buffer) }, function (e, t, o) { 'use strict'; var a = o(0), n = o(54)(2); a(a.P + a.F * !o(51)([].filter, !0), 'Array', { filter: function (e) { return n(this, e, arguments[1]) } }) }, function (e, t, o) { var a = o(0); a(a.S, 'Number', { MAX_SAFE_INTEGER: 9007199254740991 }) }, function (e, t, o) { 'use strict'; o(197); var a = o(10), n = o(117), r = o(7), i = 'toString', l = /./[i], s = function (e) { o(16)(RegExp.prototype, i, e, !0) }; o(8)(function () { return '/a/b' != l.call({ source: 'a', flags: 'b' }) }) ? s(function () { var e = a(this); return '/'.concat(e.source, '/', 'flags' in e ? e.flags : !r && e instanceof RegExp ? n.call(e) : void 0) }) : l.name != i && s(function () { return l.call(this) }) }, function (e, t, o) { o(7) && 'g' != /./g.flags && o(9).f(RegExp.prototype, 'flags', { configurable: !0, get: o(117) }) }, function (e, t, o) { var a = Date.prototype, n = 'Invalid Date', r = 'toString', i = a[r], l = a.getTime; new Date(NaN) + '' != n && o(16)(a, r, function () { var e = l.call(this); return e === e ? i.call(this) : n }) }, function (e, t, o) { o(200)('Uint8', 1, function (e) { return function (t, o, a) { return e(this, t, o, a) } }) }, function (e, t, o) { 'use strict'; if (o(7)) { var a = o(21), n = o(1), r = o(8), i = o(0), l = o(118), s = o(201), d = o(23), p = o(71), c = o(38), g = o(12), u = o(72), m = o(28), _ = o(19), f = o(119), y = o(49), h = o(37), b = o(15), v = o(70), x = o(5), k = o(25), w = o(93), C = o(42), P = o(73), I = o(43).f, T = o(94), A = o(22), E = o(2), M = o(54), S = o(63), D = o(95), O = o(45), R = o(32), z = o(100), N = o(99), B = o(74), Z = o(202), j = o(9), U = o(44), G = j.f, H = U.f, F = n.RangeError, Y = n.TypeError, W = n.Uint8Array, V = 'ArrayBuffer', q = 'Shared' + V, K = 'BYTES_PER_ELEMENT', J = 'prototype', X = Array[J], Q = s.ArrayBuffer, $ = s.DataView, ee = M(0), te = M(2), oe = M(3), ae = M(4), ne = M(5), re = M(6), ie = S(!0), le = S(!1), se = O.values, de = O.keys, pe = O.entries, ce = X.lastIndexOf, ge = X.reduce, ue = X.reduceRight, me = X.join, _e = X.sort, fe = X.slice, ye = X.toString, he = X.toLocaleString, be = E('iterator'), ve = E('toStringTag'), xe = A('typed_constructor'), Le = A('def_constructor'), ke = l.CONSTR, we = l.TYPED, Ce = l.VIEW, Pe = 'Wrong length!', Ie = M(1, function (e, t) { return Se(D(e, e[Le]), t) }), Te = r(function () { return 1 === new W(new Uint16Array([1]).buffer)[0] }), Ae = !!W && !!W[J].set && r(function () { new W(1).set({}) }), Ee = function (e, t) { var o = m(e); if (0 > o || o % t) throw F('Wrong offset!'); return o }, Me = function (e) { if (x(e) && we in e) return e; throw Y(e + ' is not a typed array!') }, Se = function (e, t) { if (!(x(e) && xe in e)) throw Y('It is not a typed array constructor!'); return new e(t) }, De = function (e, t) { return Oe(D(e, e[Le]), t) }, Oe = function (e, t) { for (var o = 0, a = t.length, n = Se(e, a); a > o;)n[o] = t[o++]; return n }, Re = function (e, t, o) { G(e, t, { get: function () { return this._d[o] } }) }, ze = function (e) { var t = k(e), o = arguments.length, a = 1 < o ? arguments[1] : void 0, n = a !== void 0, r = T(t), l, i, s, p, c, g; if (r != void 0 && !w(r)) { for (g = r.call(t), s = [], l = 0; !(c = g.next()).done; l++)s.push(c.value); t = s } for (n && 2 < o && (a = d(a, arguments[2], 2)), l = 0, i = _(t.length), p = Se(this, i); i > l; l++)p[l] = n ? a(t[l], l) : t[l]; return p }, Ne = function () { for (var e = 0, t = arguments.length, o = Se(this, t); t > e;)o[e] = arguments[e++]; return o }, Be = !!W && r(function () { he.call(new W(1)) }), Ze = function () { return he.apply(Be ? fe.call(Me(this)) : Me(this), arguments) }, je = { copyWithin: function (e, t) { return Z.call(Me(this), e, t, 2 < arguments.length ? arguments[2] : void 0) }, every: function (e) { return ae(Me(this), e, 1 < arguments.length ? arguments[1] : void 0) }, fill: function () { return B.apply(Me(this), arguments) }, filter: function (e) { return De(this, te(Me(this), e, 1 < arguments.length ? arguments[1] : void 0)) }, find: function (e) { return ne(Me(this), e, 1 < arguments.length ? arguments[1] : void 0) }, findIndex: function (e) { return re(Me(this), e, 1 < arguments.length ? arguments[1] : void 0) }, forEach: function (e) { ee(Me(this), e, 1 < arguments.length ? arguments[1] : void 0) }, indexOf: function (e) { return le(Me(this), e, 1 < arguments.length ? arguments[1] : void 0) }, includes: function (e) { return ie(Me(this), e, 1 < arguments.length ? arguments[1] : void 0) }, join: function () { return me.apply(Me(this), arguments) }, lastIndexOf: function () { return ce.apply(Me(this), arguments) }, map: function (e) { return Ie(Me(this), e, 1 < arguments.length ? arguments[1] : void 0) }, reduce: function () { return ge.apply(Me(this), arguments) }, reduceRight: function () { return ue.apply(Me(this), arguments) }, reverse: function () { for (var e = this, t = Me(e).length, o = Math.floor(t / 2), a = 0, n; a < o;)n = e[a], e[a++] = e[--t], e[t] = n; return e }, some: function (e) { return oe(Me(this), e, 1 < arguments.length ? arguments[1] : void 0) }, sort: function (e) { return _e.call(Me(this), e) }, subarray: function (e, t) { var o = Me(this), a = o.length, n = y(e, a); return new (D(o, o[Le]))(o.buffer, o.byteOffset + n * o.BYTES_PER_ELEMENT, _((t === void 0 ? a : y(t, a)) - n)) } }, Ue = function (e, t) { return De(this, fe.call(Me(this), e, t)) }, Ge = function (e) { Me(this); var t = Ee(arguments[1], 1), o = this.length, a = k(e), n = _(a.length), r = 0; if (n + t > o) throw F(Pe); for (; r < n;)this[t + r] = a[r++] }, He = { entries: function () { return pe.call(Me(this)) }, keys: function () { return de.call(Me(this)) }, values: function () { return se.call(Me(this)) } }, Fe = function (e, t) { return x(e) && e[we] && 'symbol' != typeof t && t in e && +t + '' == t + '' }, Ye = function (e, t) { return Fe(e, t = h(t, !0)) ? c(2, e[t]) : H(e, t) }, We = function (e, t, o) { return Fe(e, t = h(t, !0)) && x(o) && b(o, 'value') && !b(o, 'get') && !b(o, 'set') && !o.configurable && (!b(o, 'writable') || o.writable) && (!b(o, 'enumerable') || o.enumerable) ? (e[t] = o.value, e) : G(e, t, o) }; ke || (U.f = Ye, j.f = We), i(i.S + i.F * !ke, 'Object', { getOwnPropertyDescriptor: Ye, defineProperty: We }), r(function () { ye.call({}) }) && (ye = he = function () { return me.call(this) }); var Ve = u({}, je); u(Ve, He), g(Ve, be, He.values), u(Ve, { slice: Ue, set: Ge, constructor: function () { }, toString: ye, toLocaleString: Ze }), Re(Ve, 'buffer', 'b'), Re(Ve, 'byteOffset', 'o'), Re(Ve, 'byteLength', 'l'), Re(Ve, 'length', 'e'), G(Ve, ve, { get: function () { return this[we] } }), e.exports = function (e, t, o, s) { s = !!s; var d = e + (s ? 'Clamped' : '') + 'Array', c = n[d], u = c || {}, m = c && P(c), y = !c || !l.ABV, h = {}, b = c && c[J], k = function (o, a) { var n = o._d; return n.v['get' + e](a * t + n.o, Te) }, w = function (o, a, n) { var r = o._d; s && (n = 0 > (n = Math.round(n)) ? 0 : 255 < n ? 255 : 255 & n), r.v['set' + e](a * t + r.o, n, Te) }, T = function (e, t) { G(e, t, { get: function () { return k(this, t) }, set: function (e) { return w(this, t, e) }, enumerable: !0 }) }; y ? (c = o(function (e, o, a, n) { p(e, c, d, '_d'); var r = 0, i = 0, l, s, u, m; if (!x(o)) u = f(o), s = u * t, l = new Q(s); else if (o instanceof Q || (m = v(o)) == V || m == q) { l = o, i = Ee(a, t); var y = o.byteLength; if (void 0 === n) { if (y % t) throw F(Pe); if (s = y - i, 0 > s) throw F(Pe) } else if (s = _(n) * t, s + i > y) throw F(Pe); u = s / t } else return we in o ? Oe(c, o) : ze.call(c, o); for (g(e, '_d', { b: l, o: i, l: s, e: u, v: new $(l) }); r < u;)T(e, r++) }), b = c[J] = C(Ve), g(b, 'constructor', c)) : (!r(function () { c(1) }) || !r(function () { new c(-1) }) || !z(function (e) { new c, new c(null), new c(1.5), new c(e) }, !0)) && (c = o(function (e, o, a, n) { p(e, c, d); var r; return x(o) ? o instanceof Q || (r = v(o)) == V || r == q ? void 0 === n ? void 0 === a ? new u(o) : new u(o, Ee(a, t)) : new u(o, Ee(a, t), n) : we in o ? Oe(c, o) : ze.call(c, o) : new u(f(o)) }), ee(m === Function.prototype ? I(u) : I(u).concat(I(m)), function (e) { e in c || g(c, e, u[e]) }), c[J] = b, !a && (b.constructor = c)); var A = b[be], E = !!A && ('values' == A.name || A.name == void 0), M = He.values; g(c, xe, !0), g(b, we, d), g(b, Ce, !0), g(b, Le, c), (s ? new c(1)[ve] != d : !(ve in b)) && G(b, ve, { get: function () { return d } }), h[d] = c, i(i.G + i.W + i.F * (c != u), h), i(i.S, d, { BYTES_PER_ELEMENT: t }), i(i.S + i.F * r(function () { u.of.call(c, 1) }), d, { from: ze, of: Ne }), K in b || g(b, K, t), i(i.P, d, je), N(d), i(i.P + i.F * Ae, d, { set: Ge }), i(i.P + i.F * !E, d, He), a || b.toString == ye || (b.toString = ye), i(i.P + i.F * r(function () { new c(1).slice() }), d, { slice: Ue }), i(i.P + i.F * (r(function () { return [1, 2].toLocaleString() != new c([1, 2]).toLocaleString() }) || !r(function () { b.toLocaleString.call([1, 2]) })), d, { toLocaleString: Ze }), R[d] = E ? A : M, a || E || g(b, be, M) } } else e.exports = function () { } }, function (e, t, o) { 'use strict'; function a(t, o, a) { var n = Array(a), r = 8 * a - o - 1, l = (1 << r) - 1, d = l >> 1, p = 23 === o ? G(2, -24) - G(2, -77) : 0, g = 0, i = 0 > t || 0 === t && 0 > 1 / t ? 1 : 0, s, u, m; for (t = U(t), t != t || t === B ? (u = t == t ? 0 : 1, s = l) : (s = H(F(t) / Y), 1 > t * (m = G(2, -s)) && (s--, m *= 2), t += 1 <= s + d ? p / m : p * G(2, 1 - d), 2 <= t * m && (s++, m /= 2), s + d >= l ? (u = 0, s = l) : 1 <= s + d ? (u = (t * m - 1) * G(2, o), s += d) : (u = t * G(2, d - 1) * G(2, o), s = 0)); 8 <= o; n[g++] = 255 & u, u /= 256, o -= 8); for (s = s << o | u, r += o; 0 < r; n[g++] = 255 & s, s /= 256, r -= 8); return n[--g] |= 128 * i, n } function n(t, o, a) { var n = 8 * a - o - 1, r = (1 << n) - 1, l = r >> 1, d = n - 7, p = a - 1, i = t[p--], s = 127 & i, e; for (i >>= 7; 0 < d; s = 256 * s + t[p], p--, d -= 8); for (e = s & (1 << -d) - 1, s >>= -d, d += o; 0 < d; e = 256 * e + t[p], p--, d -= 8); if (0 === s) s = 1 - l; else { if (s === r) return e ? NaN : i ? -B : B; e += G(2, o), s -= l } return (i ? -1 : 1) * e * G(2, s - o) } function r(e) { return e[3] << 24 | e[2] << 16 | e[1] << 8 | e[0] } function i(e) { return [255 & e] } function l(e) { return [255 & e, 255 & e >> 8] } function s(e) { return [255 & e, 255 & e >> 8, 255 & e >> 16, 255 & e >> 24] } function d(e) { return a(e, 52, 8) } function p(e) { return a(e, 23, 4) } function c(e, t, o) { I(e[S], t, { get: function () { return this[o] } }) } function g(e, t, o, a) { var n = C(+o); if (n + t > e[J]) throw N(D); var r = e[K]._b, i = n + e[X], l = r.slice(i, i + t); return a ? l : l.reverse() } function u(e, t, o, a, n, r) { var l = C(+o); if (l + t > e[J]) throw N(D); for (var s = e[K]._b, d = l + e[X], p = a(+n), c = 0; c < t; c++)s[d + c] = p[r ? c : t - c - 1] } var m = o(1), _ = o(7), f = o(21), y = o(118), h = o(12), b = o(72), v = o(8), x = o(71), k = o(28), w = o(19), C = o(119), P = o(43).f, I = o(9).f, T = o(74), A = o(40), E = 'ArrayBuffer', M = 'DataView', S = 'prototype', D = 'Wrong index!', O = m[E], R = m[M], z = m.Math, N = m.RangeError, B = m.Infinity, Z = O, U = z.abs, G = z.pow, H = z.floor, F = z.log, Y = z.LN2, W = 'buffer', V = 'byteLength', q = 'byteOffset', K = _ ? '_b' : W, J = _ ? '_l' : V, X = _ ? '_o' : q; if (!y.ABV) O = function (e) { x(this, O, E); var t = C(e); this._b = T.call(Array(t), 0), this[J] = t }, R = function (e, t, o) { x(this, R, M), x(e, O, M); var a = e[J], n = k(t); if (0 > n || n > a) throw N('Wrong offset!'); if (o = void 0 === o ? a - n : w(o), n + o > a) throw N('Wrong length!'); this[K] = e, this[X] = n, this[J] = o }, _ && (c(O, V, '_l'), c(R, W, '_b'), c(R, V, '_l'), c(R, q, '_o')), b(R[S], { getInt8: function (e) { return g(this, 1, e)[0] << 24 >> 24 }, getUint8: function (e) { return g(this, 1, e)[0] }, getInt16: function (e) { var t = g(this, 2, e, arguments[1]); return (t[1] << 8 | t[0]) << 16 >> 16 }, getUint16: function (e) { var t = g(this, 2, e, arguments[1]); return t[1] << 8 | t[0] }, getInt32: function (e) { return r(g(this, 4, e, arguments[1])) }, getUint32: function (e) { return r(g(this, 4, e, arguments[1])) >>> 0 }, getFloat32: function (e) { return n(g(this, 4, e, arguments[1]), 23, 4) }, getFloat64: function (e) { return n(g(this, 8, e, arguments[1]), 52, 8) }, setInt8: function (e, t) { u(this, 1, e, i, t) }, setUint8: function (e, t) { u(this, 1, e, i, t) }, setInt16: function (e, t) { u(this, 2, e, l, t, arguments[2]) }, setUint16: function (e, t) { u(this, 2, e, l, t, arguments[2]) }, setInt32: function (e, t) { u(this, 4, e, s, t, arguments[2]) }, setUint32: function (e, t) { u(this, 4, e, s, t, arguments[2]) }, setFloat32: function (e, t) { u(this, 4, e, p, t, arguments[2]) }, setFloat64: function (e, t) { u(this, 8, e, d, t, arguments[2]) } }); else { if (!v(function () { O(1) }) || !v(function () { new O(-1) }) || v(function () { return new O, new O(1.5), new O(NaN), O.name != E })) { O = function (e) { return x(this, O), new Z(C(e)) }; for (var Q = O[S] = Z[S], $ = P(Z), ee = 0, j; $.length > ee;)(j = $[ee++]) in O || h(O, j, Z[j]); f || (Q.constructor = O) } var te = new R(new O(2)), oe = R[S].setInt8; te.setInt8(0, 2147483648), te.setInt8(1, 2147483649), (te.getInt8(0) || !te.getInt8(1)) && b(R[S], { setInt8: function (e, t) { oe.call(this, e, t << 24 >> 24) }, setUint8: function (e, t) { oe.call(this, e, t << 24 >> 24) } }, !0) } A(O, E), A(R, M), h(R[S], y.VIEW, !0), t[E] = O, t[M] = R }, function (e, t, o) { 'use strict'; var a = o(25), n = o(49), r = o(19); e.exports = [].copyWithin || function (e, t) { var o = a(this), i = r(o.length), l = n(e, i), s = n(t, i), d = 2 < arguments.length ? arguments[2] : void 0, p = Math.min((d === void 0 ? i : n(d, i)) - s, i - l), c = 1; for (s < l && l < s + p && (c = -1, s += p - 1, l += p - 1); 0 < p--;)s in o ? o[l] = o[s] : delete o[l], l += c, s += c; return o } }, function (e) { !function (t) { 'use strict'; function o(e, t, o, a) { var r = t && t.prototype instanceof n ? t : n, i = Object.create(r.prototype), l = new u(a || []); return i._invoke = d(e, o, l), i } function a(e, t, o) { try { return { type: 'normal', arg: e.call(t, o) } } catch (e) { return { type: 'throw', arg: e } } } function n() { } function r() { } function i() { } function l(e) { ['next', 'throw', 'return'].forEach(function (t) { e[t] = function (e) { return this._invoke(t, e) } }) } function s(e) { function t(o, n, r, i) { var l = a(e[o], e, n); if ('throw' === l.type) i(l.arg); else { var s = l.arg, d = s.value; return d && 'object' == typeof d && y.call(d, '__await') ? Promise.resolve(d.__await).then(function (e) { t('next', e, r, i) }, function (e) { t('throw', e, r, i) }) : Promise.resolve(d).then(function (e) { s.value = e, r(s) }, i) } } var o; this._invoke = function (e, a) { function n() { return new Promise(function (o, n) { t(e, a, o, n) }) } return o = o ? o.then(n, n) : n() } } function d(e, t, o) { var n = C; return function (r, i) { if (n == I) throw new Error('Generator is already running'); if (n == T) { if ('throw' === r) throw i; return _() } for (o.method = r, o.arg = i; ;) { var l = o.delegate; if (l) { var s = p(l, o); if (s) { if (s === A) continue; return s } } if ('next' === o.method) o.sent = o._sent = o.arg; else if ('throw' === o.method) { if (n == C) throw n = T, o.arg; o.dispatchException(o.arg) } else 'return' === o.method && o.abrupt('return', o.arg); n = I; var d = a(e, t, o); if ('normal' === d.type) { if (n = o.done ? T : P, d.arg === A) continue; return { value: d.arg, done: o.done } } 'throw' === d.type && (n = T, o.method = 'throw', o.arg = d.arg) } } } function p(e, t) { var o = e.iterator[t.method]; if (void 0 === o) { if (t.delegate = null, 'throw' === t.method) { if (e.iterator.return && (t.method = 'return', t.arg = void 0, p(e, t), 'throw' === t.method)) return A; t.method = 'throw', t.arg = new TypeError('The iterator does not provide a \'throw\' method') } return A } var n = a(o, e.iterator, t.arg); if ('throw' === n.type) return t.method = 'throw', t.arg = n.arg, t.delegate = null, A; var r = n.arg; if (!r) return t.method = 'throw', t.arg = new TypeError('iterator result is not an object'), t.delegate = null, A; if (r.done) t[e.resultName] = r.value, t.next = e.nextLoc, 'return' !== t.method && (t.method = 'next', t.arg = void 0); else return r; return t.delegate = null, A } function c(e) { var t = { tryLoc: e[0] }; 1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t) } function g(e) { var t = e.completion || {}; t.type = 'normal', delete t.arg, e.completion = t } function u(e) { this.tryEntries = [{ tryLoc: 'root' }], e.forEach(c, this), this.reset(!0) } function m(e) { if (e) { var t = e[b]; if (t) return t.call(e); if ('function' == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, a = function t() { for (; ++o < e.length;)if (y.call(e, o)) return t.value = e[o], t.done = !1, t; return t.value = void 0, t.done = !0, t }; return a.next = a } } return { next: _ } } function _() { return { value: void 0, done: !0 } } var f = Object.prototype, y = f.hasOwnProperty, h = 'function' == typeof Symbol ? Symbol : {}, b = h.iterator || '@@iterator', v = h.asyncIterator || '@@asyncIterator', x = h.toStringTag || '@@toStringTag', k = 'object' == typeof e, w = t.regeneratorRuntime; if (w) return void (k && (e.exports = w)); w = t.regeneratorRuntime = k ? e.exports : {}, w.wrap = o; var C = 'suspendedStart', P = 'suspendedYield', I = 'executing', T = 'completed', A = {}, E = {}; E[b] = function () { return this }; var M = Object.getPrototypeOf, S = M && M(M(m([]))); S && S !== f && y.call(S, b) && (E = S); var D = i.prototype = n.prototype = Object.create(E); r.prototype = D.constructor = i, i.constructor = r, i[x] = r.displayName = 'GeneratorFunction', w.isGeneratorFunction = function (e) { var t = 'function' == typeof e && e.constructor; return !!t && (t === r || 'GeneratorFunction' === (t.displayName || t.name)) }, w.mark = function (e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, i) : (e.__proto__ = i, !(x in e) && (e[x] = 'GeneratorFunction')), e.prototype = Object.create(D), e }, w.awrap = function (e) { return { __await: e } }, l(s.prototype), s.prototype[v] = function () { return this }, w.AsyncIterator = s, w.async = function (e, t, a, n) { var r = new s(o(e, t, a, n)); return w.isGeneratorFunction(t) ? r : r.next().then(function (e) { return e.done ? e.value : r.next() }) }, l(D), D[x] = 'Generator', D[b] = function () { return this }, D.toString = function () { return '[object Generator]' }, w.keys = function (e) { var t = []; for (var o in e) t.push(o); return t.reverse(), function o() { for (; t.length;) { var a = t.pop(); if (a in e) return o.value = a, o.done = !1, o } return o.done = !0, o } }, w.values = m, u.prototype = { constructor: u, reset: function (e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = 'next', this.arg = void 0, this.tryEntries.forEach(g), !e) for (var t in this) 't' === t.charAt(0) && y.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0) }, stop: function () { this.done = !0; var e = this.tryEntries[0], t = e.completion; if ('throw' === t.type) throw t.arg; return this.rval }, dispatchException: function (e) { function t(t, a) { return r.type = 'throw', r.arg = e, o.next = t, a && (o.method = 'next', o.arg = void 0), !!a } if (this.done) throw e; for (var o = this, a = this.tryEntries.length - 1; 0 <= a; --a) { var n = this.tryEntries[a], r = n.completion; if ('root' === n.tryLoc) return t('end'); if (n.tryLoc <= this.prev) { var i = y.call(n, 'catchLoc'), l = y.call(n, 'finallyLoc'); if (i && l) { if (this.prev < n.catchLoc) return t(n.catchLoc, !0); if (this.prev < n.finallyLoc) return t(n.finallyLoc) } else if (i) { if (this.prev < n.catchLoc) return t(n.catchLoc, !0); } else if (!l) throw new Error('try statement without catch or finally'); else if (this.prev < n.finallyLoc) return t(n.finallyLoc) } } }, abrupt: function (e, t) { for (var o = this.tryEntries.length - 1, a; 0 <= o; --o)if (a = this.tryEntries[o], a.tryLoc <= this.prev && y.call(a, 'finallyLoc') && this.prev < a.finallyLoc) { var n = a; break } n && ('break' === e || 'continue' === e) && n.tryLoc <= t && t <= n.finallyLoc && (n = null); var r = n ? n.completion : {}; return r.type = e, r.arg = t, n ? (this.method = 'next', this.next = n.finallyLoc, A) : this.complete(r) }, complete: function (e, t) { if ('throw' === e.type) throw e.arg; return 'break' === e.type || 'continue' === e.type ? this.next = e.arg : 'return' === e.type ? (this.rval = this.arg = e.arg, this.method = 'return', this.next = 'end') : 'normal' === e.type && t && (this.next = t), A }, finish: function (e) { for (var t = this.tryEntries.length - 1, o; 0 <= t; --t)if (o = this.tryEntries[t], o.finallyLoc === e) return this.complete(o.completion, o.afterLoc), g(o), A }, catch: function (e) { for (var t = this.tryEntries.length - 1, o; 0 <= t; --t)if (o = this.tryEntries[t], o.tryLoc === e) { var a = o.completion; if ('throw' === a.type) { var n = a.arg; g(o) } return n } throw new Error('illegal catch attempt') }, delegateYield: function (e, t, o) { return this.delegate = { iterator: m(e), resultName: t, nextLoc: o }, 'next' === this.method && (this.arg = void 0), A } } }(function () { return this }() || Function('return this')()) }]);